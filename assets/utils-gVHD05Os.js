import{b as t}from"./react-vendor-BHITmJO2.js";const e=[];for(let g=0;g<256;++g)e.push((g+256).toString(16).slice(1));let n;const o=new Uint8Array(16);const s={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function r(t,r,c){var i;if(s.randomUUID&&!t)return s.randomUUID();const a=(t=t||{}).random??(null==(i=t.rng)?void 0:i.call(t))??function(){if(!n){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");n=crypto.getRandomValues.bind(crypto)}return n(o)}();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=15&a[6]|64,a[8]=63&a[8]|128,function(t,n=0){return(e[t[n+0]]+e[t[n+1]]+e[t[n+2]]+e[t[n+3]]+"-"+e[t[n+4]]+e[t[n+5]]+"-"+e[t[n+6]]+e[t[n+7]]+"-"+e[t[n+8]]+e[t[n+9]]+"-"+e[t[n+10]]+e[t[n+11]]+e[t[n+12]]+e[t[n+13]]+e[t[n+14]]+e[t[n+15]]).toLowerCase()}(a)}const c={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},i={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},a="mousemove",u="mouseup";function p(t,e){if(0===e)return t;const n=Math.PI/180*e;return[t[0]*Math.cos(n)+t[1]*Math.sin(n),t[1]*Math.cos(n)-t[0]*Math.sin(n)]}function l(t,e){const n=e=>{const n="touches"in e;n&&e.touches.length>1||t((t,s)=>{s.trackMouse&&!n&&(document.addEventListener(a,o),document.addEventListener(u,r));const{clientX:c,clientY:l}=n?e.touches[0]:e,d=p([c,l],s.rotationAngle);return s.onTouchStartOrOnMouseDown&&s.onTouchStartOrOnMouseDown({event:e}),Object.assign(Object.assign(Object.assign({},t),i),{initial:d.slice(),xy:d,start:e.timeStamp||0})})},o=e=>{t((t,n)=>{const o="touches"in e;if(o&&e.touches.length>1)return t;if(e.timeStamp-t.start>n.swipeDuration)return t.swiping?Object.assign(Object.assign({},t),{swiping:!1}):t;const{clientX:s,clientY:r}=o?e.touches[0]:e,[i,a]=p([s,r],n.rotationAngle),u=i-t.xy[0],l=a-t.xy[1],d=Math.abs(u),g=Math.abs(l),h=(e.timeStamp||0)-t.start,O=Math.sqrt(d*d+g*g)/(h||1),v=[u/(h||1),l/(h||1)],b=function(t,e,n,o){return t>e?n>0?"Right":"Left":o>0?"Down":"Up"}(d,g,u,l),f="number"==typeof n.delta?n.delta:n.delta[b.toLowerCase()]||c.delta;if(d<f&&g<f&&!t.swiping)return t;const m={absX:d,absY:g,deltaX:u,deltaY:l,dir:b,event:e,first:t.first,initial:t.initial,velocity:O,vxvy:v};m.first&&n.onSwipeStart&&n.onSwipeStart(m),n.onSwiping&&n.onSwiping(m);let w=!1;return(n.onSwiping||n.onSwiped||n[`onSwiped${b}`])&&(w=!0),w&&n.preventScrollOnSwipe&&n.trackTouch&&e.cancelable&&e.preventDefault(),Object.assign(Object.assign({},t),{first:!1,eventData:m,swiping:!0})})},s=e=>{t((t,n)=>{let o;if(t.swiping&&t.eventData){if(e.timeStamp-t.start<n.swipeDuration){o=Object.assign(Object.assign({},t.eventData),{event:e}),n.onSwiped&&n.onSwiped(o);const s=n[`onSwiped${o.dir}`];s&&s(o)}}else n.onTap&&n.onTap({event:e});return n.onTouchEndOrOnMouseUp&&n.onTouchEndOrOnMouseUp({event:e}),Object.assign(Object.assign(Object.assign({},t),i),{eventData:o})})},r=t=>{document.removeEventListener(a,o),document.removeEventListener(u,r),s(t)},l=(t,e)=>{let r=()=>{};if(t&&t.addEventListener){const i=Object.assign(Object.assign({},c.touchEventOptions),e.touchEventOptions),a=[["touchstart",n,i],["touchmove",o,Object.assign(Object.assign({},i),e.preventScrollOnSwipe?{passive:!1}:{})],["touchend",s,i]];a.forEach(([e,n,o])=>t.addEventListener(e,n,o)),r=()=>a.forEach(([e,n])=>t.removeEventListener(e,n))}return r},d={ref:e=>{null!==e&&t((t,n)=>{if(t.el===e)return t;const o={};return t.el&&t.el!==e&&t.cleanUpTouch&&(t.cleanUpTouch(),o.cleanUpTouch=void 0),n.trackTouch&&e&&(o.cleanUpTouch=l(e,n)),Object.assign(Object.assign(Object.assign({},t),{el:e}),o)})}};return e.trackMouse&&(d.onMouseDown=n),[d,l]}function d(e){const{trackMouse:n}=e,o=t.useRef(Object.assign({},i)),s=t.useRef(Object.assign({},c)),r=t.useRef(Object.assign({},s.current));let a;for(a in r.current=Object.assign({},s.current),s.current=Object.assign(Object.assign({},c),e),c)void 0===s.current[a]&&(s.current[a]=c[a]);const[u,p]=t.useMemo(()=>l(t=>o.current=t(o.current,s.current),{trackMouse:n}),[n]);return o.current=function(t,e,n,o){return e.trackTouch&&t.el?t.cleanUpTouch?e.preventScrollOnSwipe!==n.preventScrollOnSwipe||e.touchEventOptions.passive!==n.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:o(t.el,e)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:o(t.el,e)}):(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0}))}(o.current,s.current,r.current,p),u}export{d as u,r as v};
//# sourceMappingURL=utils-gVHD05Os.js.map
