const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SimpleLoginPage-rBfT_hyG.js","assets/react-vendor-BHITmJO2.js","assets/ui-utils-D3bzjhVe.js","assets/storage-BYZjRI_p.js","assets/utils-gVHD05Os.js","assets/auth-DfaNlCNk.js","assets/date-utils-CC6jIWvy.js","assets/WeightPage-B9yFmb2g.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,r,s)=>((t,r,s)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s)(t,"symbol"!=typeof r?r+"":r,s);import{r,c as s,g as o,b as i,N as a,d as n,O as l,u as c,e as m,R as u,B as d}from"./react-vendor-BHITmJO2.js";import{t as p,f as h,g as N,L as f,U as g,h as b,H as x,B as P,C as v,e as j,i as y,j as k,W as E,D as A,X as C,I as w,A as D,k as V,c as Z,S,P as T,T as W,l as F,m as L,n as I,o as M,p as _,q as R,r as G,s as O,u as U,v as B,F as H,w as $,Z as z,x as J,y as q,z as Q,G as K,J as Y,K as X,N as ee,O as te,d as re,Q as se,V as oe,Y as ie,_ as ae,$ as ne,a0 as le,a1 as ce,a2 as me,a3 as ue,a4 as de,a5 as pe,a6 as he,a7 as Ne,a8 as fe,M as ge,a9 as be,aa as xe,ab as Pe,ac as ve,ad as je,ae as ye,af as ke,b as Ee}from"./ui-utils-D3bzjhVe.js";import{D as Ae,c as Ce}from"./storage-BYZjRI_p.js";import{v as we,u as De}from"./utils-gVHD05Os.js";import{c as Ve,_ as Ze}from"./auth-DfaNlCNk.js";import{f as Se,s as Te,a as We,p as Fe,i as Le,b as Ie,c as Me,d as _e,e as Re}from"./date-utils-CC6jIWvy.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var Ge,Oe,Ue={exports:{}},Be={};function He(){return Ge||(Ge=1,function(){var e=r(),t=Symbol.for("react.element"),s=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),n=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),N=Symbol.iterator;var f=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function g(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];!function(e,t,r){var s=f.ReactDebugCurrentFrame.getStackAddendum();""!==s&&(t+="%s",r=r.concat([s]));var o=r.map(function(e){return String(e)});o.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,o)}("error",e,r)}var b;function x(e){return e.displayName||"Context"}function P(e){if(null==e)return null;if("number"==typeof e.tag&&g("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case o:return"Fragment";case s:return"Portal";case a:return"Profiler";case i:return"StrictMode";case m:return"Suspense";case u:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case l:return x(e)+".Consumer";case n:return x(e._context)+".Provider";case c:return function(e,t,r){var s=e.displayName;if(s)return s;var o=t.displayName||t.name||"";return""!==o?r+"("+o+")":r}(e,e.render,"ForwardRef");case d:var t=e.displayName||null;return null!==t?t:P(e.type)||"Memo";case p:var r=e,h=r._payload,N=r._init;try{return P(N(h))}catch(f){return null}}return null}b=Symbol.for("react.module.reference");var v,j,y,k,E,A,C,w=Object.assign,D=0;function V(){}V.__reactDisabledLog=!0;var Z,S=f.ReactCurrentDispatcher;function T(e,t,r){if(void 0===Z)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Z=s&&s[1]||""}return"\n"+Z+e}var W,F=!1,L="function"==typeof WeakMap?WeakMap:Map;function I(e,t){if(!e||F)return"";var r,s=W.get(e);if(void 0!==s)return s;F=!0;var o,i=Error.prepareStackTrace;Error.prepareStackTrace=void 0,o=S.current,S.current=null,function(){if(0===D){v=console.log,j=console.info,y=console.warn,k=console.error,E=console.group,A=console.groupCollapsed,C=console.groupEnd;var e={configurable:!0,enumerable:!0,value:V,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}D++}();try{if(t){var a=function(){throw Error()};if(Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(a,[])}catch(h){r=h}Reflect.construct(e,[],a)}else{try{a.call()}catch(h){r=h}e.call(a.prototype)}}else{try{throw Error()}catch(h){r=h}e()}}catch(N){if(N&&r&&"string"==typeof N.stack){for(var n=N.stack.split("\n"),l=r.stack.split("\n"),c=n.length-1,m=l.length-1;c>=1&&m>=0&&n[c]!==l[m];)m--;for(;c>=1&&m>=0;c--,m--)if(n[c]!==l[m]){if(1!==c||1!==m)do{if(c--,--m<0||n[c]!==l[m]){var u="\n"+n[c].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),"function"==typeof e&&W.set(e,u),u}}while(c>=1&&m>=0);break}}}finally{F=!1,S.current=o,function(){if(0===--D){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:w({},e,{value:v}),info:w({},e,{value:j}),warn:w({},e,{value:y}),error:w({},e,{value:k}),group:w({},e,{value:E}),groupCollapsed:w({},e,{value:A}),groupEnd:w({},e,{value:C})})}D<0&&g("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=i}var d=e?e.displayName||e.name:"",p=d?T(d):"";return"function"==typeof e&&W.set(e,p),p}function M(e,t,r){if(null==e)return"";if("function"==typeof e)return I(e,!(!(s=e.prototype)||!s.isReactComponent));var s;if("string"==typeof e)return T(e);switch(e){case m:return T("Suspense");case u:return T("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case c:return I(e.render,!1);case d:return M(e.type,t,r);case p:var o=e,i=o._payload,a=o._init;try{return M(a(i),t,r)}catch(n){}}return""}W=new L;var _=Object.prototype.hasOwnProperty,R={},G=f.ReactDebugCurrentFrame;function O(e){if(e){var t=e._owner,r=M(e.type,e._source,t?t.type:null);G.setExtraStackFrame(r)}else G.setExtraStackFrame(null)}var U=Array.isArray;function B(e){return U(e)}function H(e){return""+e}function $(e){if(function(e){try{return H(e),!1}catch(Kr){return!0}}(e))return g("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",function(e){return"function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object"}(e)),H(e)}var z,J,q,Q=f.ReactCurrentOwner,K={key:!0,ref:!0,__self:!0,__source:!0};q={};function Y(e,r,s,o,i){var a,n={},l=null,c=null;for(a in void 0!==s&&($(s),l=""+s),function(e){if(_.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}(r)&&($(r.key),l=""+r.key),function(e){if(_.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}(r)&&(c=r.ref,function(e,t){if("string"==typeof e.ref&&Q.current&&t&&Q.current.stateNode!==t){var r=P(Q.current.type);q[r]||(g('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',P(Q.current.type),e.ref),q[r]=!0)}}(r,i)),r)_.call(r,a)&&!K.hasOwnProperty(a)&&(n[a]=r[a]);if(e&&e.defaultProps){var m=e.defaultProps;for(a in m)void 0===n[a]&&(n[a]=m[a])}if(l||c){var u="function"==typeof e?e.displayName||e.name||"Unknown":e;l&&function(e,t){var r=function(){z||(z=!0,g("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};r.isReactWarning=!0,Object.defineProperty(e,"key",{get:r,configurable:!0})}(n,u),c&&function(e,t){var r=function(){J||(J=!0,g("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};r.isReactWarning=!0,Object.defineProperty(e,"ref",{get:r,configurable:!0})}(n,u)}return function(e,r,s,o,i,a,n){var l={$$typeof:t,type:e,key:r,ref:s,props:n,_owner:a,_store:{}};return Object.defineProperty(l._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(l,"_self",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.defineProperty(l,"_source",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.freeze&&(Object.freeze(l.props),Object.freeze(l)),l}(e,l,c,i,o,Q.current,n)}var X,ee=f.ReactCurrentOwner,te=f.ReactDebugCurrentFrame;function re(e){if(e){var t=e._owner,r=M(e.type,e._source,t?t.type:null);te.setExtraStackFrame(r)}else te.setExtraStackFrame(null)}function se(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}function oe(){if(ee.current){var e=P(ee.current.type);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}X=!1;var ie={};function ae(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var r=function(e){var t=oe();if(!t){var r="string"==typeof e?e:e.displayName||e.name;r&&(t="\n\nCheck the top-level render call using <"+r+">.")}return t}(t);if(!ie[r]){ie[r]=!0;var s="";e&&e._owner&&e._owner!==ee.current&&(s=" It was passed a child from "+P(e._owner.type)+"."),re(e),g('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',r,s),re(null)}}}function ne(e,t){if("object"==typeof e)if(B(e))for(var r=0;r<e.length;r++){var s=e[r];se(s)&&ae(s,t)}else if(se(e))e._store&&(e._store.validated=!0);else if(e){var o=function(e){if(null===e||"object"!=typeof e)return null;var t=N&&e[N]||e["@@iterator"];return"function"==typeof t?t:null}(e);if("function"==typeof o&&o!==e.entries)for(var i,a=o.call(e);!(i=a.next()).done;)se(i.value)&&ae(i.value,t)}}function le(e){var t,r=e.type;if(null!=r&&"string"!=typeof r){if("function"==typeof r)t=r.propTypes;else{if("object"!=typeof r||r.$$typeof!==c&&r.$$typeof!==d)return;t=r.propTypes}if(t){var s=P(r);!function(e,t,r,s,o){var i=Function.call.bind(_);for(var a in e)if(i(e,a)){var n=void 0;try{if("function"!=typeof e[a]){var l=Error((s||"React class")+": "+r+" type `"+a+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[a]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw l.name="Invariant Violation",l}n=e[a](t,a,s,r,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(c){n=c}!n||n instanceof Error||(O(o),g("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",s||"React class",r,a,typeof n),O(null)),n instanceof Error&&!(n.message in R)&&(R[n.message]=!0,O(o),g("Failed %s type: %s",r,n.message),O(null))}}(t,e.props,"prop",s,e)}else if(void 0!==r.PropTypes&&!X){X=!0,g("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",P(r)||"Unknown")}"function"!=typeof r.getDefaultProps||r.getDefaultProps.isReactClassApproved||g("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}var ce={};var me=function(e,r,s,N,f,x){var v=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===a||e===i||e===m||e===u||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===d||e.$$typeof===n||e.$$typeof===l||e.$$typeof===c||e.$$typeof===b||void 0!==e.getModuleId)}(e);if(!v){var j="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(j+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var y,k=function(e){return void 0!==e?"\n\nCheck your code at "+e.fileName.replace(/^.*[\\\/]/,"")+":"+e.lineNumber+".":""}(f);j+=k||oe(),null===e?y="null":B(e)?y="array":void 0!==e&&e.$$typeof===t?(y="<"+(P(e.type)||"Unknown")+" />",j=" Did you accidentally export a JSX literal instead of a component?"):y=typeof e,g("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",y,j)}var E=Y(e,r,s,f,x);if(null==E)return E;if(v){var A=r.children;if(void 0!==A)if(N)if(B(A)){for(var C=0;C<A.length;C++)ne(A[C],e);Object.freeze&&Object.freeze(A)}else g("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ne(A,e)}if(_.call(r,"key")){var w=P(e),D=Object.keys(r).filter(function(e){return"key"!==e}),V=D.length>0?"{key: someKey, "+D.join(": ..., ")+": ...}":"{key: someKey}";if(!ce[w+V])g('A props object containing a "key" prop is being spread into JSX:\n  let props = %s;\n  <%s {...props} />\nReact keys must be passed directly to JSX without using spread:\n  let props = %s;\n  <%s key={someKey} {...props} />',V,w,D.length>0?"{"+D.join(": ..., ")+": ...}":"{}",w),ce[w+V]=!0}return e===o?function(e){for(var t=Object.keys(e.props),r=0;r<t.length;r++){var s=t[r];if("children"!==s&&"key"!==s){re(e),g("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",s),re(null);break}}null!==e.ref&&(re(e),g("Invalid attribute `ref` supplied to `React.Fragment`."),re(null))}(E):le(E),E};Be.Fragment=o,Be.jsxDEV=me}()),Be}var $e,ze=(Oe||(Oe=1,Ue.exports=He()),Ue.exports),Je={};var qe=function(){if($e)return Je;$e=1;var e=s(),t=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return Je.createRoot=function(r,s){t.usingClientEntryPoint=!0;try{return e.createRoot(r,s)}finally{t.usingClientEntryPoint=!1}},Je.hydrateRoot=function(r,s,o){t.usingClientEntryPoint=!0;try{return e.hydrateRoot(r,s,o)}finally{t.usingClientEntryPoint=!1}},Je}();const Qe=o(qe);function Ke(e,t){let r;try{r=e()}catch(s){return}return{getItem:e=>{var t;const s=e=>null===e?null:JSON.parse(e,void 0),o=null!=(t=r.getItem(e))?t:null;return o instanceof Promise?o.then(s):s(o)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}const Ye=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then:e=>Ye(e)(r),catch(e){return this}}}catch(Kr){return{then(e){return this},catch:t=>Ye(t)(Kr)}}},Xe=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((e,t)=>(r,s,o)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},a=!1;const n=new Set,l=new Set;let c;try{c=i.getStorage()}catch(f){}if(!c)return e((...e)=>{r(...e)},s,o);const m=Ye(i.serialize),u=()=>{const e=i.partialize({...s()});let t;const r=m({state:e,version:i.version}).then(e=>c.setItem(i.name,e)).catch(e=>{t=e});if(t)throw t;return r},d=o.setState;o.setState=(e,t)=>{d(e,t),u()};const p=e((...e)=>{r(...e),u()},s,o);let h;const N=()=>{var e;if(!c)return;a=!1,n.forEach(e=>e(s()));const t=(null==(e=i.onRehydrateStorage)?void 0:e.call(i,s()))||void 0;return Ye(c.getItem.bind(c))(i.name).then(e=>{if(e)return i.deserialize(e)}).then(e=>{if(e){if("number"!=typeof e.version||e.version===i.version)return e.state;if(i.migrate)return i.migrate(e.state,e.version)}}).then(e=>{var t;return h=i.merge(e,null!=(t=s())?t:p),r(h,!0),u()}).then(()=>{null==t||t(h,void 0),a=!0,l.forEach(e=>e(h))}).catch(e=>{null==t||t(void 0,e)})};return o.persist={setOptions:e=>{i={...i,...e},e.getStorage&&(c=e.getStorage())},clearStorage:()=>{null==c||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>N(),hasHydrated:()=>a,onHydrate:e=>(n.add(e),()=>{n.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},N(),h||p})(e,t):((e,t)=>(r,s,o)=>{let i={storage:Ke(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},a=!1;const n=new Set,l=new Set;let c=i.storage;if(!c)return e((...e)=>{r(...e)},s,o);const m=()=>{const e=i.partialize({...s()});return c.setItem(i.name,{state:e,version:i.version})},u=o.setState;o.setState=(e,t)=>{u(e,t),m()};const d=e((...e)=>{r(...e),m()},s,o);let p;o.getInitialState=()=>d;const h=()=>{var e,t;if(!c)return;a=!1,n.forEach(e=>{var t;return e(null!=(t=s())?t:d)});const o=(null==(t=i.onRehydrateStorage)?void 0:t.call(i,null!=(e=s())?e:d))||void 0;return Ye(c.getItem.bind(c))(i.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===i.version)return[!1,e.state];if(i.migrate)return[!0,i.migrate(e.state,e.version)]}return[!1,void 0]}).then(e=>{var t;const[o,a]=e;if(p=i.merge(a,null!=(t=s())?t:d),r(p,!0),o)return m()}).then(()=>{null==o||o(p,void 0),p=s(),a=!0,l.forEach(e=>e(p))}).catch(e=>{null==o||o(void 0,e)})};return o.persist={setOptions:e=>{i={...i,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>h(),hasHydrated:()=>a,onHydrate:e=>(n.add(e),()=>{n.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},i.skipHydration||h(),p||d})(e,t),et={BASE_URL:"/",DEV:!0,MODE:"production",PROD:!1,SSR:!1,VITE_AI_CHAT_ENABLED:"false"};const tt=new class{constructor(){t(this,"cache",new Map),t(this,"CACHE_DURATION",3e5),t(this,"API_BASE_URL","https://perfectzenkai-api.azurewebsites.net/api")}async getSecret(e){const t=this.cache.get(e);if(t&&Date.now()-t.timestamp<this.CACHE_DURATION)return t.value;{const t=this.getLocalEnvVar(e);if(t)return this.cache.set(e,{value:t,timestamp:Date.now()}),t}try{const t=await fetch(`${this.API_BASE_URL}/get-secret`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({secretName:e})});if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);const r=await t.json();if(!r.value)throw new Error(`Configuration ${e} has no value`);return this.cache.set(e,{value:r.value,timestamp:Date.now()}),r.value}catch(r){const t=this.getLocalEnvVar(e);if(t)return t;throw r}}getLocalEnvVar(e){const t={"supabase-url":"VITE_SUPABASE_URL","supabase-anon-key":"VITE_SUPABASE_ANON_KEY","openai-direct-api-key":"VITE_OPENAI_API_KEY"}[e];if(t)return et[t]}async getSupabaseConfig(){try{const[e,t]=await Promise.all([this.getSecret("supabase-url"),this.getSecret("supabase-anon-key")]);return{url:e,anonKey:t}}catch(e){throw new Error("Could not load Supabase configuration. Please check your environment variables or Azure Function deployment.")}}async getOpenAIKey(){try{const e=await this.getSecret("openai-direct-api-key");return e}catch(e){throw new Error("Could not load OpenAI API key. Please check your environment variables or Azure Function deployment.")}}clearCache(){this.cache.clear()}getConfigSource(){return"Local Environment Variables"}};let rt=null;const st=async()=>(rt||await(async()=>{if(rt)return rt;try{const{url:e,anonKey:t}=await tt.getSupabaseConfig();return rt=Ve(e,t,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),rt}catch(e){return null}})(),rt),ot=rt,it=0,at=1,nt=2,lt=3,ct=it;function mt(e){return e>=ct}function ut(e,...t){mt(it)}function dt(e,...t){mt(at)}function pt(e,...t){mt(nt)}function ht(e,...t){mt(lt)}const Nt=new class{async getSupabase(){try{return await st()}catch(e){return null}}async isSupabaseAvailable(){return!!(await this.getSupabase())}getUnavailableError(){return{code:"SERVICE_UNAVAILABLE",message:"Authentication service is currently unavailable"}}handleNetworkError(e){const t=e;if("invalid_credentials"===(null==t?void 0:t.code))return{code:"INVALID_CREDENTIALS",message:"Invalid email or password"};if("email_not_confirmed"===(null==t?void 0:t.code))return{code:"EMAIL_NOT_CONFIRMED",message:"Please check your email and click the confirmation link"};if("signup_disabled"===(null==t?void 0:t.code))return{code:"SIGNUP_DISABLED",message:"New registrations are currently disabled"};const r="string"==typeof(null==t?void 0:t.message)?t.message:"";return r.includes("fetch")||r.includes("network")||"NETWORK_ERROR"===(null==t?void 0:t.code)?{code:"NETWORK_ERROR",message:"Network connection failed. Please check your internet connection."}:r.includes("timeout")||"AbortError"===(null==t?void 0:t.name)?{code:"TIMEOUT",message:"Request timed out. Please try again."}:"42P01"===(null==t?void 0:t.code)||r.includes("does not exist")?{code:"DATABASE_ERROR",message:"Database configuration error. Please contact support."}:{code:"UNKNOWN_ERROR",message:r||"An unexpected error occurred"}}async register(e,t,r){if(!(await this.isSupabaseAvailable()))return{user:null,error:this.getUnavailableError()};try{const s=await this.getSupabase();if(!s)return{user:null,error:this.getUnavailableError()};const{data:o,error:i}=await s.from("profiles").select("username").eq("username",e).maybeSingle();if(i&&"PGRST116"!==i.code)throw i;if(o)return{user:null,error:{code:"USERNAME_TAKEN",message:"Username already taken"}};const{data:a,error:n}=await s.auth.signUp({email:t,password:r,options:{data:{username:e},emailRedirectTo:void 0}});if(n)throw n;if(!a.user)return{user:null,error:{code:"SIGNUP_FAILED",message:"Registration failed"}};return{user:{id:a.user.id,name:e,email:a.user.email||t},error:null}}catch(s){const e=s;return("string"==typeof(null==e?void 0:e.message)?e.message:"").includes("User already registered")?{user:null,error:{code:"USER_ALREADY_EXISTS",message:"An account with this email already exists. Please try logging in instead."}}:{user:null,error:this.handleNetworkError(s)}}}async login(e,t){var r;if(!this.isSupabaseAvailable())return{user:null,error:this.getUnavailableError()};try{const o=await this.getSupabase();if(!o)return{user:null,error:this.getUnavailableError()};const{data:i,error:a}=await o.auth.signInWithPassword({email:e,password:t});if(a)throw a;if(!i.user)return{user:null,error:{code:"LOGIN_FAILED",message:"Login failed"}};ut(0,i.user.id);let n=null;try{const{data:e,error:t}=await o.from("profiles").select("username").eq("id",i.user.id).single();if(t)throw t;n={username:null==e?void 0:e.username}}catch(s){pt(0)}const l={id:i.user.id,name:(null==n?void 0:n.username)||(null==(r=i.user.user_metadata)?void 0:r.username)||"User",email:i.user.email||e};return dt(0),{user:l,error:null}}catch(o){return ht(0),{user:null,error:this.handleNetworkError(o)}}}async loginWithUsername(e,t){if(!this.isSupabaseAvailable())return ht(),{user:null,error:this.getUnavailableError()};try{ut(0);let s=null,o=null;const i=await this.getSupabase();if(!i)return{user:null,error:this.getUnavailableError()};try{const{data:t,error:r}=await i.from("profiles").select("id, username, email").eq("username",e).single();if(r)throw r;s={id:t.id,username:t.username,email:t.email},o=(null==s?void 0:s.email)||null,ut(0)}catch(r){ut(0)}return s&&o?(ut(0),await this.login(o,t)):(pt(0),{user:null,error:{code:"USER_NOT_FOUND",message:"Username not found"}})}catch(s){return ht(0),{user:null,error:this.handleNetworkError(s)}}}async getCurrentUser(){if(!this.isSupabaseAvailable())return null;try{const e=new Promise((e,t)=>{setTimeout(()=>t(new Error("getCurrentUser timeout")),3e3)}),t=async()=>{var e;const t=await this.getSupabase();if(!t)return null;const{data:{user:r},error:s}=await t.auth.getUser();if(s||!r)return ut(),null;let o=null;try{const e=t.from("profiles").select("username").eq("id",r.id).single(),s=new Promise((e,t)=>{setTimeout(()=>t(new Error("Profile fetch timeout")),2e3)}),{data:i}=await Promise.race([e,s]);o=i?{username:null==i?void 0:i.username}:null}catch(i){pt(0)}return{id:r.id,name:(null==o?void 0:o.username)||(null==(e=r.user_metadata)?void 0:e.username)||"User",email:r.email||""}};return await Promise.race([t(),e])}catch(e){return ht(0),null}}async logout(){if(await this.isSupabaseAvailable())try{const e=await this.getSupabase();if(!e)return;await e.auth.signOut(),dt()}catch(e){ht(0)}}onAuthStateChange(e){return()=>{}}async getSession(){var e;if(!(await this.isSupabaseAvailable()))return null;try{const t=await this.getSupabase();if(!t)return null;const{data:{session:r},error:s}=await t.auth.getSession();return s||!(null==r?void 0:r.user)?(ut(),null):{id:r.user.id,name:(null==(e=r.user.user_metadata)?void 0:e.username)||"User",email:r.user.email||""}}catch(t){return ht(0),null}}};const ft=new class{constructor(){t(this,"USERS_KEY","zenkai_users"),t(this,"CURRENT_USER_KEY","zenkai_current_user")}hashPassword(e){let t=0;for(let r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r),t&=t}return t.toString()}getStoredUsers(){try{const e=localStorage.getItem(this.USERS_KEY);return e?JSON.parse(e):[]}catch{return[]}}saveUsers(e){localStorage.setItem(this.USERS_KEY,JSON.stringify(e))}generateUserId(){return"user_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}async register(e){const t=this.getStoredUsers();if(t.find(t=>t.username===e.username))throw new Error("Username already exists");const r={id:this.generateUserId(),username:e.username,email:e.email,name:e.name||e.username,passwordHash:this.hashPassword(e.password),createdAt:(new Date).toISOString()};t.push(r),this.saveUsers(t);return{id:r.id,email:r.email||"",name:r.name||r.username,username:r.username}}async login(e){const t=this.getStoredUsers(),r=this.hashPassword(e.password),s=t.find(t=>t.username===e.username&&t.passwordHash===r);if(!s)throw new Error("Invalid username or password");const o=`token_${s.id}_${Date.now()}`;localStorage.setItem(this.CURRENT_USER_KEY,JSON.stringify({user:s,token:o,loginTime:Date.now()}));return{user:{id:s.id,email:s.email||"",name:s.name||s.username,username:s.username},token:o}}getCurrentUser(){try{const e=localStorage.getItem(this.CURRENT_USER_KEY);if(!e)return null;const t=JSON.parse(e),r=t.loginTime||0,s=Date.now();if(s-r>6048e5)return this.logout(),null;return{user:{id:t.user.id,email:t.user.email||"",name:t.user.name||t.user.username,username:t.user.username},token:t.token}}catch{return null}}logout(){localStorage.removeItem(this.CURRENT_USER_KEY)}isTokenValid(e){const t=this.getCurrentUser();return(null==t?void 0:t.token)===e}getAllUsernames(){return this.getStoredUsers().map(e=>e.username)}};let gt=null,bt=null;async function xt(){return gt||(bt||(bt=async function(){if(gt)return gt;try{const{url:e,anonKey:t}=await tt.getSupabaseConfig();return gt=Ve(e,t,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),gt}catch(e){return null}}()),await bt)}function Pt(){return gt}class vt extends Ae{constructor(e){super(e?`WeightDatabase_${e}`:"WeightDatabase"),t(this,"weights"),t(this,"goals"),this.version(32).stores({weights:"id, dateISO, kg",goals:"id, targetWeight, goalType, targetDate, startingWeight, isActive, createdAt, updatedAt"})}}let jt;const yt=e=>(jt&&jt.close(),jt=new vt(e),jt),kt=()=>(jt||(jt=new vt),jt),Et={async addWeight(e,t){const r=Pt();if(!r)throw new Error("Supabase not available");const{data:s,error:o}=await r.from("weight_entries").insert({user_id:t,date_iso:e.dateISO,kg:e.kg}).select().single();if(o&&"23505"===o.code){const{data:s,error:o}=await r.from("weight_entries").update({kg:e.kg}).eq("user_id",t).eq("date_iso",e.dateISO).select().single();if(o)throw o;return{id:s.id,dateISO:s.date_iso??"",kg:s.kg??0}}if(o)throw o;return{id:s.id,dateISO:s.date_iso??"",kg:s.kg??0}},async deleteWeight(e){const t=Pt();if(!t)throw new Error("Supabase not available");const{error:r}=await t.from("weight_entries").delete().eq("id",e);if(r)throw r},async getAllWeights(e){const t=Pt();if(!t)throw new Error("Supabase not available");const{data:r,error:s}=await t.from("weight_entries").select("*").eq("user_id",e).order("date_iso",{ascending:!1});if(s)throw s;return(r||[]).map(e=>({id:e.id,dateISO:e.date_iso??"",kg:e.kg??0}))},async getWeightById(e){const t=Pt();if(!t)throw new Error("Supabase not available");const{data:r,error:s}=await t.from("weight_entries").select("*").eq("id",e).single();if(s){if("PGRST116"===s.code)return;throw s}return{id:r.id,dateISO:r.date_iso??"",kg:r.kg??0}},async updateWeight(e,t){const r=Pt();if(!r)throw new Error("Supabase not available");const s={};void 0!==t.dateISO&&(s.date_iso=t.dateISO),void 0!==t.kg&&(s.kg=t.kg);const{data:o,error:i}=await r.from("weight_entries").update(s).eq("id",e).select().single();if(i){if("PGRST116"===i.code)throw new Error("Weight entry not found in cloud storage");throw i}return{id:o.id,dateISO:o.date_iso??"",kg:o.kg??0}},async clearAll(e){const t=Pt();if(!t)throw new Error("Supabase not available");const{error:r}=await t.from("weight_entries").delete().eq("user_id",e);if(r)throw r}},At={async addWeight(e){const t=kt(),r=await t.weights.where("dateISO").equals(e.dateISO).first();if(r){const s={...r,kg:e.kg};return await t.weights.put(s),s}{const r={id:we(),...e};return await t.weights.add(r),r}},async deleteWeight(e){const t=kt();await t.weights.delete(e)},async getAllWeights(){const e=kt();return await e.weights.orderBy("dateISO").reverse().toArray()},async getWeightById(e){const t=kt();return await t.weights.get(e)},async updateWeight(e,t){const r=kt(),s=await r.weights.get(e);if(!s)throw new Error("Weight entry not found");const o={...s,...t};return await r.weights.put(o),o},async clearAll(){const e=kt();await e.weights.clear()}},Ct={async addWeight(e,t){try{if(ot&&t){const r=await Et.addWeight(e,t);return await At.addWeight(e),r}}catch(r){}return await At.addWeight(e)},async deleteWeight(e,t){try{ot&&t&&await Et.deleteWeight(e)}catch(r){}await At.deleteWeight(e)},async getAllWeights(e){try{if(ot&&e)return await Et.getAllWeights(e)}catch(t){}return await At.getAllWeights()},async getWeightById(e,t){try{if(ot&&t)return await Et.getWeightById(e)}catch(r){}return await At.getWeightById(e)},async updateWeight(e,t,r){let s,o=null;if(ot&&r)try{o=await Et.updateWeight(e,t)}catch(i){if(i instanceof Error&&i.message.includes("not found in cloud storage"))try{const s=await At.getWeightById(e);if(s){const e={...s,...t};delete e.id,o=await Et.addWeight(e,r)}}catch(a){}}try{s=await At.updateWeight(e,t)}catch(n){if(!(n instanceof Error&&n.message.includes("Weight entry not found")))throw n;try{if(o)await At.addWeight({dateISO:o.dateISO,kg:o.kg}),s=o;else{const e={dateISO:t.dateISO||(new Date).toISOString().split("T")[0],kg:t.kg||0};s=await At.addWeight(e)}}catch(a){if(o)return o;throw n}}return o||s},async clearAll(e){try{ot&&e&&await Et.clearAll(e)}catch(t){}await At.clearAll()},async syncData(e){if(!ot||!e)return{synced:0,errors:0};let t=0,r=0;try{const o=await Et.getAllWeights(e),i=await At.getAllWeights(),a=new Map(i.map(e=>[e.id,e]));for(const e of o)try{const r=a.get(e.id);r?r.kg===e.kg&&r.dateISO===e.dateISO||(await At.updateWeight(e.id,{dateISO:e.dateISO,kg:e.kg}),t++):(await At.addWeight({dateISO:e.dateISO,kg:e.kg}),t++)}catch(s){r++}return{synced:t,errors:r}}catch(s){return{synced:t,errors:r+1}}}},wt={async addGoal(e,t){const r=Pt();if(!r)throw new Error("Supabase not available");await r.from("weight_goals").update({is_active:!1}).eq("user_id",t).eq("is_active",!0);const{data:s,error:o}=await r.from("weight_goals").insert({user_id:t,goal_type:e.goalType,target_weight:e.targetWeight,target_date:e.targetDate,is_active:!0}).select().single();if(o)throw o;return{id:s.id,goalType:s.goal_type,targetWeight:s.target_weight??0,targetDate:s.target_date??"",isActive:s.is_active??!1,createdAt:s.created_at??(new Date).toISOString(),updatedAt:s.updated_at??(new Date).toISOString()}},async updateGoal(e,t){const r=Pt();if(!r)throw new Error("Supabase not available");const s={};void 0!==t.goalType&&(s.goal_type=t.goalType),void 0!==t.targetWeight&&(s.target_weight=t.targetWeight),void 0!==t.targetDate&&(s.target_date=t.targetDate);const{data:o,error:i}=await r.from("weight_goals").update(s).eq("id",e).select().single();if(i)throw i;return{id:o.id,goalType:o.goal_type,targetWeight:o.target_weight??0,targetDate:o.target_date??"",isActive:o.is_active??!1,createdAt:o.created_at??(new Date).toISOString(),updatedAt:o.updated_at??(new Date).toISOString()}},async getActiveGoal(e){const t=Pt();if(!t)throw new Error("Supabase not available");const{data:r,error:s}=await t.from("weight_goals").select("*").eq("user_id",e).eq("is_active",!0).single();if(s){if("PGRST116"===s.code)return null;throw s}return{id:r.id,goalType:r.goal_type,targetWeight:r.target_weight??0,targetDate:r.target_date??"",isActive:r.is_active??!1,createdAt:r.created_at??(new Date).toISOString(),updatedAt:r.updated_at??(new Date).toISOString()}},async deactivateGoal(e){const t=Pt();if(!t)throw new Error("Supabase not available");const{error:r}=await t.from("weight_goals").update({is_active:!1}).eq("id",e);if(r)throw r},async getAllGoals(e){const t=Pt();if(!t)throw new Error("Supabase not available");const{data:r,error:s}=await t.from("weight_goals").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(s)throw s;return(r||[]).map(e=>({id:e.id,goalType:e.goal_type,targetWeight:e.target_weight??0,targetDate:e.target_date??"",isActive:e.is_active??!1,createdAt:e.created_at??(new Date).toISOString(),updatedAt:e.updated_at??(new Date).toISOString()}))}},Dt={async addGoal(e){const t=kt(),r=await t.goals.where("isActive").equals(1).toArray();for(const o of r)await t.goals.update(o.id,{isActive:!1,updatedAt:(new Date).toISOString()});const s={id:we(),targetWeight:e.targetWeight,goalType:e.goalType,targetDate:e.targetDate,startingWeight:e.startingWeight,isActive:!0,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};return await t.goals.add(s),s},async updateGoal(e,t){const r=kt(),s={...t,updatedAt:(new Date).toISOString()};await r.goals.update(e,s);const o=await r.goals.get(e);if(!o)throw new Error("Goal not found");return o},async getActiveGoal(){const e=kt();return await e.goals.where("isActive").equals(1).first()||null},async deactivateGoal(e){const t=kt();await t.goals.update(e,{isActive:!1,updatedAt:(new Date).toISOString()})},async getAllGoals(){const e=kt();return await e.goals.orderBy("createdAt").reverse().toArray()}},Vt={async addGoal(e,t){try{if(Pt()&&t){const r=await wt.addGoal(e,t);return await Dt.addGoal(e),r}}catch(r){}return await Dt.addGoal(e)},async updateGoal(e,t,r){try{if(ot&&r){const r=await wt.updateGoal(e,t);return await Dt.updateGoal(e,t),r}}catch(s){}return await Dt.updateGoal(e,t)},async getActiveGoal(e){try{if(ot&&e)return await wt.getActiveGoal(e)}catch(t){}return await Dt.getActiveGoal()},async deactivateGoal(e,t){try{ot&&t&&await wt.deactivateGoal(e)}catch(r){}await Dt.deactivateGoal(e)},async getAllGoals(e){try{if(ot&&e)return await wt.getAllGoals(e)}catch(t){}return await Dt.getAllGoals()}};class Zt extends Ae{constructor(e){super(e?`TasksDatabase_${e}`:"TasksDatabase"),t(this,"todos"),t(this,"templates"),this.version(31).stores({todos:"id, text, done, priority, category, dueDate, createdAt, updatedAt",templates:"id, name, createdAt"})}}let St;const Tt=e=>(St&&St.close(),St=new Zt(e),St),Wt=()=>(St||(St=new Zt),St),Ft={async addTodo(e,t){const r=Pt();if(!r)throw new Error("Supabase not available");const{data:s,error:o}=await r.from("todos").insert({user_id:t,text:e.summary,summary:e.summary,done:e.done,priority:e.priority,category:e.category,due_date:e.dueDate||null,created_at:e.createdAt}).select().single();if(o)throw o;const i=[];if(e.subtasks&&e.subtasks.length>0){const{data:t,error:o}=await r.from("subtasks").insert(e.subtasks.map(e=>({todo_id:s.id,text:e.text,done:e.done}))).select();if(o)throw o;i.push(...(t||[]).map(e=>({id:e.id,text:e.text,done:e.done??!1,createdAt:e.created_at??(new Date).toISOString()})))}return{id:s.id,summary:s.summary??s.text??"",description:"",descriptionFormat:"plaintext",done:s.done??!1,priority:s.priority??"medium",category:s.category??"other",points:5,dueDate:s.due_date??void 0,dueDateTime:void 0,subtasks:i,completedAt:void 0,createdAt:s.created_at??(new Date).toISOString(),updatedAt:s.updated_at??(new Date).toISOString()}},async updateTodo(e,t){const r=Pt();if(!r)throw new Error("Supabase not available");const s={};void 0!==t.summary&&(s.text=t.summary,s.summary=t.summary),void 0!==t.done&&(s.done=t.done),void 0!==t.priority&&(s.priority=t.priority),void 0!==t.category&&(s.category=t.category),void 0!==t.dueDate&&(s.due_date=t.dueDate),s.updated_at=(new Date).toISOString();const{error:o}=await r.from("todos").update(s).eq("id",e);if(o)throw o},async deleteTodo(e){const t=Pt();if(!t)throw new Error("Supabase not available");const{error:r}=await t.from("todos").delete().eq("id",e);if(r)throw r},async getAllTodos(e){const t=Pt();if(!t)throw new Error("Supabase not available");const{data:r,error:s}=await t.from("todos").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(s)throw s;const o=(r||[]).map(e=>e.id);let i=[];if(o.length>0){const{data:e,error:r}=await t.from("subtasks").select("*").in("todo_id",o).order("created_at",{ascending:!0});if(r)throw r;i=e||[]}const a=i.reduce((e,t)=>(e[t.todo_id]||(e[t.todo_id]=[]),e[t.todo_id].push({id:t.id,text:t.text,done:t.done,createdAt:t.created_at}),e),{});return(r||[]).map(e=>({id:e.id,summary:e.summary??e.text??"",description:"",descriptionFormat:"plaintext",done:e.done??!1,priority:e.priority??"medium",category:e.category??"other",points:5,dueDate:e.due_date??void 0,dueDateTime:void 0,subtasks:a[e.id]||[],completedAt:void 0,createdAt:e.created_at??(new Date).toISOString(),updatedAt:e.updated_at??(new Date).toISOString()}))},async addSubtask(e,t){const r=Pt();if(!r)throw new Error("Supabase not available");const{data:s,error:o}=await r.from("subtasks").insert({todo_id:e,text:t,done:!1}).select().single();if(o)throw o;return{id:s.id,text:s.text,done:s.done??!1,createdAt:s.created_at??(new Date).toISOString()}},async updateSubtask(e,t){const r=Pt();if(!r)throw new Error("Supabase not available");const{error:s}=await r.from("subtasks").update({text:t.text,done:t.done}).eq("id",e);if(s)throw s},async deleteSubtask(e){const t=Pt();if(!t)throw new Error("Supabase not available");const{error:r}=await t.from("subtasks").delete().eq("id",e);if(r)throw r},async clearAll(e){const t=Pt();if(!t)throw new Error("Supabase not available");const{error:r}=await t.from("todos").delete().eq("user_id",e);if(r)throw r}},Lt={async addTodo(e){const t=Wt(),r=(new Date).toISOString(),s={id:we(),updatedAt:r,...e,subtasks:e.subtasks||[],priority:e.priority||"medium",category:e.category||"other"};return await t.todos.add(s),s},async updateTodo(e,t){const r=Wt(),s={...t,updatedAt:(new Date).toISOString()};await r.todos.update(e,s)},async deleteTodo(e){const t=Wt();await t.todos.delete(e)},async getAllTodos(e){try{const t=Pt();if(t&&e){const{data:r,error:s}=await t.from("todos").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(s)throw s;return(r||[]).map(e=>({id:e.id,summary:e.text??e.summary??"",description:"",descriptionFormat:"plaintext",done:e.done??!1,priority:e.priority??"medium",category:e.category??"other",points:5,dueDate:e.due_date??void 0,dueDateTime:void 0,subtasks:[],completedAt:void 0,createdAt:e.created_at??(new Date).toISOString(),updatedAt:e.updated_at??(new Date).toISOString()}))}}catch(r){}const t=Wt();return await t.todos.orderBy("createdAt").reverse().toArray()},async getTodoById(e){const t=Wt();return await t.todos.get(e)},async getTodosByCategory(e){const t=Wt();return await t.todos.where("category").equals(e).toArray()},async getTodosByPriority(e){const t=Wt();return await t.todos.where("priority").equals(e).toArray()},async getOverdueTodos(){const e=Wt(),t=(new Date).toISOString().split("T")[0];return await e.todos.where("dueDate").below(t).and(e=>!e.done).toArray()},async addSubtask(e,t){const r=Wt(),s=await r.todos.get(e);if(!s)return;const o={id:we(),text:t,done:!1,createdAt:(new Date).toISOString()},i=[...s.subtasks,o];await this.updateTodo(e,{subtasks:i})},async updateSubtask(e,t,r){const s=Wt(),o=await s.todos.get(e);if(!o)return;const i=o.subtasks.map(e=>e.id===t?{...e,...r}:e);await this.updateTodo(e,{subtasks:i})},async deleteSubtask(e,t){const r=Wt(),s=await r.todos.get(e);if(!s)return;const o=s.subtasks.filter(e=>e.id!==t);await this.updateTodo(e,{subtasks:o})},async addTemplate(e){const t=Wt(),r={id:we(),...e};return await t.templates.add(r),r},async updateTemplate(e,t){const r=Wt();await r.templates.update(e,t)},async deleteTemplate(e){const t=Wt();await t.templates.delete(e)},async getAllTemplates(){const e=Wt();return await e.templates.orderBy("createdAt").reverse().toArray()},async getTemplateById(e){const t=Wt();return await t.templates.get(e)},async createTodoFromTemplate(e){const t=await this.getTemplateById(e);if(!t)throw new Error("Template not found");const r={summary:t.name,description:"",descriptionFormat:"plaintext",done:!1,priority:t.priority,category:t.category,points:5,subtasks:t.subtasks.map(e=>({id:we(),text:e.text,done:e.done,createdAt:(new Date).toISOString()})),templateId:t.id,createdAt:(new Date).toISOString()};return await this.addTodo(r)},async clearAll(){const e=Wt();await e.todos.clear(),await e.templates.clear()}},It={async addTodo(e,t){try{if(Pt()&&t){const r=await Ft.addTodo(e,t);return await Lt.addTodo(e),r}}catch(r){}return await Lt.addTodo(e)},async updateTodo(e,t,r){let s=!1;if(Pt()&&r)try{await Ft.updateTodo(e,t),s=!0}catch(o){if(o instanceof Error&&(o.message.includes("not found")||o.message.includes("PGRST116")))try{const o=await Lt.getTodoById(e);if(o){const e={...o,...t};delete e.id;await Ft.addTodo(e,r);s=!0}}catch(i){}}try{await Lt.updateTodo(e,t)}catch(a){throw a}},async deleteTodo(e,t){let r=!1;if(Pt()&&t)try{await Ft.deleteTodo(e),r=!0}catch(s){}try{await Lt.deleteTodo(e)}catch(o){throw o}},async getAllTodos(e){try{if(Pt()&&e){return await Ft.getAllTodos(e)}}catch(t){}return function(e){const t=[];for(const r of e)t.some(e=>{return e.id!==r.id&&(s=r,(t=e).summary===s.summary&&t.description===s.description&&t.done===s.done&&t.priority===s.priority&&t.category===s.category&&t.dueDate===s.dueDate&&JSON.stringify(t.subtasks)===JSON.stringify(s.subtasks));var t,s})||t.push(r);return t}(function(e){const t=new Map;for(const r of e){const e=t.get(r.id);if(e){const s=new Date(e.updatedAt).getTime();new Date(r.updatedAt).getTime()>s&&t.set(r.id,r)}else t.set(r.id,r)}return Array.from(t.values())}(await Lt.getAllTodos()))},async getTodoById(e,t){try{if(Pt()&&t){const r=(await Ft.getAllTodos(t)).find(t=>t.id===e);if(r)return r}}catch(s){}const r=await Lt.getTodoById(e);return r},async syncData(e){if(!Pt()||!e)return{synced:0,errors:0};let t=0,r=0;try{const o=await Ft.getAllTodos(e),i=await Lt.getAllTodos(),a=new Map(i.map(e=>[e.id,e]));for(const e of o)try{const r=a.get(e.id);if(r){const s=new Date(e.updatedAt);s>new Date(r.updatedAt)&&(await Lt.updateTodo(e.id,{summary:e.summary,description:e.description,descriptionFormat:e.descriptionFormat,done:e.done,priority:e.priority,category:e.category,points:e.points,dueDate:e.dueDate,dueDateTime:e.dueDateTime,subtasks:e.subtasks,completedAt:e.completedAt,updatedAt:e.updatedAt}),t++)}else await Lt.addTodo({summary:e.summary,description:e.description,descriptionFormat:e.descriptionFormat,done:e.done,priority:e.priority,category:e.category,points:e.points,dueDate:e.dueDate,dueDateTime:e.dueDateTime,subtasks:e.subtasks,completedAt:e.completedAt,createdAt:e.createdAt}),t++}catch(s){r++}return{synced:t,errors:r}}catch(s){return{synced:t,errors:r+1}}},async addSubtask(e,t,r){try{if(Pt()&&r){const r=await Ft.addSubtask(e,t);return await Lt.addSubtask(e,t),r}}catch(s){}return await Lt.addSubtask(e,t),{id:we(),text:t,done:!1,createdAt:(new Date).toISOString()}},async updateSubtask(e,t,r,s){let o=!1;if(Pt()&&s)try{await Ft.updateSubtask(t,r),o=!0}catch(i){}try{await Lt.updateSubtask(e,t,r)}catch(a){throw a}},async deleteSubtask(e,t,r){let s=!1;if(Pt()&&r)try{await Ft.deleteSubtask(t),s=!0}catch(o){}try{await Lt.deleteSubtask(e,t)}catch(i){throw i}},async clearAll(e){let t=!1;if(Pt()&&e)try{await Ft.clearAll(e),t=!0}catch(r){}try{await Lt.clearAll()}catch(s){throw s}}};class Mt extends Ae{constructor(e){super(e?`NotesDatabase_${e}`:"NotesDatabase"),t(this,"notes"),this.version(33).stores({notes:"id, title, content, createdAt, updatedAt"})}}let _t;const Rt=()=>(_t||(_t=new Mt),_t),Gt={async addNote(e,t){const r=Pt();if(!r)throw new Error("Supabase not available");const{data:s,error:o}=await r.from("notes").insert({user_id:t,title:e.title,content:e.content}).select().single();if(o)throw o;return{id:s.id,title:s.title??"",content:s.content??"",createdAt:s.created_at??(new Date).toISOString(),updatedAt:s.updated_at??(new Date).toISOString()}},async updateNote(e,t){const r=Pt();if(!r)throw new Error("Supabase not available");const{error:s}=await r.from("notes").update({title:t.title,content:t.content}).eq("id",e);if(s)throw s},async deleteNote(e){const t=Pt();if(!t)throw new Error("Supabase not available");const{error:r}=await t.from("notes").delete().eq("id",e);if(r)throw r},async getAllNotes(e){const t=Pt();if(!t)throw new Error("Supabase not available");const{data:r,error:s}=await t.from("notes").select("*").eq("user_id",e).order("updated_at",{ascending:!1});if(s)throw s;return(r||[]).map(e=>({id:e.id,title:e.title??"",content:e.content??"",createdAt:e.created_at??(new Date).toISOString(),updatedAt:e.updated_at??(new Date).toISOString()}))},async getNoteById(e){const t=Pt();if(!t)throw new Error("Supabase not available");const{data:r,error:s}=await t.from("notes").select("*").eq("id",e).single();if(!s)return{id:r.id,title:r.title??"",content:r.content??"",createdAt:r.created_at??(new Date).toISOString(),updatedAt:r.updated_at??(new Date).toISOString()}},async clearAll(e){const t=Pt();if(!t)throw new Error("Supabase not available");const{error:r}=await t.from("notes").delete().eq("user_id",e);if(r)throw r}},Ot={async addNote(e){const t=Rt(),r={id:we(),...e};return await t.notes.add(r),r},async updateNote(e,t){const r=Rt();await r.notes.update(e,{...t,updatedAt:(new Date).toISOString()})},async deleteNote(e){const t=Rt();await t.notes.delete(e)},async getAllNotes(){const e=Rt();return await e.notes.orderBy("updatedAt").reverse().toArray()},async getNoteById(e){const t=Rt();return await t.notes.get(e)},async clearAll(){const e=Rt();await e.notes.clear()}},Ut={async addNote(e,t){try{if(Pt()&&t){const r=await Gt.addNote(e,t);return await Ot.addNote(e),r}}catch(r){}return await Ot.addNote(e)},async updateNote(e,t,r){try{Pt()&&r&&await Gt.updateNote(e,t)}catch(s){}await Ot.updateNote(e,t)},async deleteNote(e,t){try{Pt()&&t&&await Gt.deleteNote(e)}catch(r){}await Ot.deleteNote(e)},async getAllNotes(e){try{if(Pt()&&e)return await Gt.getAllNotes(e)}catch(t){}return await Ot.getAllNotes()},async getNoteById(e,t){try{if(Pt()&&t)return await Gt.getNoteById(e)}catch(r){}return await Ot.getNoteById(e)},async clearAll(e){try{Pt()&&e&&await Gt.clearAll(e)}catch(t){}await Ot.clearAll()}},Bt=e=>{try{yt(e),Tt(e),(e=>{_t&&_t.close(),_t=new Mt(e)})(e)}catch(t){throw t}},Ht=e=>e.replace(/[^a-zA-Z0-9_-]/g,"_");let $t=!1;const zt=Ce()(Xe((e,t)=>({user:null,isAuthenticated:!1,isLoading:!1,error:null,token:null,isCheckingAuth:!1,lastAuthCheck:0,retryCount:0,login:async t=>{e({isLoading:!0,error:null});try{let o=null,i="";if("supabase"==="supabase")try{const{user:e,error:r}=await Nt.loginWithUsername(t.username,t.password);if(r)throw new Error(r.message);o=e,i=(null==o?void 0:o.id)||""}catch(r){try{const e=await(async(e,t=3,r=1e3)=>{let s;for(let i=1;i<=t;i++)try{return await e()}catch(o){if(s=o,i===t)break;const e=r*Math.pow(2,i-1);await new Promise(t=>setTimeout(t,e))}throw s})(()=>ft.login(t));o=e.user,i=e.token}catch(s){const e=r instanceof Error?r.message:"Authentication failed";throw new Error(`Authentication failed: ${e}`)}}if(!o)throw new Error("Login failed - no user returned");e({user:o,token:i,isAuthenticated:!0,isLoading:!1,error:null,retryCount:0});const a=Ht(o.id);Bt(a)}catch(o){e({isLoading:!1,error:o instanceof Error?o.message:"Login failed",user:null,token:null,isAuthenticated:!1})}},register:async t=>{e({isLoading:!0,error:null});try{if(t.password.length<6)throw new Error("Password must be at least 6 characters long");if("supabase"==="supabase"){const{user:e,error:r}=await Nt.register(t.username,t.email,t.password);if(r)throw new Error(r.message);if(!e)throw new Error("Registration failed")}e({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null})}catch(r){e({isLoading:!1,error:r instanceof Error?r.message:"Registration failed",user:null,token:null,isAuthenticated:!1})}},logout:async()=>{var r;const s=t();e({isLoading:!0});try{if(null==(r=s.user)?void 0:r.id)try{const e=Ht(s.user.id);await(async e=>{try{const t=[`WeightDatabase_${e}`,`TasksDatabase_${e}`,`NotesDatabase_${e}`];await Promise.all(t.map(e=>new Promise((t,r)=>{const s=indexedDB.deleteDatabase(e);s.onsuccess=()=>{t()},s.onerror=()=>{r(s.error)}})))}catch(t){throw t}})(e)}catch(o){}const t="supabase";"supabase"===t&&await Nt.logout(),e({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null,isCheckingAuth:!1,lastAuthCheck:0,retryCount:0}),"supabase"===t&&localStorage.clear()}catch(o){e({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null,isCheckingAuth:!1,lastAuthCheck:0,retryCount:0})}},clearError:()=>{e({error:null})},checkAuthStatus:async()=>{const r=t(),s=Date.now();if(!(r.isCheckingAuth||s-r.lastAuthCheck<500))if((e=>!(!(!e.isAuthenticated||e.user&&e.token)||!e.isAuthenticated&&(e.user||e.token)))(r)){e({isCheckingAuth:!0,lastAuthCheck:s});try{let r=null,s="";if("supabase"==="supabase"){const e=t();if($t&&e.user)r=e.user,s=e.token||r.id;else try{const e=new Promise((e,t)=>{setTimeout(()=>t(new Error("Supabase auth timeout")),8e3)});r=await Promise.race([Nt.getSession(),e]),s=(null==r?void 0:r.id)||""}catch(o){try{const e=ft.getCurrentUser();e?(r=e.user,s=e.token):(r=null,s="")}catch(i){r=null,s=""}try{await Nt.logout()}catch(a){}}}if(!r)return void e({isAuthenticated:!1,user:null,token:null,isCheckingAuth:!1,retryCount:0});if(e({isAuthenticated:!0,user:r,token:s,isCheckingAuth:!1,retryCount:0}),null==r?void 0:r.id){const e=Ht(r.id);Bt(e);try{const{initializeTasksStore:e}=await Ze(async()=>{const{initializeTasksStore:e}=await Promise.resolve().then(()=>Xo);return{initializeTasksStore:e}},void 0);await e()}catch(o){}}}catch(o){const r=t().retryCount+1;e(r>=3?{isAuthenticated:!1,user:null,token:null,isCheckingAuth:!1,retryCount:0}:{isCheckingAuth:!1,retryCount:r})}}else e({user:null,token:null,isAuthenticated:!1,error:null})},setUser:async(t,r)=>{if(!t||!r)return;e({user:t,token:r,isAuthenticated:!0,isLoading:!1,error:null,retryCount:0});const s=Ht(t.id);Bt(s);try{const{initializeTasksStore:e}=await Ze(async()=>{const{initializeTasksStore:e}=await Promise.resolve().then(()=>Xo);return{initializeTasksStore:e}},void 0);await e()}catch(o){}},forceLogout:async()=>{try{await Nt.logout()}catch(t){}try{ft.logout()}catch(t){}try{localStorage.clear()}catch(t){}e({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null,isCheckingAuth:!1,lastAuthCheck:0,retryCount:0})}}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token}),onRehydrateStorage:()=>e=>{e&&(e.isAuthenticated=!1,e.isCheckingAuth=!1,e.lastAuthCheck=0,e.retryCount=0,setTimeout(()=>{zt.getState().checkAuthStatus()},100))}}));let Jt=!1;function qt(...e){return p(h(e))}Nt.onAuthStateChange(async e=>{if(!Jt){Jt=!0;try{const t=zt.getState();e&&!t.isAuthenticated?($t=!0,await t.setUser(e,e.id)):!e&&t.isAuthenticated&&($t=!1,await t.logout())}catch(t){}finally{Jt=!1}}});const Qt=i.forwardRef(({className:e,variant:t="default",size:r="default",...s},o)=>ze.jsxDEV("button",{className:qt("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 font-inter",{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline","cyber-ki":"bg-ki-green text-dark-navy font-semibold ki-glow-soft hover:ki-glow hover:scale-105 active:scale-95 neon-button","cyber-magenta":"bg-hyper-magenta text-white font-semibold magenta-glow hover:magenta-glow hover:scale-105 active:scale-95 neon-button","cyber-cyan":"bg-plasma-cyan text-dark-navy font-semibold cyan-glow hover:cyan-glow hover:scale-105 active:scale-95 neon-button","cyber-outline":"border-2 border-ki-green bg-transparent text-ki-green font-semibold hover:bg-ki-green hover:text-dark-navy hover:ki-glow transition-all duration-300 neon-button"}[t],{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}[r],e),ref:o,...s},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/button.tsx",lineNumber:53,columnNumber:7},void 0));Qt.displayName="Button";const Kt=i.forwardRef(({className:e,...t},r)=>ze.jsxDEV("div",{ref:r,className:qt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/card.tsx",lineNumber:8,columnNumber:3},void 0));Kt.displayName="Card";const Yt=i.forwardRef(({className:e,...t},r)=>ze.jsxDEV("div",{ref:r,className:qt("flex flex-col space-y-1.5 p-6",e),...t},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/card.tsx",lineNumber:23,columnNumber:3},void 0));Yt.displayName="CardHeader";const Xt=i.forwardRef(({className:e,...t},r)=>ze.jsxDEV("h3",{ref:r,className:qt("text-2xl font-semibold leading-none tracking-tight",e),...t},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/card.tsx",lineNumber:35,columnNumber:3},void 0));Xt.displayName="CardTitle";const er=i.forwardRef(({className:e,...t},r)=>ze.jsxDEV("p",{ref:r,className:qt("text-sm text-muted-foreground",e),...t},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/card.tsx",lineNumber:50,columnNumber:3},void 0));er.displayName="CardDescription";const tr=i.forwardRef(({className:e,...t},r)=>ze.jsxDEV("div",{ref:r,className:qt("p-6 pt-0",e),...t},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/card.tsx",lineNumber:62,columnNumber:3},void 0));tr.displayName="CardContent";i.forwardRef(({className:e,...t},r)=>ze.jsxDEV("div",{ref:r,className:qt("flex items-center p-6 pt-0",e),...t},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/card.tsx",lineNumber:70,columnNumber:3},void 0)).displayName="CardFooter";const rr=N("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),sr=i.forwardRef(({className:e,variant:t,...r},s)=>ze.jsxDEV("div",{ref:s,role:"alert",className:qt(rr({variant:t}),e),...r},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/alert.tsx",lineNumber:27,columnNumber:3},void 0));sr.displayName="Alert";i.forwardRef(({className:e,...t},r)=>ze.jsxDEV("h5",{ref:r,className:qt("mb-1 font-medium leading-none tracking-tight",e),...t},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/alert.tsx",lineNumber:40,columnNumber:3},void 0)).displayName="AlertTitle";const or=i.forwardRef(({className:e,...t},r)=>ze.jsxDEV("div",{ref:r,className:qt("text-sm [&_p]:leading-relaxed",e),...t},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/alert.tsx",lineNumber:52,columnNumber:3},void 0));or.displayName="AlertDescription";const ir=i.forwardRef(({className:e,type:t,...r},s)=>ze.jsxDEV("input",{type:t,className:qt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...r},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/input.tsx",lineNumber:10,columnNumber:7},void 0));ir.displayName="Input";const ar=i.forwardRef(({className:e,...t},r)=>ze.jsxDEV("label",{ref:r,className:qt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/label.tsx",lineNumber:9,columnNumber:5},void 0));function nr({children:e}){const{isAuthenticated:t,isLoading:r,isCheckingAuth:s,checkAuthStatus:o,user:n,token:l}=zt(),c=i.useRef(!1),[m,u]=i.useState(null),d=i.useCallback(()=>{if(!c.current){c.current=!0,o();const e=setTimeout(()=>{zt.setState({isAuthenticated:!1,isCheckingAuth:!1,isLoading:!1,user:null,token:null})},1e4);u(e)}},[o]);return i.useEffect(()=>(d(),()=>{m&&clearTimeout(m)}),[d,m]),i.useEffect(()=>{!s&&m&&(clearTimeout(m),u(null))},[s,m]),r||s?ze.jsxDEV("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 dark:bg-gray-900",children:ze.jsxDEV("div",{className:"space-y-4 text-center",children:[ze.jsxDEV(f,{className:"mx-auto h-8 w-8 animate-spin text-blue-600"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/auth/components/ProtectedRoute.tsx",lineNumber:70,columnNumber:11},this),ze.jsxDEV("div",{children:[ze.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:s?"Verifying session...":"Loading..."},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/auth/components/ProtectedRoute.tsx",lineNumber:72,columnNumber:13},this),ze.jsxDEV("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:s?"Please wait while we verify your authentication status":"Checking your authentication status"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/auth/components/ProtectedRoute.tsx",lineNumber:75,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/auth/components/ProtectedRoute.tsx",lineNumber:71,columnNumber:11},this),(s||r)&&ze.jsxDEV("button",{onClick:()=>{zt.getState().forceLogout()},className:"mt-4 px-4 py-2 text-sm text-gray-500 hover:text-gray-700 underline",children:"Having trouble? Click here to reset"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/auth/components/ProtectedRoute.tsx",lineNumber:85,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/auth/components/ProtectedRoute.tsx",lineNumber:69,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/auth/components/ProtectedRoute.tsx",lineNumber:68,columnNumber:7},this):(t||!n&&!l||s||zt.setState({user:null,token:null,isAuthenticated:!1,error:null}),t?ze.jsxDEV(ze.Fragment,{children:e},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/auth/components/ProtectedRoute.tsx",lineNumber:118,columnNumber:10},this):ze.jsxDEV(a,{to:"/login",replace:!0},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/auth/components/ProtectedRoute.tsx",lineNumber:114,columnNumber:12},this))}ar.displayName="Label";const lr=i.lazy(()=>Ze(()=>import("./SimpleLoginPage-rBfT_hyG.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),cr=[{path:"/login",element:ze.jsxDEV(lr,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/auth/routes.tsx",lineNumber:10,columnNumber:14},void 0)}];function mr(){const{user:e,logout:t}=zt(),r=({to:e,icon:t,label:r})=>ze.jsxDEV(n,{to:e,className:({isActive:e})=>`\n        flex flex-col items-center justify-center p-2 min-h-[48px] min-w-[48px] rounded-lg transition-all duration-200\n        ${e?"text-green-500 bg-green-500/10 border border-green-500/20":"text-gray-500 hover:text-white hover:bg-white/5"}\n        active:scale-95 touch-manipulation\n      `,children:[ze.jsxDEV(t,{className:"h-5 w-5 mb-1 sm:h-6 sm:w-6"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/NavigationBar.tsx",lineNumber:48,columnNumber:7},this),ze.jsxDEV("span",{className:"text-xs font-semibold leading-tight",children:r},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/NavigationBar.tsx",lineNumber:49,columnNumber:7},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/app/NavigationBar.tsx",lineNumber:37,columnNumber:5},this);return ze.jsxDEV(ze.Fragment,{children:[ze.jsxDEV("div",{className:"fixed inset-x-0 top-0 z-50 border-b border-gray-700 bg-gray-900 safe-area-top",children:ze.jsxDEV("div",{className:"flex h-14 items-center justify-between px-4 sm:px-6",children:[ze.jsxDEV("div",{className:"flex items-center gap-3",children:[ze.jsxDEV("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-green-500 flex-shrink-0",children:ze.jsxDEV(g,{className:"h-4 w-4 text-black"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/NavigationBar.tsx",lineNumber:60,columnNumber:15},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/NavigationBar.tsx",lineNumber:59,columnNumber:13},this),ze.jsxDEV("div",{className:"min-w-0 flex-1",children:[ze.jsxDEV("div",{className:"text-sm font-semibold text-white truncate",children:(null==e?void 0:e.name)||(null==e?void 0:e.username)||"User"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/NavigationBar.tsx",lineNumber:63,columnNumber:15},this),ze.jsxDEV("div",{className:"text-xs text-gray-400",children:"Online"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/NavigationBar.tsx",lineNumber:66,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/app/NavigationBar.tsx",lineNumber:62,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/app/NavigationBar.tsx",lineNumber:58,columnNumber:11},this),ze.jsxDEV(Qt,{onClick:async()=>{confirm("Are you sure you want to log out? This will clear all your local data.")&&await t()},variant:"ghost",size:"sm",className:"text-xs text-gray-400 hover:text-red-400 flex-shrink-0 min-h-[32px] px-2 sm:px-3",children:[ze.jsxDEV(b,{className:"mr-1 h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/NavigationBar.tsx",lineNumber:78,columnNumber:13},this),ze.jsxDEV("span",{className:"hidden sm:inline",children:"Logout"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/NavigationBar.tsx",lineNumber:79,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/app/NavigationBar.tsx",lineNumber:72,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/app/NavigationBar.tsx",lineNumber:57,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/NavigationBar.tsx",lineNumber:56,columnNumber:7},this),ze.jsxDEV("div",{className:"fixed inset-x-0 bottom-0 z-40 bg-gray-900 border-t border-gray-700 safe-area-bottom",children:ze.jsxDEV("div",{className:"flex h-16 sm:h-18 items-center justify-around px-2 sm:px-4 max-w-md mx-auto sm:max-w-2xl",children:[ze.jsxDEV(r,{to:"/",icon:x,label:"Home"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/NavigationBar.tsx",lineNumber:87,columnNumber:11},this),ze.jsxDEV(r,{to:"/health",icon:P,label:"Health"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/NavigationBar.tsx",lineNumber:88,columnNumber:11},this),ze.jsxDEV(r,{to:"/todo",icon:v,label:"Todo"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/NavigationBar.tsx",lineNumber:89,columnNumber:11},this),ze.jsxDEV(r,{to:"/goals",icon:j,label:"Goals"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/NavigationBar.tsx",lineNumber:90,columnNumber:11},this),ze.jsxDEV(r,{to:"/daily-standup",icon:y,label:"Standup"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/NavigationBar.tsx",lineNumber:91,columnNumber:11},this),ze.jsxDEV(r,{to:"/chat",icon:k,label:"AI Chat"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/NavigationBar.tsx",lineNumber:92,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/app/NavigationBar.tsx",lineNumber:86,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/NavigationBar.tsx",lineNumber:85,columnNumber:7},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/app/NavigationBar.tsx",lineNumber:54,columnNumber:5},this)}function ur(){return null}function dr(){return function(){const[e,t]=i.useState(navigator.onLine);return i.useEffect(()=>{const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e),window.addEventListener("offline",r),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}},[]),e}()?null:ze.jsxDEV("div",{className:"fixed left-0 right-0 top-0 z-50 bg-red-600 px-4 py-2 text-white duration-300 animate-in slide-in-from-top",children:ze.jsxDEV("div",{className:"container mx-auto flex items-center justify-center gap-2 text-sm",children:[ze.jsxDEV(E,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/components/OfflineBanner.tsx",lineNumber:14,columnNumber:9},this),ze.jsxDEV("span",{children:"You're offline"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/components/OfflineBanner.tsx",lineNumber:15,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/app/components/OfflineBanner.tsx",lineNumber:13,columnNumber:7},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/components/OfflineBanner.tsx",lineNumber:12,columnNumber:5},this)}function pr({open:e,onOpenChange:t,children:r}){return ze.jsxDEV(ze.Fragment,{children:e&&r},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/sheet.tsx",lineNumber:15,columnNumber:10},this)}const hr=({side:e="bottom",className:t,...r})=>{const s="bottom"===e?"inset-x-0 bottom-0":"top"===e?"inset-x-0 top-0":"left"===e?"inset-y-0 left-0":"inset-y-0 right-0";return ze.jsxDEV("div",{className:qt("slide-in-from- fixed z-50 bg-background shadow-lg transition-transform animate-in"+e+"-5",s,t),...r},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/sheet.tsx",lineNumber:37,columnNumber:5},void 0)},Nr=({className:e,...t})=>ze.jsxDEV("div",{className:qt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/sheet.tsx",lineNumber:54,columnNumber:3},void 0),fr=({className:e,...t})=>ze.jsxDEV("h2",{className:qt("text-lg font-semibold",e),...t},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/sheet.tsx",lineNumber:66,columnNumber:7},void 0),gr=({className:e,...t})=>ze.jsxDEV("p",{className:qt("text-sm text-muted-foreground",e),...t},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/sheet.tsx",lineNumber:71,columnNumber:3},void 0),br="perfect-zenkai-install-declined";const xr="perfect-zenkai-first-visit";function Pr(){const[e,t]=i.useState(!1),{isInstallable:r,showInstallPrompt:s,declineInstallPrompt:o}=function(){const[e,t]=i.useState(null),[r,s]=i.useState(!1),[o,a]=i.useState(!1);return i.useEffect(()=>{"true"===localStorage.getItem(br)&&a(!0);const e=e=>{e.preventDefault(),t(e),s(!0)},r=()=>{t(null),s(!1),localStorage.removeItem(br),a(!1)};return window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",r),()=>{window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",r)}},[]),{deferredPrompt:e,isInstallable:r&&!o,isInstallPromptDeclined:o,showInstallPrompt:async()=>{if(!e)return!1;try{return await e.prompt(),"accepted"===(await e.userChoice).outcome&&(t(null),s(!1),!0)}catch(r){return!1}},declineInstallPrompt:()=>{localStorage.setItem(br,"true"),a(!0)},clearDeclineState:()=>{localStorage.removeItem(br),a(!1)}}}();i.useEffect(()=>{if(!localStorage.getItem(xr)&&r){localStorage.setItem(xr,"true");const e=setTimeout(()=>{t(!0)},3e4);return()=>clearTimeout(e)}},[r]);const a=()=>{o(),t(!1)};return r&&e?ze.jsxDEV(pr,{open:e,onOpenChange:()=>{a()},children:ze.jsxDEV(hr,{side:"bottom",className:"h-auto",children:[ze.jsxDEV(Nr,{children:[ze.jsxDEV(fr,{className:"flex items-center gap-2",children:[ze.jsxDEV(A,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/components/InstallSheet.tsx",lineNumber:64,columnNumber:13},this),"Install Perfect Zenkai"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/app/components/InstallSheet.tsx",lineNumber:63,columnNumber:11},this),ze.jsxDEV(gr,{children:"Install the app on your device for quick access and a better experience. You can access it from your home screen just like any other app."},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/components/InstallSheet.tsx",lineNumber:67,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/app/components/InstallSheet.tsx",lineNumber:62,columnNumber:9},this),ze.jsxDEV("div",{className:"mt-6 flex gap-3",children:[ze.jsxDEV(Qt,{onClick:async()=>{await s()&&t(!1)},className:"flex-1",children:[ze.jsxDEV(A,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/components/InstallSheet.tsx",lineNumber:76,columnNumber:13},this),"Install App"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/app/components/InstallSheet.tsx",lineNumber:75,columnNumber:11},this),ze.jsxDEV(Qt,{variant:"outline",onClick:a,className:"flex-1",children:[ze.jsxDEV(C,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/components/InstallSheet.tsx",lineNumber:80,columnNumber:13},this),"Later"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/app/components/InstallSheet.tsx",lineNumber:79,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/app/components/InstallSheet.tsx",lineNumber:74,columnNumber:9},this),ze.jsxDEV("div",{className:"mt-4 text-center text-xs text-muted-foreground",children:"You can always install later from your browser's menu"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/components/InstallSheet.tsx",lineNumber:85,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/app/components/InstallSheet.tsx",lineNumber:61,columnNumber:7},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/components/InstallSheet.tsx",lineNumber:60,columnNumber:5},this):null}function vr(){const[e,t]=i.useState(!1),[r,s]=i.useState(null);i.useEffect(()=>{const e=e=>{e.preventDefault(),s(e)},t=()=>{s(null)};return window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",t),()=>{window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",t)}},[]);return ze.jsxDEV(ze.Fragment,{children:[ze.jsxDEV("button",{onClick:()=>t(!e),className:"fixed bottom-4 right-4 bg-purple-600 hover:bg-purple-500 text-white p-2 rounded-full z-50 text-xs font-bold shadow-lg",title:e?"Hide Install Debug":"Show Install Debug",children:""},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/components/ForceInstallButton.tsx",lineNumber:61,columnNumber:7},this),e&&ze.jsxDEV("div",{className:"fixed bottom-16 right-4 bg-gray-800 text-white p-4 rounded-lg text-xs max-w-sm z-50 shadow-xl border border-gray-600",children:[ze.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[ze.jsxDEV("h3",{className:"font-bold text-purple-400",children:" PWA Install Debug"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/components/ForceInstallButton.tsx",lineNumber:73,columnNumber:13},this),ze.jsxDEV("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-white text-lg leading-none",title:"Close",children:""},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/components/ForceInstallButton.tsx",lineNumber:74,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/app/components/ForceInstallButton.tsx",lineNumber:72,columnNumber:11},this),ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV("div",{className:"px-2 py-1 rounded text-xs "+(r?"bg-green-600":"bg-gray-600"),children:["Install Prompt: ",r?" Available":" Not Available"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/app/components/ForceInstallButton.tsx",lineNumber:84,columnNumber:13},this),ze.jsxDEV("button",{onClick:async()=>{if(r)try{await r.prompt();const{outcome:e}=await r.userChoice}catch(e){}else if("serviceWorker"in navigator)try{await navigator.serviceWorker.register("/sw.js")}catch(e){}},className:"w-full bg-purple-600 hover:bg-purple-500 px-3 py-2 rounded text-xs font-medium",children:r?" Install PWA":" Register SW"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/components/ForceInstallButton.tsx",lineNumber:88,columnNumber:13},this),ze.jsxDEV("button",{onClick:()=>window.open("/pwa-debug.html","_blank"),className:"w-full bg-blue-600 hover:bg-blue-500 px-3 py-2 rounded text-xs",children:" Open Debug Page"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/components/ForceInstallButton.tsx",lineNumber:95,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/app/components/ForceInstallButton.tsx",lineNumber:83,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/app/components/ForceInstallButton.tsx",lineNumber:71,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/app/components/ForceInstallButton.tsx",lineNumber:59,columnNumber:5},this)}const jr=i.createContext(null);function yr({children:e}){const[t,r]=i.useState([]),s=i.useCallback(e=>{const t=Math.random().toString(36).substr(2,9),s={...e,id:t};r(e=>[...e,s]),setTimeout(()=>{r(e=>e.filter(e=>e.id!==t))},e.duration||4e3)},[]),o=i.useCallback(e=>{r(t=>t.filter(t=>t.id!==e))},[]);return ze.jsxDEV(jr.Provider,{value:{toasts:t,addToast:s,removeToast:o},children:[e,ze.jsxDEV(kr,{toasts:t,removeToast:o},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/toast.tsx",lineNumber:28,columnNumber:7},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/toast.tsx",lineNumber:26,columnNumber:5},this)}function kr({toasts:e,removeToast:t}){return ze.jsxDEV("div",{className:"pointer-events-none fixed right-4 top-4 z-[100] flex flex-col gap-2",children:e.map(e=>ze.jsxDEV(Er,{toast:e,onRemove:()=>t(e.id)},e.id,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/toast.tsx",lineNumber:44,columnNumber:9},this))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/toast.tsx",lineNumber:42,columnNumber:5},this)}function Er({toast:e,onRemove:t}){const[r,s]=i.useState(!1);i.useEffect(()=>{const e=setTimeout(()=>s(!0),50);return()=>clearTimeout(e)},[]);const o={success:{icon:Z,colors:"bg-gray-900 border-ki-green text-ki-green ki-glow-soft",iconColor:"text-ki-green"},error:{icon:V,colors:"bg-gray-900 border-red-400 text-red-400 shadow-[0_0_12px_rgba(239,68,68,0.3)]",iconColor:"text-red-400"},warning:{icon:D,colors:"bg-gray-900 border-yellow-400 text-yellow-400 shadow-[0_0_12px_rgba(251,191,36,0.3)]",iconColor:"text-yellow-400"},info:{icon:w,colors:"bg-gray-900 border-plasma-cyan text-plasma-cyan cyan-glow",iconColor:"text-plasma-cyan"}}[e.variant||"info"],a=o.icon;return ze.jsxDEV("div",{className:qt("pointer-events-auto relative flex w-80 items-start gap-3 rounded-lg border p-4 transition-all duration-200 ease-out",o.colors,r?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:[ze.jsxDEV(a,{className:qt("cyber-icon mt-0.5 h-5 w-5",o.iconColor)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/toast.tsx",lineNumber:112,columnNumber:7},this),ze.jsxDEV("div",{className:"flex-1 space-y-1",children:[e.title&&ze.jsxDEV("div",{className:"font-inter text-sm font-semibold",children:e.title},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/toast.tsx",lineNumber:117,columnNumber:11},this),e.description&&ze.jsxDEV("div",{className:"font-mono text-sm opacity-90",children:e.description},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/toast.tsx",lineNumber:120,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/toast.tsx",lineNumber:115,columnNumber:7},this),ze.jsxDEV("button",{onClick:()=>{s(!1),setTimeout(t,200)},className:"opacity-60 transition-opacity hover:opacity-100",children:ze.jsxDEV(C,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/toast.tsx",lineNumber:131,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/toast.tsx",lineNumber:127,columnNumber:7},this),ze.jsxDEV("div",{className:qt("absolute bottom-0 left-0 top-0 w-1 rounded-l-lg","success"===e.variant&&"bg-ki-green","error"===e.variant&&"bg-red-400","warning"===e.variant&&"bg-yellow-400","info"===e.variant&&"bg-plasma-cyan")},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/toast.tsx",lineNumber:135,columnNumber:7},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/toast.tsx",lineNumber:104,columnNumber:5},this)}function Ar(){return null}function Cr(){return ze.jsxDEV(yr,{children:ze.jsxDEV("div",{className:"min-h-screen bg-background",children:[ze.jsxDEV(dr,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/AppLayout.tsx",lineNumber:16,columnNumber:9},this),ze.jsxDEV(mr,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/AppLayout.tsx",lineNumber:19,columnNumber:9},this),ze.jsxDEV("main",{className:"px-4 sm:px-6 pb-20 sm:pb-24 pt-16 sm:pt-20 max-w-7xl mx-auto",children:ze.jsxDEV("div",{className:"min-h-[calc(100vh-10rem)] sm:min-h-[calc(100vh-12rem)]",children:ze.jsxDEV(l,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/AppLayout.tsx",lineNumber:24,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/AppLayout.tsx",lineNumber:23,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/AppLayout.tsx",lineNumber:22,columnNumber:9},this),ze.jsxDEV(ur,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/AppLayout.tsx",lineNumber:29,columnNumber:9},this),ze.jsxDEV(Pr,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/AppLayout.tsx",lineNumber:32,columnNumber:9},this),ze.jsxDEV(ze.Fragment,{children:[ze.jsxDEV(vr,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/AppLayout.tsx",lineNumber:40,columnNumber:13},this),ze.jsxDEV(Ar,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/AppLayout.tsx",lineNumber:41,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/app/AppLayout.tsx",lineNumber:39,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/app/AppLayout.tsx",lineNumber:14,columnNumber:7},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/AppLayout.tsx",lineNumber:13,columnNumber:5},this)}const wr=Ce(e=>({weights:[],activeGoal:null,isLoading:!1,isGoalLoading:!1,error:null,goalError:null,addWeight:async t=>{try{e({isLoading:!0,error:null});const r=zt.getState().user,s=null==r?void 0:r.id,o=await Ct.addWeight(t,s);e(e=>{const t=e.weights.findIndex(e=>e.dateISO===o.dateISO);let r;return t>=0?(r=[...e.weights],r[t]=o):r=[o,...e.weights],{weights:r.sort((e,t)=>new Date(t.dateISO).getTime()-new Date(e.dateISO).getTime()),isLoading:!1}});const i=(new Date).toISOString().split("T")[0];o.dateISO===i&&localStorage.setItem(`weight-logged-${i}`,"true"),ut(0)}catch(r){throw ht(0),e({error:r instanceof Error?r.message:"Failed to add weight",isLoading:!1}),r}},updateWeight:async(t,r)=>{try{e({isLoading:!0,error:null});const s=zt.getState().user,o=null==s?void 0:s.id,i=await Ct.updateWeight(t,r,o);e(e=>({weights:e.weights.map(e=>e.id===t?i:e).sort((e,t)=>new Date(t.dateISO).getTime()-new Date(e.dateISO).getTime()),isLoading:!1})),ut(0)}catch(s){ht(0);let t="Failed to update weight";throw s instanceof Error&&(t=s.message.includes("Weight entry not found")?"Weight entry not found. It may have been deleted or is out of sync.":s.message.includes("not found in cloud storage")?"Entry updated locally but failed to sync to cloud.":s.message),e({error:t,isLoading:!1}),s}},deleteWeight:async t=>{try{e({isLoading:!0,error:null});const r=zt.getState().user,s=null==r?void 0:r.id;await Ct.deleteWeight(t,s),e(e=>({weights:e.weights.filter(e=>e.id!==t),isLoading:!1}))}catch(r){throw e({error:r instanceof Error?r.message:"Failed to delete weight",isLoading:!1}),r}},loadWeights:async()=>{try{e({isLoading:!0,error:null});const r=zt.getState().user,s=null==r?void 0:r.id;if(s){yt(s);try{(await Ct.syncData(s)).synced}catch(t){}}const o=await Ct.getAllWeights(s);e({weights:o.sort((e,t)=>new Date(t.dateISO).getTime()-new Date(e.dateISO).getTime()),isLoading:!1})}catch(r){e({error:r instanceof Error?r.message:"Failed to load weights",isLoading:!1})}},clearWeights:async()=>{try{e({isLoading:!0,error:null});const t=zt.getState().user,r=null==t?void 0:t.id;await Ct.clearAll(r),e({weights:[],isLoading:!1})}catch(t){throw e({error:t instanceof Error?t.message:"Failed to clear weights",isLoading:!1}),t}},refreshWeights:async()=>{try{e({isLoading:!0,error:null});const t=zt.getState().user,r=null==t?void 0:t.id,s=await Ct.getAllWeights(r);e({weights:s.sort((e,t)=>new Date(t.dateISO).getTime()-new Date(e.dateISO).getTime()),isLoading:!1})}catch(t){e({error:t instanceof Error?t.message:"Failed to refresh weights",isLoading:!1})}},syncData:async()=>{const t=zt.getState().user,r=null==t?void 0:t.id,s=await Ct.syncData(r);if(s.synced>0){const t=await Ct.getAllWeights(r);e(()=>({weights:t.sort((e,t)=>new Date(t.dateISO).getTime()-new Date(e.dateISO).getTime())}))}return s},setGoal:async t=>{try{e({isGoalLoading:!0,goalError:null});const r=zt.getState().user,s=null==r?void 0:r.id,o=await Vt.addGoal(t,s);e({activeGoal:o,isGoalLoading:!1})}catch(r){throw e({goalError:r instanceof Error?r.message:"Failed to set goal",isGoalLoading:!1}),r}},updateGoal:async(t,r)=>{try{e({isGoalLoading:!0,goalError:null});const s=zt.getState().user,o=null==s?void 0:s.id,i=await Vt.updateGoal(t,r,o);e({activeGoal:i,isGoalLoading:!1})}catch(s){throw e({goalError:s instanceof Error?s.message:"Failed to update goal",isGoalLoading:!1}),s}},loadActiveGoal:async()=>{try{e({isGoalLoading:!0,goalError:null});const t=zt.getState().user,r=null==t?void 0:t.id,s=await Vt.getActiveGoal(r);e({activeGoal:s,isGoalLoading:!1})}catch(t){e({goalError:t instanceof Error?t.message:"Failed to load goal",isGoalLoading:!1})}},deactivateGoal:async t=>{try{e({isGoalLoading:!0,goalError:null});const r=zt.getState().user,s=null==r?void 0:r.id;await Vt.deactivateGoal(t,s),e({activeGoal:null,isGoalLoading:!1})}catch(r){throw e({goalError:r instanceof Error?r.message:"Failed to deactivate goal",isGoalLoading:!1}),r}}})),Dr=Ce((e,t)=>({meals:[],analytics:null,suggestions:null,isLoading:!1,isAnalyticsLoading:!1,isSuggestionsLoading:!1,error:null,loadMeals:async()=>{e({isLoading:!0,error:null});try{e({meals:[],isLoading:!1})}catch(t){e({error:t instanceof Error?t.message:"Failed to load meals",isLoading:!1})}},addMeal:async r=>{e({isLoading:!0,error:null});try{const s={id:crypto.randomUUID(),userId:void 0,type:r.type,timestamp:r.timestamp||(new Date).toISOString(),foods:r.foods.map(e=>({...e,id:crypto.randomUUID()})),photos:r.photos,notes:r.notes,location:r.location,nutrition:{calories:r.foods.reduce((e,t)=>e+t.calories,0),protein:r.foods.reduce((e,t)=>e+t.macros.protein,0),carbs:r.foods.reduce((e,t)=>e+t.macros.carbs,0),fat:r.foods.reduce((e,t)=>e+t.macros.fat,0),fiber:r.foods.reduce((e,t)=>e+t.macros.fiber,0)},context:r.context?{location:r.context.location,voiceNotes:r.context.voiceNotes,tags:r.context.tags||[],mood:r.context.mood,hunger:r.context.hunger,satisfaction:r.context.satisfaction}:void 0,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},o=t().meals;e({meals:[s,...o],isLoading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to add meal",isLoading:!1})}},updateMeal:async(r,s)=>{e({isLoading:!0,error:null});try{const o=t().meals.map(e=>{if(e.id===r){return{...e,type:s.type||e.type,timestamp:s.timestamp||e.timestamp,foods:s.foods?s.foods.map(e=>({...e,id:crypto.randomUUID()})):e.foods,photos:void 0!==s.photos?s.photos:e.photos,notes:void 0!==s.notes?s.notes:e.notes,location:void 0!==s.location?s.location:e.location,nutrition:s.foods?{calories:s.foods.reduce((e,t)=>e+t.calories,0),protein:s.foods.reduce((e,t)=>e+t.macros.protein,0),carbs:s.foods.reduce((e,t)=>e+t.macros.carbs,0),fat:s.foods.reduce((e,t)=>e+t.macros.fat,0),fiber:s.foods.reduce((e,t)=>e+t.macros.fiber,0)}:e.nutrition,context:s.context?{location:s.context.location,voiceNotes:s.context.voiceNotes,tags:s.context.tags||[],mood:s.context.mood,hunger:s.context.hunger,satisfaction:s.context.satisfaction}:e.context,updatedAt:(new Date).toISOString()}}return e});e({meals:o,isLoading:!1})}catch(o){e({error:o instanceof Error?o.message:"Failed to update meal",isLoading:!1})}},deleteMeal:async r=>{e({isLoading:!0,error:null});try{const s=t().meals.filter(e=>e.id!==r);e({meals:s,isLoading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to delete meal",isLoading:!1})}},loadAnalytics:async()=>{e({isAnalyticsLoading:!0,error:null});try{const r=t().meals,s=r.length,o=r.reduce((e,t)=>e+t.nutrition.calories,0),i=s>0?o/s:0,a=new Date,n=new Date(a.getTime()-6048e5),l=new Date(a.getTime()-2592e6),c=r.filter(e=>new Date(e.timestamp)>=n),m=r.filter(e=>new Date(e.timestamp)>=l),u=c.reduce((e,t)=>e+t.nutrition.calories,0),d=m.reduce((e,t)=>e+t.nutrition.calories,0),p=r.reduce((e,t)=>e+t.nutrition.protein,0),h=r.reduce((e,t)=>e+t.nutrition.carbs,0),N=r.reduce((e,t)=>e+t.nutrition.fat,0),f=p+h+N,g=f>0?{protein:p/f*100,carbs:h/f*100,fat:N/f*100}:{protein:0,carbs:0,fat:0},b=r.reduce((e,t)=>(e[t.type]=(e[t.type]||0)+1,e),{});e({analytics:{totalMeals:s,averageCalories:i,weeklyCalories:u,monthlyCalories:d,macroBalance:g,mealFrequency:b,streak:0},isAnalyticsLoading:!1})}catch(r){e({error:r instanceof Error?r.message:"Failed to load analytics",isAnalyticsLoading:!1})}},loadSuggestions:async()=>{e({isSuggestionsLoading:!0,error:null});try{e({suggestions:{byTimeOfDay:{"07:00":["oatmeal","coffee","eggs"],"12:00":["sandwich","salad","soup"],"18:00":["chicken","rice","vegetables"],"21:00":["yogurt","fruit","nuts"]},recentFoods:[],popularFoods:[],customFoods:[]},isSuggestionsLoading:!1})}catch(t){e({error:t instanceof Error?t.message:"Failed to load suggestions",isSuggestionsLoading:!1})}},clearError:()=>{e({error:null})}}));function Vr(){const{addWeight:e,updateWeight:t,deleteWeight:r,refreshWeights:s}=wr(),{success:o,error:a}=function(){const e=i.useContext(jr);if(!e)throw new Error("useToast must be used within ToastProvider");return{toast:t=>e.addToast(t),success:(t,r)=>e.addToast({title:t,description:r,variant:"success"}),error:(t,r)=>e.addToast({title:t,description:r,variant:"error"}),warning:(t,r)=>e.addToast({title:t,description:r,variant:"warning"}),info:(t,r)=>e.addToast({title:t,description:r,variant:"info"})}}();return{addWeight:async t=>{try{await e(t);const r=(2.20462*t.kg).toFixed(1),s=new Date(t.dateISO).toLocaleDateString();o("Weight Logged",`${r}lbs recorded for ${s}`)}catch(r){a("Failed to Log Weight","Please check your connection and try again")}},updateWeight:async(e,r)=>{try{await t(e,r);const s=r.kg?(2.20462*r.kg).toFixed(1):null,i=r.dateISO?new Date(r.dateISO).toLocaleDateString():null;let a="Entry updated successfully";s&&i?a=`Updated to ${s}lbs for ${i}`:s?a=`Weight updated to ${s}lbs`:i&&(a=`Date updated to ${i}`),o("Weight Updated",a)}catch(i){const e=i instanceof Error?i.message:"Unknown error occurred";if(e.includes("not found")){a("Entry Not Found","This weight entry may have been deleted or is out of sync. Refreshing data...");try{await s()}catch(n){}}else e.includes("cloud storage")?a("Sync Issue","Entry updated locally but failed to sync to cloud. It will sync when connection is restored."):a("Failed to Update Weight","Please check your connection and try again")}},deleteWeight:async(e,t,s)=>{try{await r(e),o("Weight Deleted",t&&s?`${t}kg entry for ${new Date(s).toLocaleDateString()} removed`:"Weight entry removed successfully")}catch(i){a("Failed to Delete","Unable to delete weight entry. Please try again.")}},refreshWeights:async()=>{try{await s(),o("Data Refreshed","Weight data has been synchronized successfully")}catch(e){a("Refresh Failed","Unable to refresh weight data. Please try again.")}}}}const Zr=N("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border-current"}},defaultVariants:{variant:"default"}});function Sr({className:e,variant:t,...r}){return ze.jsxDEV("div",{className:qt(Zr({variant:t}),e),...r},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/badge.tsx",lineNumber:31,columnNumber:5},this)}const Tr=e=>2.20462*e,Wr=e=>e/2.20462;function Fr(e={}){const{haptic:t=!0,scale:r=.98,duration:s=100,disabled:o=!1}=e,a=i.useRef(null),[n,l]=i.useState(!1);return i.useEffect(()=>{const e=a.current;if(!e||o)return;const i=()=>{l(!0),t&&"vibrate"in navigator&&navigator.vibrate(10),e.style.transform=`scale(${r})`,e.style.transition=`transform ${s}ms ease`},n=()=>{l(!1),e.style.transform="scale(1)",setTimeout(()=>{e.style.transition=""},s)},c=()=>{l(!1),e.style.transform="scale(1)",e.style.transition=""};return e.addEventListener("touchstart",i,{passive:!0}),e.addEventListener("touchend",n,{passive:!0}),e.addEventListener("touchcancel",c,{passive:!0}),e.addEventListener("mousedown",i),e.addEventListener("mouseup",n),e.addEventListener("mouseleave",c),()=>{e.removeEventListener("touchstart",i),e.removeEventListener("touchend",n),e.removeEventListener("touchcancel",c),e.removeEventListener("mousedown",i),e.removeEventListener("mouseup",n),e.removeEventListener("mouseleave",c)}},[r,s,t,o]),{elementRef:a,isPressed:n}}function Lr(){const[e,t]=i.useState("desktop"),[r,s]=i.useState(!1);return i.useEffect(()=>{const e=()=>{const e=window.innerWidth;e<=412?(t("mobile"),s(!0)):e<=768?(t("mobile"),s(!1)):e<=1024?(t("tablet"),s(!1)):(t("desktop"),s(!1))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),{breakpoint:e,isGalaxyS24Ultra:r,isMobile:"mobile"===e,isTablet:"tablet"===e,isDesktop:"desktop"===e}}function Ir(){const[e,t]=i.useState(()=>(new Date).toISOString().split("T")[0]),[r,s]=i.useState(""),[o,a]=i.useState({}),[n,l]=i.useState(!1),{isLoading:c}=wr(),{addWeight:m}=Vr(),{isMobile:u}=Lr(),d=Fr({scale:.95,haptic:!0,disabled:c||!r.trim()}),p=Fr({scale:.9}),h=async o=>{if(o.preventDefault(),(()=>{const t={};e||(t.date="Date is required");const s=parseFloat(r);return r?isNaN(s)||s<=0?t.weight="Weight must be a positive number":s>=2200&&(t.weight="Weight must be less than 2200 lbs"):t.weight="Weight is required",a(t),0===Object.keys(t).length})())try{await m({dateISO:e,kg:Wr(parseFloat(r))}),t((new Date).toISOString().split("T")[0]),s(""),a({}),l(!1)}catch(i){}},N=(new Date).toISOString().split("T")[0],f=e===N;return ze.jsxDEV(Kt,{className:"cyber-card mobile-card mobile-responsive",children:[ze.jsxDEV(Yt,{className:"mobile-layout",children:ze.jsxDEV(Xt,{className:"cyber-subtitle flex items-center gap-2 text-ki-green mobile-heading",children:[ze.jsxDEV(S,{className:"cyber-icon h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:90,columnNumber:11},this),"Log Weight Entry"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:89,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:88,columnNumber:7},this),ze.jsxDEV(tr,{className:"space-y-4 mobile-form",role:"form","data-testid":"weight-entry-form",children:[ze.jsxDEV("div",{className:"flex gap-2 mobile-button-group",children:[ze.jsxDEV(ir,{id:"weight-quick",type:"number",step:"0.1",min:"0",max:"2199.9",placeholder:"Enter weight (lbs)",value:r,onChange:e=>s(e.target.value),onKeyPress:e=>{"Enter"===e.key&&r.trim()&&h(e)},className:`\n              flex-1 font-mono touch-target mobile-body\n              focus:border-ki-green focus:ring-ki-green/20 border-gray-600 bg-gray-900 text-white\n              ${o.weight?"border-red-500":""}\n            `,disabled:c,"aria-label":"Weight in pounds"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:97,columnNumber:11},this),ze.jsxDEV(Qt,{ref:p.elementRef,onClick:()=>l(!n),variant:"outline",size:"icon",className:`touch-target border-gray-600 bg-transparent text-gray-300 hover:bg-gray-800 ${n?"bg-gray-800":""} ${u?"galaxy-s24-ultra-touch":""}`,title:"Date options","aria-label":"Date options",children:ze.jsxDEV(y,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:126,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:117,columnNumber:11},this),ze.jsxDEV(Qt,{ref:d.elementRef,onClick:h,variant:"cyber-ki",disabled:c||!r.trim(),className:"touch-target-comfortable "+(u?"galaxy-s24-ultra-touch":""),"aria-label":"Add weight entry",children:[ze.jsxDEV(T,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:136,columnNumber:13},this),c?"LOGGING...":"LOG"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:128,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:96,columnNumber:9},this),o.weight&&ze.jsxDEV("p",{className:"font-mono text-sm text-red-400",children:o.weight},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:143,columnNumber:11},this),n&&ze.jsxDEV("div",{className:"space-y-3 border-t border-gray-700 pt-4 mobile-layout",children:[ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV(ar,{htmlFor:"date",className:"cyber-label text-gray-300 mobile-body",children:"Entry Date"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:150,columnNumber:15},this),ze.jsxDEV(ir,{id:"date",type:"date",value:e,onChange:e=>t(e.target.value),className:`\n                  touch-target mobile-body\n                  focus:border-ki-green focus:ring-ki-green/20 border-gray-600\n                  bg-gray-900 text-white\n                  ${o.date?"border-red-500":""}\n                `,"aria-label":"Entry date"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:153,columnNumber:15},this),o.date&&ze.jsxDEV("p",{className:"font-mono text-sm text-red-400 mobile-small",children:o.date},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:169,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:149,columnNumber:13},this),ze.jsxDEV("div",{className:"flex flex-wrap gap-2 mobile-button-group",children:[ze.jsxDEV(Qt,{type:"button",variant:"outline",size:"sm",onClick:()=>t(N),className:"touch-target border-gray-600 bg-transparent text-gray-300 hover:bg-gray-800 "+(f?"bg-gray-800 text-ki-green":""),"aria-label":"Set date to today",children:"Today"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:175,columnNumber:15},this),ze.jsxDEV(Qt,{type:"button",variant:"outline",size:"sm",onClick:()=>{const e=new Date;e.setDate(e.getDate()-1),t(e.toISOString().split("T")[0])},className:"touch-target border-gray-600 bg-transparent text-gray-300 hover:bg-gray-800","aria-label":"Set date to yesterday",children:"Yesterday"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:185,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:174,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:148,columnNumber:11},this),r.trim()&&ze.jsxDEV("div",{className:"cyber-card rounded-lg bg-gray-900/50 p-3",children:ze.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[ze.jsxDEV("span",{className:"font-medium text-gray-300",children:"Entry Preview:"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:207,columnNumber:15},this),ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(Sr,{variant:"outline",className:"font-mono text-xs",children:[parseFloat(r).toFixed(1),"lbs"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:209,columnNumber:17},this),ze.jsxDEV(Sr,{variant:"outline",className:"text-xs",children:[ze.jsxDEV(y,{className:"mr-1 h-3 w-3"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:213,columnNumber:19},this),new Date(e).toLocaleDateString()]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:212,columnNumber:17},this),f&&ze.jsxDEV(Sr,{variant:"outline",className:"text-ki-green text-xs",children:"Today"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:217,columnNumber:19},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:208,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:206,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:205,columnNumber:11},this),ze.jsxDEV("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(j,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:229,columnNumber:13},this),ze.jsxDEV("span",{children:"Press Enter to log quickly"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:230,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:228,columnNumber:11},this),ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(W,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:233,columnNumber:13},this),ze.jsxDEV("span",{children:"Consistent tracking = better results"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:234,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:232,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:227,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:94,columnNumber:7},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEntryForm.tsx",lineNumber:87,columnNumber:5},this)}const Mr=i.forwardRef(({className:e,value:t=0,max:r=100,variant:s="default",size:o="md",...i},a)=>{const n=Math.min(Math.max(t/r*100,0),100),l={sm:"h-1",md:"h-2",lg:"h-3"};if("ring"===s){const t="lg"===o?40:"md"===o?32:24,r="lg"===o?6:"md"===o?4:3,s=2*Math.PI*t,l=s-n/100*s,c=2*(t+r);return ze.jsxDEV("div",{className:qt("relative",e),ref:a,...i,children:[ze.jsxDEV("svg",{width:c,height:c,className:"-rotate-90 transform",children:[ze.jsxDEV("circle",{cx:c/2,cy:c/2,r:t,stroke:"rgb(51, 65, 85)",strokeWidth:r,fill:"transparent"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/progress.tsx",lineNumber:47,columnNumber:13},void 0),ze.jsxDEV("defs",{children:ze.jsxDEV("linearGradient",{id:"progressGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[ze.jsxDEV("stop",{offset:"0%",stopColor:"var(--ki-green)"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/progress.tsx",lineNumber:64,columnNumber:17},void 0),ze.jsxDEV("stop",{offset:"100%",stopColor:"var(--plasma-cyan)"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/progress.tsx",lineNumber:65,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/progress.tsx",lineNumber:57,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/progress.tsx",lineNumber:56,columnNumber:13},void 0),ze.jsxDEV("circle",{cx:c/2,cy:c/2,r:t,stroke:"url(#progressGradient)",strokeWidth:r,fill:"transparent",strokeDasharray:s,strokeDashoffset:l,strokeLinecap:"round",className:"transition-all duration-500",style:{filter:"drop-shadow(0 0 8px rgba(34, 255, 183, 0.3))"}},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/progress.tsx",lineNumber:68,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/progress.tsx",lineNumber:41,columnNumber:11},void 0),ze.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center",children:ze.jsxDEV("div",{className:"text-center",children:ze.jsxDEV("div",{className:"gradient-text-ki font-cyber text-xl font-bold",children:[Math.round(n),"%"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/progress.tsx",lineNumber:87,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/progress.tsx",lineNumber:86,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/progress.tsx",lineNumber:85,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/progress.tsx",lineNumber:40,columnNumber:9},void 0)}return"cyber"===s?ze.jsxDEV("div",{className:qt("relative w-full overflow-hidden rounded-lg border border-gray-700 bg-gray-900",l[o],e),ref:a,...i,children:[ze.jsxDEV("div",{className:"relative h-full transition-all duration-500 ease-out",style:{width:`${n}%`,background:"linear-gradient(90deg, var(--ki-green), var(--plasma-cyan))",boxShadow:"0 0 12px rgba(34, 255, 183, 0.3)"},children:ze.jsxDEV("div",{className:"shimmer absolute inset-0 opacity-50"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/progress.tsx",lineNumber:117,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/progress.tsx",lineNumber:107,columnNumber:11},void 0),ze.jsxDEV("div",{className:"via-ki-green/10 absolute inset-0 bg-gradient-to-r from-transparent to-transparent",style:{transform:`translateX(${n-100}%)`,transition:"transform 500ms ease-out"}},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/progress.tsx",lineNumber:120,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/progress.tsx",lineNumber:98,columnNumber:9},void 0):ze.jsxDEV("div",{className:qt("relative w-full overflow-hidden rounded-full bg-secondary",l[o],e),ref:a,...i,children:ze.jsxDEV("div",{className:"h-full w-full flex-1 bg-primary transition-all duration-300",style:{transform:`translateX(-${100-n}%)`}},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/progress.tsx",lineNumber:141,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/progress.tsx",lineNumber:132,columnNumber:7},void 0)});function _r({entry:e,onCancel:t,onSave:r}){const[s,o]=i.useState(e.dateISO),[a,n]=i.useState(Tr(e.kg).toFixed(1)),[l,c]=i.useState({}),{isLoading:m}=wr(),{updateWeight:u}=Vr(),d=async t=>{if(t.preventDefault(),(()=>{const e={};s||(e.date="Date is required");const t=parseFloat(a);return a?isNaN(t)||t<=0?e.weight="Weight must be a positive number":t>=2200&&(e.weight="Weight must be less than 2200 lbs"):e.weight="Weight is required",c(e),0===Object.keys(e).length})())try{const t={};s!==e.dateISO&&(t.dateISO=s);const o=Wr(parseFloat(a));Math.abs(o-e.kg)>.01&&(t.kg=o),Object.keys(t).length>0&&await u(e.id,t),null==r||r()}catch(o){}},p=e=>{"Enter"===e.key?d(e):"Escape"===e.key&&t()},h=()=>{const t=Wr(parseFloat(a||"0"));return s!==e.dateISO||Math.abs(t-e.kg)>.01};return ze.jsxDEV(Kt,{className:"cyber-card border-ki-green/50 mobile-card mobile-responsive",children:[ze.jsxDEV(Yt,{className:"pb-3 mobile-layout",children:ze.jsxDEV(Xt,{className:"cyber-subtitle flex items-center gap-2 text-ki-green text-sm mobile-heading",children:[ze.jsxDEV(S,{className:"cyber-icon h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEditForm.tsx",lineNumber:94,columnNumber:11},this),"Edit Weight Entry"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEditForm.tsx",lineNumber:93,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEditForm.tsx",lineNumber:92,columnNumber:7},this),ze.jsxDEV(tr,{className:"space-y-4 mobile-form","data-testid":"weight-edit-form",children:[ze.jsxDEV("form",{onSubmit:d,className:"space-y-4",children:[ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV(ar,{htmlFor:"edit-date",className:"cyber-label text-gray-300 text-xs mobile-small",children:"Entry Date"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEditForm.tsx",lineNumber:103,columnNumber:13},this),ze.jsxDEV(ir,{id:"edit-date",type:"date",value:s,onChange:e=>o(e.target.value),onKeyPress:p,className:`\n                touch-target mobile-body\n                focus:border-ki-green focus:ring-ki-green/20 border-gray-600\n                bg-gray-900 text-white text-sm\n                ${l.date?"border-red-500":""}\n              `,disabled:m,"aria-label":"Entry date"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEditForm.tsx",lineNumber:106,columnNumber:13},this),l.date&&ze.jsxDEV("p",{className:"font-mono text-xs text-red-400 mobile-small",children:l.date},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEditForm.tsx",lineNumber:124,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEditForm.tsx",lineNumber:102,columnNumber:11},this),ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV(ar,{htmlFor:"edit-weight",className:"cyber-label text-gray-300 text-xs mobile-small",children:"Weight (lbs)"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEditForm.tsx",lineNumber:130,columnNumber:13},this),ze.jsxDEV(ir,{id:"edit-weight",type:"number",step:"0.1",min:"0",max:"2199.9",placeholder:"Enter weight (lbs)",value:a,onChange:e=>n(e.target.value),onKeyPress:p,className:`\n                font-mono touch-target mobile-body\n                focus:border-ki-green focus:ring-ki-green/20 border-gray-600 \n                bg-gray-900 text-white text-sm\n                ${l.weight?"border-red-500":""}\n              `,disabled:m,autoFocus:!0,"aria-label":"Weight in pounds"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEditForm.tsx",lineNumber:133,columnNumber:13},this),l.weight&&ze.jsxDEV("p",{className:"font-mono text-xs text-red-400 mobile-small",children:l.weight},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEditForm.tsx",lineNumber:156,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEditForm.tsx",lineNumber:129,columnNumber:11},this),a&&ze.jsxDEV("div",{className:"cyber-card rounded-lg bg-gray-900/50 p-2",children:ze.jsxDEV("div",{className:"flex items-center justify-between text-xs",children:[ze.jsxDEV("span",{className:"font-medium text-gray-400",children:"Preview:"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEditForm.tsx",lineNumber:164,columnNumber:17},this),ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(Sr,{variant:"outline",className:"font-mono text-xs",children:[parseFloat(a).toFixed(1),"lbs"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEditForm.tsx",lineNumber:166,columnNumber:19},this),ze.jsxDEV(Sr,{variant:"outline",className:"text-xs",children:[ze.jsxDEV(y,{className:"mr-1 h-3 w-3"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEditForm.tsx",lineNumber:170,columnNumber:21},this),new Date(s).toLocaleDateString()]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEditForm.tsx",lineNumber:169,columnNumber:19},this),h()&&ze.jsxDEV(Sr,{variant:"outline",className:"text-ki-green text-xs",children:"Modified"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEditForm.tsx",lineNumber:174,columnNumber:21},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEditForm.tsx",lineNumber:165,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEditForm.tsx",lineNumber:163,columnNumber:15},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEditForm.tsx",lineNumber:162,columnNumber:13},this),ze.jsxDEV("div",{className:"flex gap-2 pt-2 mobile-button-group",children:[ze.jsxDEV(Qt,{type:"button",variant:"outline",onClick:t,className:"flex-1 touch-target border-gray-600 bg-transparent text-gray-300 hover:bg-gray-800 text-sm",disabled:m,"aria-label":"Cancel editing",children:[ze.jsxDEV(C,{className:"mr-1 h-3 w-3"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEditForm.tsx",lineNumber:193,columnNumber:15},this),"Cancel"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEditForm.tsx",lineNumber:185,columnNumber:13},this),ze.jsxDEV(Qt,{type:"submit",variant:"cyber-ki",className:"flex-1 touch-target text-sm",disabled:m||!h(),"aria-label":"Save changes",children:[ze.jsxDEV(F,{className:"mr-1 h-3 w-3"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEditForm.tsx",lineNumber:203,columnNumber:15},this),m?"SAVING...":"SAVE"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEditForm.tsx",lineNumber:196,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEditForm.tsx",lineNumber:184,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEditForm.tsx",lineNumber:100,columnNumber:9},this),ze.jsxDEV("div",{className:"text-xs text-gray-500 text-center",children:"Press Enter to save  Escape to cancel"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEditForm.tsx",lineNumber:210,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEditForm.tsx",lineNumber:99,columnNumber:7},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightEditForm.tsx",lineNumber:91,columnNumber:5},this)}function Rr({entry:e}){const[t,r]=i.useState(null),[s,o]=i.useState(!1),[a,n]=i.useState(!1),[l,c]=i.useState(!1),{deleteWeight:m}=Vr(),u=e=>new Date(e).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}),d=()=>{c(!0)},p=()=>{n(!1)},h=()=>{n(!1)},N=()=>{o(!0);const e=setTimeout(()=>{d()},500);r(e)},f=()=>{o(!1),t&&(clearTimeout(t),r(null))},g=De({onSwipedLeft:()=>{d()},preventScrollOnSwipe:!0,trackMouse:!0});return a?ze.jsxDEV(_r,{entry:e,onCancel:p,onSave:h},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightRow.tsx",lineNumber:91,columnNumber:7},this):ze.jsxDEV(Kt,{...g,className:`\n        cyber-card cursor-pointer py-3 transition-all duration-200\n        ${s?"scale-95 shadow-inner":"hover:scale-[1.01]"}\n        ${l?"border-ki-green/50":""}\n      `,onTouchStart:N,onTouchEnd:f,onMouseDown:N,onMouseUp:f,onMouseLeave:f,onClick:()=>!l&&c(!0),children:ze.jsxDEV(tr,{className:"px-4 py-3",children:ze.jsxDEV("div",{className:"flex items-center justify-between",children:[ze.jsxDEV("div",{className:"flex flex-col",children:[ze.jsxDEV("span",{className:"font-mono text-sm text-gray-400",children:u(e.dateISO)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightRow.tsx",lineNumber:117,columnNumber:13},this),ze.jsxDEV("span",{className:"gradient-text-ki metric-display text-lg font-semibold",children:(b=e.kg,`${Tr(b).toFixed(1)} lbs`)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightRow.tsx",lineNumber:120,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightRow.tsx",lineNumber:116,columnNumber:11},this),l?ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(Qt,{variant:"outline",size:"sm",onClick:e=>{e.stopPropagation(),n(!0),c(!1)},className:"border-ki-green/50 bg-transparent text-ki-green hover:bg-ki-green/10 h-8 px-2",children:ze.jsxDEV(L,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightRow.tsx",lineNumber:136,columnNumber:17},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightRow.tsx",lineNumber:127,columnNumber:15},this),ze.jsxDEV(Qt,{variant:"outline",size:"sm",onClick:t=>{t.stopPropagation(),window.confirm(`Delete weight entry for ${u(e.dateISO)}?`)&&m(e.id,e.kg,e.dateISO)},className:"border-red-500/50 bg-transparent text-red-400 hover:bg-red-500/10 h-8 px-2",children:ze.jsxDEV(I,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightRow.tsx",lineNumber:147,columnNumber:17},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightRow.tsx",lineNumber:138,columnNumber:15},this),ze.jsxDEV(Qt,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),c(!1)},className:"text-gray-400 hover:bg-gray-800 h-8 px-2 text-xs",children:""},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightRow.tsx",lineNumber:149,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightRow.tsx",lineNumber:126,columnNumber:13},this):ze.jsxDEV("div",{className:"text-right font-mono text-xs text-gray-500",children:[ze.jsxDEV("div",{children:"Tap to edit"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightRow.tsx",lineNumber:163,columnNumber:15},this),ze.jsxDEV("div",{className:"text-plasma-cyan",children:" Swipe left"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightRow.tsx",lineNumber:164,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightRow.tsx",lineNumber:162,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightRow.tsx",lineNumber:115,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightRow.tsx",lineNumber:114,columnNumber:7},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightRow.tsx",lineNumber:100,columnNumber:5},this);var b}function Gr({period:e,onClose:t}){const{weights:r}=wr(),s=(()=>{const t=new Date;return t.setDate(t.getDate()-e),r.filter(e=>new Date(e.dateISO)>=t).sort((e,t)=>new Date(t.dateISO).getTime()-new Date(e.dateISO).getTime())})(),o=(()=>{if(0===s.length)return null;const e=[...s].sort((e,t)=>new Date(e.dateISO).getTime()-new Date(t.dateISO).getTime()),t=e[0],r=e[e.length-1],o=r.kg-t.kg,i=s.reduce((e,t)=>e+t.kg,0)/s.length;return{firstWeight:t.kg,lastWeight:r.kg,change:o,averageWeight:i,entryCount:s.length,firstDate:t.dateISO,lastDate:r.dateISO}})(),i=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"});return ze.jsxDEV(Kt,{className:"cyber-card border-ki-green/30 mobile-card mobile-responsive","data-testid":"period-view-container",children:[ze.jsxDEV(Yt,{className:"pb-3 mobile-layout",children:ze.jsxDEV("div",{className:"flex items-center justify-between",children:[ze.jsxDEV(Xt,{className:"cyber-subtitle flex items-center gap-2 text-ki-green mobile-heading",children:[ze.jsxDEV(y,{className:"cyber-icon h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:79,columnNumber:13},this),"Last ",e," Days"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:78,columnNumber:11},this),t&&ze.jsxDEV("button",{onClick:t,className:"text-gray-400 hover:text-gray-200 text-lg font-bold touch-target","aria-label":"Close period view",children:""},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:83,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:77,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:76,columnNumber:7},this),ze.jsxDEV(tr,{className:"space-y-4 mobile-form",children:[o&&ze.jsxDEV("div",{className:"cyber-card bg-gray-900/50 p-3 rounded-lg mobile-card",children:[ze.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center mobile-grid",children:[ze.jsxDEV("div",{className:"mobile-card",children:[ze.jsxDEV("div",{className:"gradient-text-ki metric-display text-lg font-bold mobile-large",children:o.entryCount},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:100,columnNumber:17},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400 mobile-caption",children:"Entries"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:103,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:99,columnNumber:15},this),ze.jsxDEV("div",{className:"mobile-card",children:[ze.jsxDEV("div",{className:"gradient-text-cyan metric-display text-lg font-bold mobile-large",children:[Tr(o.averageWeight).toFixed(1),"lbs"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:106,columnNumber:17},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400 mobile-caption",children:"Average"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:109,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:105,columnNumber:15},this),ze.jsxDEV("div",{className:"mobile-card",children:[ze.jsxDEV("div",{className:"metric-display text-lg font-bold mobile-large "+(a=o.change,Math.abs(a)<.1?"text-plasma-cyan":a>0?"text-red-400":"text-ki-green"),children:[o.change>=0?"+":"",Tr(o.change).toFixed(1),"lbs"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:112,columnNumber:17},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400 mobile-caption",children:"Change"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:115,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:111,columnNumber:15},this),ze.jsxDEV("div",{className:"mobile-card",children:[ze.jsxDEV("div",{className:"flex items-center justify-center",children:(e=>Math.abs(e)<.1?ze.jsxDEV(M,{className:"h-4 w-4 text-plasma-cyan"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:56,columnNumber:40},this):e>0?ze.jsxDEV(W,{className:"h-4 w-4 text-red-400"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:58,columnNumber:9},this):ze.jsxDEV(_,{className:"h-4 w-4 text-ki-green"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:59,columnNumber:9},this))(o.change)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:118,columnNumber:17},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400 mobile-caption",children:"Trend"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:121,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:117,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:98,columnNumber:13},this),ze.jsxDEV("div",{className:"mt-3 pt-3 border-t border-gray-700 flex items-center justify-center gap-2",children:[ze.jsxDEV(Sr,{variant:"outline",className:"text-xs",children:i(o.firstDate)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:127,columnNumber:15},this),ze.jsxDEV("span",{className:"text-gray-500",children:""},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:130,columnNumber:15},this),ze.jsxDEV(Sr,{variant:"outline",className:"text-xs",children:i(o.lastDate)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:131,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:126,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:97,columnNumber:11},this),s.length>0?ze.jsxDEV("div",{className:"space-y-3 mobile-layout",children:[ze.jsxDEV("div",{className:"flex items-center justify-between",children:[ze.jsxDEV("h4",{className:"text-sm font-medium text-gray-300 mobile-body",children:["Weight Entries (",s.length,")"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:142,columnNumber:15},this),ze.jsxDEV(Sr,{variant:"outline",className:"text-xs mobile-caption",children:"Tap to edit"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:145,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:141,columnNumber:13},this),ze.jsxDEV("div",{className:"space-y-2 max-h-80 overflow-y-auto mobile-scroll","data-testid":"entries-scroll-container",children:s.map(e=>ze.jsxDEV("div",{"data-testid":`weight-entry-${e.id}`,className:"mobile-card",children:ze.jsxDEV(Rr,{entry:e},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:153,columnNumber:19},this)},e.id,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:152,columnNumber:17},this))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:150,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:140,columnNumber:11},this):ze.jsxDEV("div",{className:"text-center py-8",children:[ze.jsxDEV(y,{className:"h-12 w-12 text-gray-600 mx-auto mb-3"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:160,columnNumber:13},this),ze.jsxDEV("p",{className:"text-gray-400 text-sm",children:["No weight entries in the last ",e," days"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:161,columnNumber:13},this),ze.jsxDEV("p",{className:"text-gray-500 text-xs mt-1",children:"Add some entries to see them here"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:164,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:159,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:94,columnNumber:7},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightPeriodView.tsx",lineNumber:75,columnNumber:5},this);var a}function Or({goalWeight:e,goalType:t="lose"}){const{weights:r,activeGoal:s}=wr(),[o,a]=i.useState(null),n=(null==s?void 0:s.targetWeight)||e,l=(null==s?void 0:s.goalType)||t,c=(()=>{var e,t;if(0===r.length)return null;const s=[...r].sort((e,t)=>new Date(e.dateISO).getTime()-new Date(t.dateISO).getTime()),o=(null==(e=s[s.length-1])?void 0:e.kg)||0,i=(null==(t=s[0])?void 0:t.kg)||0,a=o-i,c=new Date;c.setDate(c.getDate()-30);const m=r.filter(e=>new Date(e.dateISO)>=c).sort((e,t)=>new Date(e.dateISO).getTime()-new Date(t.dateISO).getTime()),u=m.length>=2?m[m.length-1].kg-m[0].kg:0,d=new Date;d.setDate(d.getDate()-7);const p=r.filter(e=>new Date(e.dateISO)>=d).sort((e,t)=>new Date(e.dateISO).getTime()-new Date(t.dateISO).getTime()),h=p.length>=2?p[p.length-1].kg-p[0].kg:0,N=n?{remaining:Math.abs(o-n),percentage:"lose"===l?Math.max(0,Math.min(100,(i-o)/(i-n)*100)):"gain"===l?Math.max(0,Math.min(100,(o-i)/(n-i)*100)):Math.max(0,100-10*Math.abs(o-n)),achieved:"lose"===l?o<=n:"gain"===l?o>=n:Math.abs(o-n)<=1}:null,f=new Date;let g=0;for(let n=0;n<30;n++){const e=new Date(f);e.setDate(e.getDate()-n);const t=e.toISOString().split("T")[0];if(!r.some(e=>e.dateISO===t))break;g++}return{currentWeight:o,startWeight:i,totalChange:a,monthlyChange:u,weeklyChange:h,goalProgress:N,streak:g,totalEntries:r.length,averageWeight:r.reduce((e,t)=>e+t.kg,0)/r.length}})();if(!c)return ze.jsxDEV(Kt,{className:"cyber-card",children:ze.jsxDEV(tr,{className:"flex flex-col items-center justify-center py-8",children:[ze.jsxDEV(P,{className:"cyber-icon mb-4 h-12 w-12 text-gray-600"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:108,columnNumber:11},this),ze.jsxDEV("p",{className:"text-gray-400",children:"Add weight entries to see analytics"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:109,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:107,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:106,columnNumber:7},this);const m=e=>Math.abs(e)<.1?ze.jsxDEV(M,{className:"h-4 w-4 text-plasma-cyan"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:116,columnNumber:40},this):e>0?ze.jsxDEV(W,{className:"h-4 w-4 text-red-400"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:118,columnNumber:9},this):ze.jsxDEV(_,{className:"h-4 w-4 text-ki-green"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:119,columnNumber:9},this),u=e=>Math.abs(e)<.1?"text-plasma-cyan":e>0?"text-red-400":"text-ki-green";return ze.jsxDEV("div",{className:"space-y-4 mobile-responsive",children:[ze.jsxDEV(Kt,{className:"cyber-card mobile-card",children:[ze.jsxDEV(Yt,{className:"pb-3 mobile-layout",children:ze.jsxDEV(Xt,{className:"cyber-subtitle flex items-center gap-2 text-ki-green mobile-heading",children:[ze.jsxDEV(P,{className:"cyber-icon h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:133,columnNumber:13},this),"Weight Analytics"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:132,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:131,columnNumber:9},this),ze.jsxDEV(tr,{"data-testid":"analytics-container",className:"mobile-stack",children:[ze.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mobile-grid",children:[ze.jsxDEV("div",{className:"text-center mobile-card",children:[ze.jsxDEV("div",{className:"gradient-text-ki metric-display text-2xl font-bold mobile-large",children:Tr(c.currentWeight).toFixed(1)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:140,columnNumber:15},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400 mobile-caption",children:"Current (lbs)"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:143,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:139,columnNumber:13},this),ze.jsxDEV("div",{className:"text-center mobile-card",children:[ze.jsxDEV("div",{className:`metric-display text-2xl font-bold mobile-large ${u(c.totalChange)}`,children:[c.totalChange>=0?"+":"",Tr(c.totalChange).toFixed(1)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:146,columnNumber:15},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400 mobile-caption",children:"Total Change"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:149,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:145,columnNumber:13},this),ze.jsxDEV("div",{className:"text-center mobile-card",children:[ze.jsxDEV("div",{className:"gradient-text-magenta metric-display text-2xl font-bold mobile-large",children:c.streak},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:152,columnNumber:15},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400 mobile-caption",children:"Day Streak"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:155,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:151,columnNumber:13},this),ze.jsxDEV("div",{className:"text-center mobile-card",children:[ze.jsxDEV("div",{className:"gradient-text-cyan metric-display text-2xl font-bold mobile-large",children:c.totalEntries},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:158,columnNumber:15},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400 mobile-caption",children:"Total Entries"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:161,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:157,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:138,columnNumber:11},this),ze.jsxDEV("div",{className:"mt-4 grid grid-cols-2 gap-4 mobile-grid",children:[ze.jsxDEV("button",{onClick:()=>a(7===o?null:7),className:"cyber-card rounded-lg bg-gray-900/50 p-3 transition-all duration-200 hover:bg-gray-800/50 hover:scale-[1.02] touch-friendly "+(7===o?"ring-2 ring-ki-green/50 bg-ki-green/10":""),role:"button","data-testid":"trend-card-7","aria-label":"View 7-day weight trend",children:[ze.jsxDEV("div",{className:"flex items-center justify-between",children:[ze.jsxDEV("div",{className:"flex items-center gap-2",children:[m(c.weeklyChange),ze.jsxDEV("span",{className:"font-mono text-sm text-gray-300 mobile-small",children:"7 Days"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:179,columnNumber:19},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:177,columnNumber:17},this),ze.jsxDEV("div",{className:`font-mono text-sm font-semibold mobile-small ${u(c.weeklyChange)}`,children:[c.weeklyChange>=0?"+":"",Tr(c.weeklyChange).toFixed(1),"lbs"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:181,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:176,columnNumber:15},this),ze.jsxDEV("div",{className:"mt-1 text-xs text-gray-500 text-center mobile-caption",children:"Click to view entries"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:185,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:167,columnNumber:13},this),ze.jsxDEV("button",{onClick:()=>a(30===o?null:30),className:"cyber-card rounded-lg bg-gray-900/50 p-3 transition-all duration-200 hover:bg-gray-800/50 hover:scale-[1.02] touch-friendly "+(30===o?"ring-2 ring-ki-green/50 bg-ki-green/10":""),role:"button","data-testid":"trend-card-30","aria-label":"View 30-day weight trend",children:[ze.jsxDEV("div",{className:"flex items-center justify-between",children:[ze.jsxDEV("div",{className:"flex items-center gap-2",children:[m(c.monthlyChange),ze.jsxDEV("span",{className:"font-mono text-sm text-gray-300 mobile-small",children:"30 Days"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:201,columnNumber:19},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:199,columnNumber:17},this),ze.jsxDEV("div",{className:`font-mono text-sm font-semibold mobile-small ${u(c.monthlyChange)}`,children:[c.monthlyChange>=0?"+":"",Tr(c.monthlyChange).toFixed(1),"lbs"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:203,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:198,columnNumber:15},this),ze.jsxDEV("div",{className:"mt-1 text-xs text-gray-500 text-center",children:"Click to view entries"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:207,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:189,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:166,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:137,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:130,columnNumber:7},this),e&&c.goalProgress&&ze.jsxDEV(Kt,{className:"cyber-card",children:[ze.jsxDEV(Yt,{className:"pb-3",children:ze.jsxDEV(Xt,{className:"cyber-subtitle flex items-center gap-2 text-hyper-magenta",children:[ze.jsxDEV(j,{className:"cyber-icon h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:220,columnNumber:15},this),"Goal Progress"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:219,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:218,columnNumber:11},this),ze.jsxDEV(tr,{children:ze.jsxDEV("div",{className:"space-y-4",children:[ze.jsxDEV("div",{className:"flex items-center justify-between",children:[ze.jsxDEV("div",{children:[ze.jsxDEV("div",{className:"font-mono text-sm text-gray-300",children:["Target: ",n?Tr(n).toFixed(1):0,"lbs (",l,")"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:228,columnNumber:19},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-500",children:[Tr(c.goalProgress.remaining).toFixed(1),"lbs remaining"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:231,columnNumber:19},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:227,columnNumber:17},this),ze.jsxDEV("div",{className:"text-right",children:[ze.jsxDEV("div",{className:"gradient-text-magenta metric-display text-lg font-bold",children:[c.goalProgress.percentage.toFixed(0),"%"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:236,columnNumber:19},this),c.goalProgress.achieved&&ze.jsxDEV(Sr,{variant:"outline",className:"text-ki-green border-ki-green",children:" Achieved!"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:240,columnNumber:21},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:235,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:226,columnNumber:15},this),ze.jsxDEV(Mr,{value:c.goalProgress.percentage,className:"h-2"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:246,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:225,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:224,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:217,columnNumber:9},this),o&&ze.jsxDEV(Gr,{period:o,onClose:()=>a(null)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:257,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightAnalytics.tsx",lineNumber:128,columnNumber:5},this)}function Ur({onClose:e}){const{activeGoal:t,weights:r,setGoal:s,updateGoal:o,deactivateGoal:a,isGoalLoading:n}=wr(),[l,c]=i.useState(!t),[m,u]=i.useState({targetWeight:t?Tr(t.targetWeight):154,goalType:(null==t?void 0:t.goalType)||"lose",targetDate:(null==t?void 0:t.targetDate)||"",startingWeight:(null==t?void 0:t.startingWeight)?Tr(t.startingWeight):r[0]?Tr(r[0].kg):154}),[d,p]=i.useState({});i.useEffect(()=>{t&&u({targetWeight:Tr(t.targetWeight),goalType:t.goalType,targetDate:t.targetDate||"",startingWeight:t.startingWeight?Tr(t.startingWeight):r[0]?Tr(r[0].kg):154})},[t,r]);const h=async()=>{if(t)try{await a(t.id),c(!0)}catch(e){}},N=e=>{switch(e){case"lose":return ze.jsxDEV(_,{className:"h-4 w-4 text-ki-green"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:115,columnNumber:16},this);case"gain":return ze.jsxDEV(W,{className:"h-4 w-4 text-plasma-cyan"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:117,columnNumber:16},this);case"maintain":return ze.jsxDEV(M,{className:"h-4 w-4 text-hyper-magenta"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:119,columnNumber:16},this);default:return ze.jsxDEV(j,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:121,columnNumber:16},this)}},f=e=>{switch(e){case"lose":return"Lose Weight";case"gain":return"Gain Weight";case"maintain":return"Maintain Weight";default:return e}},g=(()=>{if(!t||!r.length)return null;const e=r[0].kg,s=t.startingWeight||e,o=t.targetWeight,i=Math.abs(o-s),a=Math.abs(e-s);return{progress:i>0?Math.min(100,a/i*100):0,remaining:Math.abs(e-o),achieved:"lose"===t.goalType?e<=o:"gain"===t.goalType?e>=o:Math.abs(e-o)<=1}})();return!l&&t?ze.jsxDEV(Kt,{className:"cyber-card",children:[ze.jsxDEV(Yt,{className:"pb-3",children:ze.jsxDEV(Xt,{className:"cyber-subtitle flex items-center justify-between",children:[ze.jsxDEV("div",{className:"flex items-center gap-2 text-hyper-magenta",children:[ze.jsxDEV(j,{className:"cyber-icon h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:169,columnNumber:15},this),"Current Goal"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:168,columnNumber:13},this),ze.jsxDEV("div",{className:"flex gap-2",children:[ze.jsxDEV(Qt,{variant:"ghost",size:"sm",onClick:()=>c(!0),className:"h-8 w-8 p-0 text-gray-400 hover:text-white",children:ze.jsxDEV(R,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:179,columnNumber:17},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:173,columnNumber:15},this),ze.jsxDEV(Qt,{variant:"ghost",size:"sm",onClick:h,className:"h-8 w-8 p-0 text-gray-400 hover:text-red-400",children:ze.jsxDEV(C,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:187,columnNumber:17},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:181,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:172,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:167,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:166,columnNumber:9},this),ze.jsxDEV(tr,{className:"space-y-4",children:[ze.jsxDEV("div",{className:"flex items-center justify-between",children:[ze.jsxDEV("div",{className:"flex items-center gap-2",children:[N(t.goalType),ze.jsxDEV("span",{className:"font-mono text-sm text-gray-300",children:f(t.goalType)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:196,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:194,columnNumber:13},this),ze.jsxDEV(Sr,{variant:"outline",className:"text-hyper-magenta border-hyper-magenta",children:[Tr(t.targetWeight).toFixed(1),"lbs target"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:200,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:193,columnNumber:11},this),g&&ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV("div",{className:"flex items-center justify-between",children:[ze.jsxDEV("span",{className:"font-mono text-xs text-gray-400",children:"Progress"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:208,columnNumber:17},this),ze.jsxDEV("span",{className:"font-mono text-xs text-gray-300",children:[Tr(g.remaining).toFixed(1),"lbs remaining"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:209,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:207,columnNumber:15},this),ze.jsxDEV("div",{className:"h-2 bg-gray-800 rounded-full overflow-hidden",children:ze.jsxDEV("div",{className:"h-full bg-gradient-to-r from-hyper-magenta to-plasma-cyan transition-all duration-300",style:{width:`${g.progress}%`}},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:214,columnNumber:17},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:213,columnNumber:15},this),g.achieved&&ze.jsxDEV(Sr,{variant:"outline",className:"text-ki-green border-ki-green",children:" Goal Achieved!"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:220,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:206,columnNumber:13},this),t.targetDate&&ze.jsxDEV("div",{className:"flex items-center gap-2 text-gray-400",children:[ze.jsxDEV(y,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:229,columnNumber:15},this),ze.jsxDEV("span",{className:"font-mono text-sm",children:["Target: ",new Date(t.targetDate).toLocaleDateString()]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:230,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:228,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:192,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:165,columnNumber:7},this):ze.jsxDEV(Kt,{className:"cyber-card",children:[ze.jsxDEV(Yt,{className:"pb-3",children:ze.jsxDEV(Xt,{className:"cyber-subtitle flex items-center justify-between",children:[ze.jsxDEV("div",{className:"flex items-center gap-2 text-hyper-magenta",children:[ze.jsxDEV(j,{className:"cyber-icon h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:246,columnNumber:13},this),t?"Edit Goal":"Set Weight Goal"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:245,columnNumber:11},this),e&&ze.jsxDEV(Qt,{variant:"ghost",size:"sm",onClick:e,className:"h-8 w-8 p-0 text-gray-400 hover:text-white",children:ze.jsxDEV(C,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:256,columnNumber:15},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:250,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:244,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:243,columnNumber:7},this),ze.jsxDEV(tr,{children:ze.jsxDEV("form",{onSubmit:async r=>{if(r.preventDefault(),(()=>{const e={};if(!m.targetWeight||m.targetWeight<=0?e.targetWeight="Target weight must be greater than 0":m.targetWeight>=2200&&(e.targetWeight="Target weight must be less than 2200 lbs"),m.startingWeight&&m.startingWeight>=2200&&(e.startingWeight="Starting weight must be less than 2200 lbs"),m.targetDate){const t=new Date(m.targetDate),r=new Date;r.setHours(0,0,0,0),t<=r&&(e.targetDate="Target date must be in the future")}return p(e),0===Object.keys(e).length})())try{if(t&&!l)return;const r={...m,targetWeight:Wr(m.targetWeight),startingWeight:m.startingWeight?Wr(m.startingWeight):void 0};t?await o(t.id,r):await s(r),c(!1),null==e||e()}catch(i){}},className:"space-y-4",children:[ze.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV(ar,{htmlFor:"goal-type",className:"cyber-label",children:"Goal Type"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:265,columnNumber:15},this),ze.jsxDEV("select",{value:m.goalType,onChange:e=>u({...m,goalType:e.target.value}),className:"cyber-input w-full",children:[ze.jsxDEV("option",{value:"lose",children:" Lose Weight"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:275,columnNumber:17},this),ze.jsxDEV("option",{value:"gain",children:" Gain Weight"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:276,columnNumber:17},this),ze.jsxDEV("option",{value:"maintain",children:" Maintain Weight"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:277,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:268,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:264,columnNumber:13},this),ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV(ar,{htmlFor:"target-weight",className:"cyber-label",children:"Target Weight (lbs)"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:282,columnNumber:15},this),ze.jsxDEV(ir,{id:"target-weight",type:"number",step:"0.1",min:"1",max:"2199",value:m.targetWeight,onChange:e=>u({...m,targetWeight:parseFloat(e.target.value)||0}),className:"cyber-input",placeholder:"165.0"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:285,columnNumber:15},this),d.targetWeight&&ze.jsxDEV("p",{className:"text-red-400 text-xs font-mono",children:d.targetWeight},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:299,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:281,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:263,columnNumber:11},this),ze.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV(ar,{htmlFor:"starting-weight",className:"cyber-label",children:"Starting Weight (lbs)"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:306,columnNumber:15},this),ze.jsxDEV(ir,{id:"starting-weight",type:"number",step:"0.1",min:"1",max:"2199",value:m.startingWeight||"",onChange:e=>u({...m,startingWeight:parseFloat(e.target.value)||void 0}),className:"cyber-input",placeholder:"Current weight"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:309,columnNumber:15},this),d.startingWeight&&ze.jsxDEV("p",{className:"text-red-400 text-xs font-mono",children:d.startingWeight},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:323,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:305,columnNumber:13},this),ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV(ar,{htmlFor:"target-date",className:"cyber-label",children:"Target Date (optional)"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:328,columnNumber:15},this),ze.jsxDEV(ir,{id:"target-date",type:"date",value:m.targetDate,onChange:e=>u({...m,targetDate:e.target.value}),className:"cyber-input",min:(new Date).toISOString().split("T")[0]},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:331,columnNumber:15},this),d.targetDate&&ze.jsxDEV("p",{className:"text-red-400 text-xs font-mono",children:d.targetDate},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:342,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:327,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:304,columnNumber:11},this),ze.jsxDEV("div",{className:"flex gap-3 pt-2",children:[ze.jsxDEV(Qt,{type:"submit",variant:"cyber-ki",disabled:n,className:"flex-1",children:n?ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-gray-300 border-t-transparent"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:356,columnNumber:19},this),"Saving..."]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:355,columnNumber:17},this):ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(j,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:361,columnNumber:19},this),t?"Update Goal":"Set Goal"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:360,columnNumber:17},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:348,columnNumber:13},this),t&&ze.jsxDEV(Qt,{type:"button",variant:"outline",onClick:()=>c(!1),className:"px-4",children:"Cancel"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:368,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:347,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:262,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:261,columnNumber:7},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/weight/components/WeightGoalForm.tsx",lineNumber:242,columnNumber:5},this)}function Br(e,t){return new Promise(function(r,s){let o;return Hr(e).then(function(e){try{return o=e,r(new Blob([t.slice(0,2),o,t.slice(2)],{type:"image/jpeg"}))}catch(i){return s(i)}},s)})}Mr.displayName="Progress";const Hr=e=>new Promise((t,r)=>{const s=new FileReader;s.addEventListener("load",({target:{result:e}})=>{const s=new DataView(e);let o=0;if(65496!==s.getUint16(o))return r("not a valid JPEG");for(o+=2;;){const i=s.getUint16(o);if(65498===i)break;const a=s.getUint16(o+2);if(65505===i&&1165519206===s.getUint32(o+4)){const i=o+10;let n;switch(s.getUint16(i)){case 18761:n=!0;break;case 19789:n=!1;break;default:return r("TIFF header contains invalid endian")}if(42!==s.getUint16(i+2,n))return r("TIFF header contains invalid version");const l=s.getUint32(i+4,n),c=i+l+2+12*s.getUint16(i+l,n);for(let e=i+l+2;e<c;e+=12)if(274==s.getUint16(e,n)){if(3!==s.getUint16(e+2,n))return r("Orientation data type is invalid");if(1!==s.getUint32(e+4,n))return r("Orientation data count is invalid");s.setUint16(e+8,1,n);break}return t(e.slice(o,o+2+a))}o+=2+a}return t(new Blob)}),s.readAsArrayBuffer(e)});var $r,zr,Jr,qr={},Qr={get exports(){return qr},set exports(e){qr=e}};Jr={},Qr.exports=Jr,Jr.parse=function(e,t){for(var r=Jr.bin.readUshort,s=Jr.bin.readUint,o=0,i={},a=new Uint8Array(e),n=a.length-4;101010256!=s(a,n);)n--;o=n,o+=4;var l=r(a,o+=4);r(a,o+=2);var c=s(a,o+=2),m=s(a,o+=4);o+=4,o=m;for(var u=0;u<l;u++){s(a,o),o+=4,o+=4,o+=4,s(a,o+=4),c=s(a,o+=4);var d=s(a,o+=4),p=r(a,o+=4),h=r(a,o+2),N=r(a,o+4);o+=6;var f=s(a,o+=8);o+=4,o+=p+h+N,Jr._readLocal(a,f,i,c,d,t)}return i},Jr._readLocal=function(e,t,r,s,o,i){var a=Jr.bin.readUshort,n=Jr.bin.readUint;n(e,t),a(e,t+=4),a(e,t+=2);var l=a(e,t+=2);n(e,t+=2),n(e,t+=4),t+=4;var c=a(e,t+=8),m=a(e,t+=2);t+=2;var u=Jr.bin.readUTF8(e,t,c);if(t+=c,t+=m,i)r[u]={size:o,csize:s};else{var d=new Uint8Array(e.buffer,t);if(0==l)r[u]=new Uint8Array(d.buffer.slice(t,t+s));else{if(8!=l)throw"unknown compression method: "+l;var p=new Uint8Array(o);Jr.inflateRaw(d,p),r[u]=p}}},Jr.inflateRaw=function(e,t){return Jr.F.inflate(e,t)},Jr.inflate=function(e,t){return e[0],e[1],Jr.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},Jr.deflate=function(e,t){null==t&&(t={level:6});var r=0,s=new Uint8Array(50+Math.floor(1.1*e.length));s[r]=120,s[r+1]=156,r+=2,r=Jr.F.deflateRaw(e,s,r,t.level);var o=Jr.adler(e,0,e.length);return s[r+0]=o>>>24&255,s[r+1]=o>>>16&255,s[r+2]=o>>>8&255,s[r+3]=o>>>0&255,new Uint8Array(s.buffer,0,r+4)},Jr.deflateRaw=function(e,t){null==t&&(t={level:6});var r=new Uint8Array(50+Math.floor(1.1*e.length)),s=Jr.F.deflateRaw(e,r,s,t.level);return new Uint8Array(r.buffer,0,s)},Jr.encode=function(e,t){null==t&&(t=!1);var r=0,s=Jr.bin.writeUint,o=Jr.bin.writeUshort,i={};for(var a in e){var n=!Jr._noNeed(a)&&!t,l=e[a],c=Jr.crc.crc(l,0,l.length);i[a]={cpr:n,usize:l.length,crc:c,file:n?Jr.deflateRaw(l):l}}for(var a in i)r+=i[a].file.length+30+46+2*Jr.bin.sizeUTF8(a);r+=22;var m=new Uint8Array(r),u=0,d=[];for(var a in i){var p=i[a];d.push(u),u=Jr._writeHeader(m,u,a,p,0)}var h=0,N=u;for(var a in i)p=i[a],d.push(u),u=Jr._writeHeader(m,u,a,p,1,d[h++]);var f=u-N;return s(m,u,101010256),u+=4,o(m,u+=4,h),o(m,u+=2,h),s(m,u+=2,f),s(m,u+=4,N),u+=4,u+=2,m.buffer},Jr._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return-1!="png,jpg,jpeg,zip".indexOf(t)},Jr._writeHeader=function(e,t,r,s,o,i){var a=Jr.bin.writeUint,n=Jr.bin.writeUshort,l=s.file;return a(e,t,0==o?67324752:33639248),t+=4,1==o&&(t+=2),n(e,t,20),n(e,t+=2,0),n(e,t+=2,s.cpr?8:0),a(e,t+=2,0),a(e,t+=4,s.crc),a(e,t+=4,l.length),a(e,t+=4,s.usize),n(e,t+=4,Jr.bin.sizeUTF8(r)),n(e,t+=2,0),t+=2,1==o&&(t+=2,t+=2,a(e,t+=6,i),t+=4),t+=Jr.bin.writeUTF8(e,t,r),0==o&&(e.set(l,t),t+=l.length),t},Jr.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var r=t,s=0;s<8;s++)1&r?r=3988292384^r>>>1:r>>>=1;e[t]=r}return e}(),update:function(e,t,r,s){for(var o=0;o<s;o++)e=Jr.crc.table[255&(e^t[r+o])]^e>>>8;return e},crc:function(e,t,r){return 4294967295^Jr.crc.update(4294967295,e,t,r)}},Jr.adler=function(e,t,r){for(var s=1,o=0,i=t,a=t+r;i<a;){for(var n=Math.min(i+5552,a);i<n;)o+=s+=e[i++];s%=65521,o%=65521}return o<<16|s},Jr.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,r){e[t]=255&r,e[t+1]=r>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,r){e[t]=255&r,e[t+1]=r>>8&255,e[t+2]=r>>16&255,e[t+3]=r>>24&255},readASCII:function(e,t,r){for(var s="",o=0;o<r;o++)s+=String.fromCharCode(e[t+o]);return s},writeASCII:function(e,t,r){for(var s=0;s<r.length;s++)e[t+s]=r.charCodeAt(s)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,r){for(var s,o="",i=0;i<r;i++)o+="%"+Jr.bin.pad(e[t+i].toString(16));try{s=decodeURIComponent(o)}catch(a){return Jr.bin.readASCII(e,t,r)}return s},writeUTF8:function(e,t,r){for(var s=r.length,o=0,i=0;i<s;i++){var a=r.charCodeAt(i);if(4294967168&a)if(4294965248&a)if(4294901760&a){if(4292870144&a)throw"e";e[t+o]=240|a>>18,e[t+o+1]=128|a>>12&63,e[t+o+2]=128|a>>6&63,e[t+o+3]=128|63&a,o+=4}else e[t+o]=224|a>>12,e[t+o+1]=128|a>>6&63,e[t+o+2]=128|63&a,o+=3;else e[t+o]=192|a>>6,e[t+o+1]=128|63&a,o+=2;else e[t+o]=a,o++}return o},sizeUTF8:function(e){for(var t=e.length,r=0,s=0;s<t;s++){var o=e.charCodeAt(s);if(4294967168&o)if(4294965248&o)if(4294901760&o){if(4292870144&o)throw"e";r+=4}else r+=3;else r+=2;else r++}return r}},Jr.F={},Jr.F.deflateRaw=function(e,t,r,s){var o=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][s],i=Jr.F.U,a=Jr.F._goodIndex;Jr.F._hash;var n=Jr.F._putsE,l=0,c=r<<3,m=0,u=e.length;if(0==s){for(;l<u;)n(t,c,l+(y=Math.min(65535,u-l))==u?1:0),c=Jr.F._copyExact(e,l,y,t,c+8),l+=y;return c>>>3}var d=i.lits,p=i.strt,h=i.prev,N=0,f=0,g=0,b=0,x=0,P=0;for(u>2&&(p[P=Jr.F._hash(e,0)]=0),l=0;l<u;l++){if(x=P,l+1<u-2){P=Jr.F._hash(e,l+1);var v=l+1&32767;h[v]=p[P],p[P]=v}if(m<=l){(N>14e3||f>26697)&&u-l>100&&(m<l&&(d[N]=l-m,N+=2,m=l),c=Jr.F._writeBlock(l==u-1||m==u?1:0,d,N,b,e,g,l-g,t,c),N=f=b=0,g=l);var j=0;l<u-2&&(j=Jr.F._bestMatch(e,l,h,x,Math.min(o[2],u-l),o[3]));var y=j>>>16,k=65535&j;if(0!=j){k=65535&j;var E=a(y=j>>>16,i.of0);i.lhst[257+E]++;var A=a(k,i.df0);i.dhst[A]++,b+=i.exb[E]+i.dxb[A],d[N]=y<<23|l-m,d[N+1]=k<<16|E<<8|A,N+=2,m=l+y}else i.lhst[e[l]]++;f++}}for(g==l&&0!=e.length||(m<l&&(d[N]=l-m,N+=2,m=l),c=Jr.F._writeBlock(1,d,N,b,e,g,l-g,t,c),N=0,f=0,N=f=b=0,g=l);7&c;)c++;return c>>>3},Jr.F._bestMatch=function(e,t,r,s,o,i){var a=32767&t,n=r[a],l=a-n+32768&32767;if(n==a||s!=Jr.F._hash(e,t-l))return 0;for(var c=0,m=0,u=Math.min(32767,t);l<=u&&0!=--i&&n!=a;){if(0==c||e[t+c]==e[t+c-l]){var d=Jr.F._howLong(e,t,l);if(d>c){if(m=l,(c=d)>=o)break;l+2<d&&(d=l+2);for(var p=0,h=0;h<d-2;h++){var N=t-l+h+32768&32767,f=N-r[N]+32768&32767;f>p&&(p=f,n=N)}}}l+=(a=n)-(n=r[a])+32768&32767}return c<<16|m},Jr.F._howLong=function(e,t,r){if(e[t]!=e[t-r]||e[t+1]!=e[t+1-r]||e[t+2]!=e[t+2-r])return 0;var s=t,o=Math.min(e.length,t+258);for(t+=3;t<o&&e[t]==e[t-r];)t++;return t-s},Jr.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},Jr.saved=0,Jr.F._writeBlock=function(e,t,r,s,o,i,a,n,l){var c,m,u,d,p,h,N,f,g,b=Jr.F.U,x=Jr.F._putsF,P=Jr.F._putsE;b.lhst[256]++,m=(c=Jr.F.getTrees())[0],u=c[1],d=c[2],p=c[3],h=c[4],N=c[5],f=c[6],g=c[7];var v=32+(l+3&7?8-(l+3&7):0)+(a<<3),j=s+Jr.F.contSize(b.fltree,b.lhst)+Jr.F.contSize(b.fdtree,b.dhst),y=s+Jr.F.contSize(b.ltree,b.lhst)+Jr.F.contSize(b.dtree,b.dhst);y+=14+3*N+Jr.F.contSize(b.itree,b.ihst)+(2*b.ihst[16]+3*b.ihst[17]+7*b.ihst[18]);for(var k=0;k<286;k++)b.lhst[k]=0;for(k=0;k<30;k++)b.dhst[k]=0;for(k=0;k<19;k++)b.ihst[k]=0;var E=v<j&&v<y?0:j<y?1:2;if(x(n,l,e),x(n,l+1,E),l+=3,0==E){for(;7&l;)l++;l=Jr.F._copyExact(o,i,a,n,l)}else{var A,C;if(1==E&&(A=b.fltree,C=b.fdtree),2==E){Jr.F.makeCodes(b.ltree,m),Jr.F.revCodes(b.ltree,m),Jr.F.makeCodes(b.dtree,u),Jr.F.revCodes(b.dtree,u),Jr.F.makeCodes(b.itree,d),Jr.F.revCodes(b.itree,d),A=b.ltree,C=b.dtree,P(n,l,p-257),P(n,l+=5,h-1),P(n,l+=5,N-4),l+=4;for(var w=0;w<N;w++)P(n,l+3*w,b.itree[1+(b.ordr[w]<<1)]);l+=3*N,l=Jr.F._codeTiny(f,b.itree,n,l),l=Jr.F._codeTiny(g,b.itree,n,l)}for(var D=i,V=0;V<r;V+=2){for(var Z=t[V],S=Z>>>23,T=D+(8388607&Z);D<T;)l=Jr.F._writeLit(o[D++],A,n,l);if(0!=S){var W=t[V+1],F=W>>16,L=W>>8&255,I=255&W;P(n,l=Jr.F._writeLit(257+L,A,n,l),S-b.of0[L]),l+=b.exb[L],x(n,l=Jr.F._writeLit(I,C,n,l),F-b.df0[I]),l+=b.dxb[I],D+=S}}l=Jr.F._writeLit(256,A,n,l)}return l},Jr.F._copyExact=function(e,t,r,s,o){var i=o>>>3;return s[i]=r,s[i+1]=r>>>8,s[i+2]=255-s[i],s[i+3]=255-s[i+1],i+=4,s.set(new Uint8Array(e.buffer,t,r),i),o+(r+4<<3)},Jr.F.getTrees=function(){for(var e=Jr.F.U,t=Jr.F._hufTree(e.lhst,e.ltree,15),r=Jr.F._hufTree(e.dhst,e.dtree,15),s=[],o=Jr.F._lenCodes(e.ltree,s),i=[],a=Jr.F._lenCodes(e.dtree,i),n=0;n<s.length;n+=2)e.ihst[s[n]]++;for(n=0;n<i.length;n+=2)e.ihst[i[n]]++;for(var l=Jr.F._hufTree(e.ihst,e.itree,7),c=19;c>4&&0==e.itree[1+(e.ordr[c-1]<<1)];)c--;return[t,r,l,o,a,c,s,i]},Jr.F.getSecond=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(e[r+1]);return t},Jr.F.nonZero=function(e){for(var t="",r=0;r<e.length;r+=2)0!=e[r+1]&&(t+=(r>>1)+",");return t},Jr.F.contSize=function(e,t){for(var r=0,s=0;s<t.length;s++)r+=t[s]*e[1+(s<<1)];return r},Jr.F._codeTiny=function(e,t,r,s){for(var o=0;o<e.length;o+=2){var i=e[o],a=e[o+1];s=Jr.F._writeLit(i,t,r,s);var n=16==i?2:17==i?3:7;i>15&&(Jr.F._putsE(r,s,a,n),s+=n)}return s},Jr.F._lenCodes=function(e,t){for(var r=e.length;2!=r&&0==e[r-1];)r-=2;for(var s=0;s<r;s+=2){var o=e[s+1],i=s+3<r?e[s+3]:-1,a=s+5<r?e[s+5]:-1,n=0==s?-1:e[s-1];if(0==o&&i==o&&a==o){for(var l=s+5;l+2<r&&e[l+2]==o;)l+=2;(c=Math.min(l+1-s>>>1,138))<11?t.push(17,c-3):t.push(18,c-11),s+=2*c-2}else if(o==n&&i==o&&a==o){for(l=s+5;l+2<r&&e[l+2]==o;)l+=2;var c=Math.min(l+1-s>>>1,6);t.push(16,c-3),s+=2*c-2}else t.push(o,0)}return r>>>1},Jr.F._hufTree=function(e,t,r){var s=[],o=e.length,i=t.length,a=0;for(a=0;a<i;a+=2)t[a]=0,t[a+1]=0;for(a=0;a<o;a++)0!=e[a]&&s.push({lit:a,f:e[a]});var n=s.length,l=s.slice(0);if(0==n)return 0;if(1==n){var c=s[0].lit;return l=0==c?1:0,t[1+(c<<1)]=1,t[1+(l<<1)]=1,1}s.sort(function(e,t){return e.f-t.f});var m=s[0],u=s[1],d=0,p=1,h=2;for(s[0]={lit:-1,f:m.f+u.f,l:m,r:u,d:0};p!=n-1;)m=d!=p&&(h==n||s[d].f<s[h].f)?s[d++]:s[h++],u=d!=p&&(h==n||s[d].f<s[h].f)?s[d++]:s[h++],s[p++]={lit:-1,f:m.f+u.f,l:m,r:u};var N=Jr.F.setDepth(s[p-1],0);for(N>r&&(Jr.F.restrictDepth(l,r,N),N=r),a=0;a<n;a++)t[1+(l[a].lit<<1)]=l[a].d;return N},Jr.F.setDepth=function(e,t){return-1!=e.lit?(e.d=t,t):Math.max(Jr.F.setDepth(e.l,t+1),Jr.F.setDepth(e.r,t+1))},Jr.F.restrictDepth=function(e,t,r){var s=0,o=1<<r-t,i=0;for(e.sort(function(e,t){return t.d==e.d?e.f-t.f:t.d-e.d}),s=0;s<e.length&&e[s].d>t;s++){var a=e[s].d;e[s].d=t,i+=o-(1<<r-a)}for(i>>>=r-t;i>0;)(a=e[s].d)<t?(e[s].d++,i-=1<<t-a-1):s++;for(;s>=0;s--)e[s].d==t&&i<0&&(e[s].d--,i++)},Jr.F._goodIndex=function(e,t){var r=0;return t[16|r]<=e&&(r|=16),t[8|r]<=e&&(r|=8),t[4|r]<=e&&(r|=4),t[2|r]<=e&&(r|=2),t[1|r]<=e&&(r|=1),r},Jr.F._writeLit=function(e,t,r,s){return Jr.F._putsF(r,s,t[e<<1]),s+t[1+(e<<1)]},Jr.F.inflate=function(e,t){var r=Uint8Array;if(3==e[0]&&0==e[1])return t||new r(0);var s=Jr.F,o=s._bitsF,i=s._bitsE,a=s._decodeTiny,n=s.makeCodes,l=s.codes2map,c=s._get17,m=s.U,u=null==t;u&&(t=new r(e.length>>>2<<3));for(var d,p,h=0,N=0,f=0,g=0,b=0,x=0,P=0,v=0,j=0;0==h;)if(h=o(e,j,1),N=o(e,j+1,2),j+=3,0!=N){if(u&&(t=Jr.F._check(t,v+(1<<17))),1==N&&(d=m.flmap,p=m.fdmap,x=511,P=31),2==N){f=i(e,j,5)+257,g=i(e,j+5,5)+1,b=i(e,j+10,4)+4,j+=14;for(var y=0;y<38;y+=2)m.itree[y]=0,m.itree[y+1]=0;var k=1;for(y=0;y<b;y++){var E=i(e,j+3*y,3);m.itree[1+(m.ordr[y]<<1)]=E,E>k&&(k=E)}j+=3*b,n(m.itree,k),l(m.itree,k,m.imap),d=m.lmap,p=m.dmap,j=a(m.imap,(1<<k)-1,f+g,e,j,m.ttree);var A=s._copyOut(m.ttree,0,f,m.ltree);x=(1<<A)-1;var C=s._copyOut(m.ttree,f,g,m.dtree);P=(1<<C)-1,n(m.ltree,A),l(m.ltree,A,d),n(m.dtree,C),l(m.dtree,C,p)}for(;;){var w=d[c(e,j)&x];j+=15&w;var D=w>>>4;if(D>>>8==0)t[v++]=D;else{if(256==D)break;var V=v+D-254;if(D>264){var Z=m.ldef[D-257];V=v+(Z>>>3)+i(e,j,7&Z),j+=7&Z}var S=p[c(e,j)&P];j+=15&S;var T=S>>>4,W=m.ddef[T],F=(W>>>4)+o(e,j,15&W);for(j+=15&W,u&&(t=Jr.F._check(t,v+(1<<17)));v<V;)t[v]=t[v++-F],t[v]=t[v++-F],t[v]=t[v++-F],t[v]=t[v++-F];v=V}}}else{7&j&&(j+=8-(7&j));var L=4+(j>>>3),I=e[L-4]|e[L-3]<<8;u&&(t=Jr.F._check(t,v+I)),t.set(new r(e.buffer,e.byteOffset+L,I),v),j=L+I<<3,v+=I}return t.length==v?t:t.slice(0,v)},Jr.F._check=function(e,t){var r=e.length;if(t<=r)return e;var s=new Uint8Array(Math.max(r<<1,t));return s.set(e,0),s},Jr.F._decodeTiny=function(e,t,r,s,o,i){for(var a=Jr.F._bitsE,n=Jr.F._get17,l=0;l<r;){var c=e[n(s,o)&t];o+=15&c;var m=c>>>4;if(m<=15)i[l]=m,l++;else{var u=0,d=0;16==m?(d=3+a(s,o,2),o+=2,u=i[l-1]):17==m?(d=3+a(s,o,3),o+=3):18==m&&(d=11+a(s,o,7),o+=7);for(var p=l+d;l<p;)i[l]=u,l++}}return o},Jr.F._copyOut=function(e,t,r,s){for(var o=0,i=0,a=s.length>>>1;i<r;){var n=e[i+t];s[i<<1]=0,s[1+(i<<1)]=n,n>o&&(o=n),i++}for(;i<a;)s[i<<1]=0,s[1+(i<<1)]=0,i++;return o},Jr.F.makeCodes=function(e,t){for(var r,s,o,i,a=Jr.F.U,n=e.length,l=a.bl_count,c=0;c<=t;c++)l[c]=0;for(c=1;c<n;c+=2)l[e[c]]++;var m=a.next_code;for(r=0,l[0]=0,s=1;s<=t;s++)r=r+l[s-1]<<1,m[s]=r;for(o=0;o<n;o+=2)0!=(i=e[o+1])&&(e[o]=m[i],m[i]++)},Jr.F.codes2map=function(e,t,r){for(var s=e.length,o=Jr.F.U.rev15,i=0;i<s;i+=2)if(0!=e[i+1])for(var a=i>>1,n=e[i+1],l=a<<4|n,c=t-n,m=e[i]<<c,u=m+(1<<c);m!=u;)r[o[m]>>>15-t]=l,m++},Jr.F.revCodes=function(e,t){for(var r=Jr.F.U.rev15,s=15-t,o=0;o<e.length;o+=2){var i=e[o]<<t-e[o+1];e[o]=r[i]>>>s}},Jr.F._putsE=function(e,t,r){r<<=7&t;var s=t>>>3;e[s]|=r,e[s+1]|=r>>>8},Jr.F._putsF=function(e,t,r){r<<=7&t;var s=t>>>3;e[s]|=r,e[s+1]|=r>>>8,e[s+2]|=r>>>16},Jr.F._bitsE=function(e,t,r){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<r)-1},Jr.F._bitsF=function(e,t,r){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<r)-1},Jr.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},Jr.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},Jr.F.U=($r=Uint16Array,zr=Uint32Array,{next_code:new $r(16),bl_count:new $r(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new $r(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new zr(32),flmap:new $r(512),fltree:[],fdmap:new $r(32),fdtree:[],lmap:new $r(32768),ltree:[],ttree:[],dmap:new $r(32768),dtree:[],imap:new $r(512),itree:[],rev15:new $r(32768),lhst:new zr(286),dhst:new zr(30),ihst:new zr(19),lits:new zr(15e3),strt:new $r(65536),prev:new $r(32768)}),function(){for(var e=Jr.F.U,t=0;t<32768;t++){var r=t;r=(4278255360&(r=(4042322160&(r=(3435973836&(r=(2863311530&r)>>>1|(1431655765&r)<<1))>>>2|(858993459&r)<<2))>>>4|(252645135&r)<<4))>>>8|(16711935&r)<<8,e.rev15[t]=(r>>>16|r<<16)>>>17}function s(e,t,r){for(;0!=t--;)e.push(0,r)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];s(e.fltree,144,8),s(e.fltree,112,9),s(e.fltree,24,7),s(e.fltree,8,8),Jr.F.makeCodes(e.fltree,9),Jr.F.codes2map(e.fltree,9,e.flmap),Jr.F.revCodes(e.fltree,9),s(e.fdtree,32,5),Jr.F.makeCodes(e.fdtree,5),Jr.F.codes2map(e.fdtree,5,e.fdmap),Jr.F.revCodes(e.fdtree,5),s(e.itree,19,0),s(e.ltree,286,0),s(e.dtree,30,0),s(e.ttree,320,0)}();var Kr,Yr=(Kr={__proto__:null,default:qr},[qr].forEach(function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach(function(t){if("default"!==t&&!(t in Kr)){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(Kr,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}})}),Object.freeze(Kr));const Xr=function(){var e={nextZero(e,t){for(;0!=e[t];)t++;return t},readUshort:(e,t)=>e[t]<<8|e[t+1],writeUshort(e,t,r){e[t]=r>>8&255,e[t+1]=255&r},readUint:(e,t)=>16777216*e[t]+(e[t+1]<<16|e[t+2]<<8|e[t+3]),writeUint(e,t,r){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r},readASCII(e,t,r){let s="";for(let o=0;o<r;o++)s+=String.fromCharCode(e[t+o]);return s},writeASCII(e,t,r){for(let s=0;s<r.length;s++)e[t+s]=r.charCodeAt(s)},readBytes(e,t,r){const s=[];for(let o=0;o<r;o++)s.push(e[t+o]);return s},pad:e=>e.length<2?`0${e}`:e,readUTF8(t,r,s){let o,i="";for(let n=0;n<s;n++)i+=`%${e.pad(t[r+n].toString(16))}`;try{o=decodeURIComponent(i)}catch(a){return e.readASCII(t,r,s)}return o}};function t(t,r,s,o){const a=r*s,n=i(o),l=Math.ceil(r*n/8),c=new Uint8Array(4*a),m=new Uint32Array(c.buffer),{ctype:u}=o,{depth:d}=o,p=e.readUshort;if(6==u){const e=a<<2;if(8==d)for(var h=0;h<e;h+=4)c[h]=t[h],c[h+1]=t[h+1],c[h+2]=t[h+2],c[h+3]=t[h+3];if(16==d)for(h=0;h<e;h++)c[h]=t[h<<1]}else if(2==u){const e=o.tabs.tRNS;if(null==e){if(8==d)for(h=0;h<a;h++){var N=3*h;m[h]=255<<24|t[N+2]<<16|t[N+1]<<8|t[N]}if(16==d)for(h=0;h<a;h++)N=6*h,m[h]=255<<24|t[N+4]<<16|t[N+2]<<8|t[N]}else{var f=e[0];const r=e[1],s=e[2];if(8==d)for(h=0;h<a;h++){var g=h<<2;N=3*h,m[h]=255<<24|t[N+2]<<16|t[N+1]<<8|t[N],t[N]==f&&t[N+1]==r&&t[N+2]==s&&(c[g+3]=0)}if(16==d)for(h=0;h<a;h++)g=h<<2,N=6*h,m[h]=255<<24|t[N+4]<<16|t[N+2]<<8|t[N],p(t,N)==f&&p(t,N+2)==r&&p(t,N+4)==s&&(c[g+3]=0)}}else if(3==u){const e=o.tabs.PLTE,i=o.tabs.tRNS,n=i?i.length:0;if(1==d)for(var b=0;b<s;b++){var x=b*l,P=b*r;for(h=0;h<r;h++){g=P+h<<2;var v=3*(j=t[x+(h>>3)]>>7-(7&h)&1);c[g]=e[v],c[g+1]=e[v+1],c[g+2]=e[v+2],c[g+3]=j<n?i[j]:255}}if(2==d)for(b=0;b<s;b++)for(x=b*l,P=b*r,h=0;h<r;h++)g=P+h<<2,v=3*(j=t[x+(h>>2)]>>6-((3&h)<<1)&3),c[g]=e[v],c[g+1]=e[v+1],c[g+2]=e[v+2],c[g+3]=j<n?i[j]:255;if(4==d)for(b=0;b<s;b++)for(x=b*l,P=b*r,h=0;h<r;h++)g=P+h<<2,v=3*(j=t[x+(h>>1)]>>4-((1&h)<<2)&15),c[g]=e[v],c[g+1]=e[v+1],c[g+2]=e[v+2],c[g+3]=j<n?i[j]:255;if(8==d)for(h=0;h<a;h++){var j;g=h<<2,v=3*(j=t[h]),c[g]=e[v],c[g+1]=e[v+1],c[g+2]=e[v+2],c[g+3]=j<n?i[j]:255}}else if(4==u){if(8==d)for(h=0;h<a;h++){g=h<<2;var y=t[k=h<<1];c[g]=y,c[g+1]=y,c[g+2]=y,c[g+3]=t[k+1]}if(16==d)for(h=0;h<a;h++){var k;g=h<<2,y=t[k=h<<2],c[g]=y,c[g+1]=y,c[g+2]=y,c[g+3]=t[k+2]}}else if(0==u)for(f=o.tabs.tRNS?o.tabs.tRNS:-1,b=0;b<s;b++){const e=b*l,s=b*r;if(1==d)for(var E=0;E<r;E++){var A=(y=255*(t[e+(E>>>3)]>>>7-(7&E)&1))==255*f?0:255;m[s+E]=A<<24|y<<16|y<<8|y}else if(2==d)for(E=0;E<r;E++)A=(y=85*(t[e+(E>>>2)]>>>6-((3&E)<<1)&3))==85*f?0:255,m[s+E]=A<<24|y<<16|y<<8|y;else if(4==d)for(E=0;E<r;E++)A=(y=17*(t[e+(E>>>1)]>>>4-((1&E)<<2)&15))==17*f?0:255,m[s+E]=A<<24|y<<16|y<<8|y;else if(8==d)for(E=0;E<r;E++)A=(y=t[e+E])==f?0:255,m[s+E]=A<<24|y<<16|y<<8|y;else if(16==d)for(E=0;E<r;E++)y=t[e+(E<<1)],A=p(t,e+(E<<1))==f?0:255,m[s+E]=A<<24|y<<16|y<<8|y}return c}function r(e,t,r,n){const l=i(e),c=Math.ceil(r*l/8),m=new Uint8Array((c+1+e.interlace)*n);return t=e.tabs.CgBI?o(t,m):s(t,m),0==e.interlace?t=a(t,e,0,r,n):1==e.interlace&&(t=function(e,t){const r=t.width,s=t.height,o=i(t),n=o>>3,l=Math.ceil(r*o/8),c=new Uint8Array(s*l);let m=0;const u=[0,0,4,0,2,0,1],d=[0,4,0,2,0,1,0],p=[8,8,8,4,4,2,2],h=[8,8,4,4,2,2,1];let N=0;for(;N<7;){const i=p[N],g=h[N];let b=0,x=0,P=u[N];for(;P<s;)P+=i,x++;let v=d[N];for(;v<r;)v+=g,b++;const j=Math.ceil(b*o/8);a(e,t,m,b,x);let y=0,k=u[N];for(;k<s;){let t=d[N],s=m+y*j<<3;for(;t<r;){var f;if(1==o&&(f=(f=e[s>>3])>>7-(7&s)&1,c[k*l+(t>>3)]|=f<<7-(7&t)),2==o&&(f=(f=e[s>>3])>>6-(7&s)&3,c[k*l+(t>>2)]|=f<<6-((3&t)<<1)),4==o&&(f=(f=e[s>>3])>>4-(7&s)&15,c[k*l+(t>>1)]|=f<<4-((1&t)<<2)),o>=8){const r=k*l+t*n;for(let t=0;t<n;t++)c[r+t]=e[(s>>3)+t]}s+=o,t+=g}y++,k+=i}b*x!=0&&(m+=x*(1+j)),N+=1}return c}(t,e)),t}function s(e,t){return o(new Uint8Array(e.buffer,2,e.length-6),t)}var o=function(){const e={H:{}};return e.H.N=function(t,r){const s=Uint8Array;let o,i,a=0,n=0,l=0,c=0,m=0,u=0,d=0,p=0,h=0;if(3==t[0]&&0==t[1])return r||new s(0);const N=e.H,f=N.b,g=N.e,b=N.R,x=N.n,P=N.A,v=N.Z,j=N.m,y=null==r;for(y&&(r=new s(t.length>>>2<<5));0==a;)if(a=f(t,h,1),n=f(t,h+1,2),h+=3,0!=n){if(y&&(r=e.H.W(r,p+(1<<17))),1==n&&(o=j.J,i=j.h,u=511,d=31),2==n){l=g(t,h,5)+257,c=g(t,h+5,5)+1,m=g(t,h+10,4)+4,h+=14;let e=1;for(var k=0;k<38;k+=2)j.Q[k]=0,j.Q[k+1]=0;for(k=0;k<m;k++){const r=g(t,h+3*k,3);j.Q[1+(j.X[k]<<1)]=r,r>e&&(e=r)}h+=3*m,x(j.Q,e),P(j.Q,e,j.u),o=j.w,i=j.d,h=b(j.u,(1<<e)-1,l+c,t,h,j.v);const r=N.V(j.v,0,l,j.C);u=(1<<r)-1;const s=N.V(j.v,l,c,j.D);d=(1<<s)-1,x(j.C,r),P(j.C,r,o),x(j.D,s),P(j.D,s,i)}for(;;){const e=o[v(t,h)&u];h+=15&e;const s=e>>>4;if(s>>>8==0)r[p++]=s;else{if(256==s)break;{let e=p+s-254;if(s>264){const r=j.q[s-257];e=p+(r>>>3)+g(t,h,7&r),h+=7&r}const o=i[v(t,h)&d];h+=15&o;const a=o>>>4,n=j.c[a],l=(n>>>4)+f(t,h,15&n);for(h+=15&n;p<e;)r[p]=r[p++-l],r[p]=r[p++-l],r[p]=r[p++-l],r[p]=r[p++-l];p=e}}}}else{7&h&&(h+=8-(7&h));const o=4+(h>>>3),i=t[o-4]|t[o-3]<<8;y&&(r=e.H.W(r,p+i)),r.set(new s(t.buffer,t.byteOffset+o,i),p),h=o+i<<3,p+=i}return r.length==p?r:r.slice(0,p)},e.H.W=function(e,t){const r=e.length;if(t<=r)return e;const s=new Uint8Array(r<<1);return s.set(e,0),s},e.H.R=function(t,r,s,o,i,a){const n=e.H.e,l=e.H.Z;let c=0;for(;c<s;){const e=t[l(o,i)&r];i+=15&e;const s=e>>>4;if(s<=15)a[c]=s,c++;else{let e=0,t=0;16==s?(t=3+n(o,i,2),i+=2,e=a[c-1]):17==s?(t=3+n(o,i,3),i+=3):18==s&&(t=11+n(o,i,7),i+=7);const r=c+t;for(;c<r;)a[c]=e,c++}}return i},e.H.V=function(e,t,r,s){let o=0,i=0;const a=s.length>>>1;for(;i<r;){const r=e[i+t];s[i<<1]=0,s[1+(i<<1)]=r,r>o&&(o=r),i++}for(;i<a;)s[i<<1]=0,s[1+(i<<1)]=0,i++;return o},e.H.n=function(t,r){const s=e.H.m,o=t.length;let i,a,n,l;const c=s.j;for(var m=0;m<=r;m++)c[m]=0;for(m=1;m<o;m+=2)c[t[m]]++;const u=s.K;for(i=0,c[0]=0,a=1;a<=r;a++)i=i+c[a-1]<<1,u[a]=i;for(n=0;n<o;n+=2)l=t[n+1],0!=l&&(t[n]=u[l],u[l]++)},e.H.A=function(t,r,s){const o=t.length,i=e.H.m.r;for(let e=0;e<o;e+=2)if(0!=t[e+1]){const o=e>>1,a=t[e+1],n=o<<4|a,l=r-a;let c=t[e]<<l;const m=c+(1<<l);for(;c!=m;)s[i[c]>>>15-r]=n,c++}},e.H.l=function(t,r){const s=e.H.m.r,o=15-r;for(let e=0;e<t.length;e+=2){const i=t[e]<<r-t[e+1];t[e]=s[i]>>>o}},e.H.M=function(e,t,r){r<<=7&t;const s=t>>>3;e[s]|=r,e[s+1]|=r>>>8},e.H.I=function(e,t,r){r<<=7&t;const s=t>>>3;e[s]|=r,e[s+1]|=r>>>8,e[s+2]|=r>>>16},e.H.e=function(e,t,r){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<r)-1},e.H.b=function(e,t,r){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<r)-1},e.H.Z=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},e.H.i=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},e.H.m=function(){const e=Uint16Array,t=Uint32Array;return{K:new e(16),j:new e(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new e(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new t(32),J:new e(512),_:[],h:new e(32),$:[],w:new e(32768),C:[],v:[],d:new e(32768),D:[],u:new e(512),Q:[],r:new e(32768),s:new t(286),Y:new t(30),a:new t(19),t:new t(15e3),k:new e(65536),g:new e(32768)}}(),function(){const t=e.H.m;for(var r=0;r<32768;r++){let e=r;e=(2863311530&e)>>>1|(1431655765&e)<<1,e=(3435973836&e)>>>2|(858993459&e)<<2,e=(4042322160&e)>>>4|(252645135&e)<<4,e=(4278255360&e)>>>8|(16711935&e)<<8,t.r[r]=(e>>>16|e<<16)>>>17}function s(e,t,r){for(;0!=t--;)e.push(0,r)}for(r=0;r<32;r++)t.q[r]=t.S[r]<<3|t.T[r],t.c[r]=t.p[r]<<4|t.z[r];s(t._,144,8),s(t._,112,9),s(t._,24,7),s(t._,8,8),e.H.n(t._,9),e.H.A(t._,9,t.J),e.H.l(t._,9),s(t.$,32,5),e.H.n(t.$,5),e.H.A(t.$,5,t.h),e.H.l(t.$,5),s(t.Q,19,0),s(t.C,286,0),s(t.D,30,0),s(t.v,320,0)}(),e.H.N}();function i(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth}function a(e,t,r,s,o){let a=i(t);const l=Math.ceil(s*a/8);let c,m;a=Math.ceil(a/8);let u=e[r],d=0;if(u>1&&(e[r]=[0,0,1][u-2]),3==u)for(d=a;d<l;d++)e[d+1]=e[d+1]+(e[d+1-a]>>>1)&255;for(let i=0;i<o;i++)if(c=r+i*l,m=c+i+1,u=e[m-1],d=0,0==u)for(;d<l;d++)e[c+d]=e[m+d];else if(1==u){for(;d<a;d++)e[c+d]=e[m+d];for(;d<l;d++)e[c+d]=e[m+d]+e[c+d-a]}else if(2==u)for(;d<l;d++)e[c+d]=e[m+d]+e[c+d-l];else if(3==u){for(;d<a;d++)e[c+d]=e[m+d]+(e[c+d-l]>>>1);for(;d<l;d++)e[c+d]=e[m+d]+(e[c+d-l]+e[c+d-a]>>>1)}else{for(;d<a;d++)e[c+d]=e[m+d]+n(0,e[c+d-l],0);for(;d<l;d++)e[c+d]=e[m+d]+n(e[c+d-a],e[c+d-l],e[c+d-a-l])}return e}function n(e,t,r){const s=e+t-r,o=s-e,i=s-t,a=s-r;return o*o<=i*i&&o*o<=a*a?e:i*i<=a*a?t:r}function l(t,r,s){s.width=e.readUint(t,r),r+=4,s.height=e.readUint(t,r),r+=4,s.depth=t[r],r++,s.ctype=t[r],r++,s.compress=t[r],r++,s.filter=t[r],r++,s.interlace=t[r],r++}function c(e,t,r,s,o,i,a,n,l){const c=Math.min(t,o),m=Math.min(r,i);let u=0,d=0;for(let v=0;v<m;v++)for(let r=0;r<c;r++)if(a>=0&&n>=0?(u=v*t+r<<2,d=(n+v)*o+a+r<<2):(u=(-n+v)*t-a+r<<2,d=v*o+r<<2),0==l)s[d]=e[u],s[d+1]=e[u+1],s[d+2]=e[u+2],s[d+3]=e[u+3];else if(1==l){var p=e[u+3]*(1/255),h=e[u]*p,N=e[u+1]*p,f=e[u+2]*p,g=s[d+3]*(1/255),b=s[d]*g,x=s[d+1]*g,P=s[d+2]*g;const t=1-p,r=p+g*t,o=0==r?0:1/r;s[d+3]=255*r,s[d+0]=(h+b*t)*o,s[d+1]=(N+x*t)*o,s[d+2]=(f+P*t)*o}else if(2==l)p=e[u+3],h=e[u],N=e[u+1],f=e[u+2],g=s[d+3],b=s[d],x=s[d+1],P=s[d+2],p==g&&h==b&&N==x&&f==P?(s[d]=0,s[d+1]=0,s[d+2]=0,s[d+3]=0):(s[d]=h,s[d+1]=N,s[d+2]=f,s[d+3]=p);else if(3==l){if(p=e[u+3],h=e[u],N=e[u+1],f=e[u+2],g=s[d+3],b=s[d],x=s[d+1],P=s[d+2],p==g&&h==b&&N==x&&f==P)continue;if(p<220&&g>20)return!1}return!0}return{decode:function(t){const i=new Uint8Array(t);let a=8;const n=e,c=n.readUshort,m=n.readUint,u={tabs:{},frames:[]},d=new Uint8Array(i.length);let p,h=0,N=0;const f=[137,80,78,71,13,10,26,10];for(var g=0;g<8;g++)if(i[g]!=f[g])throw"The input is not a PNG file!";for(;a<i.length;){const e=n.readUint(i,a);a+=4;const t=n.readASCII(i,a,4);if(a+=4,"IHDR"==t)l(i,a,u);else if("iCCP"==t){for(var b=a;0!=i[b];)b++;n.readASCII(i,a,b-a),i[b+1];const r=i.slice(b+2,a+e);let l=null;try{l=s(r)}catch(E){l=o(r)}u.tabs[t]=l}else if("CgBI"==t)u.tabs[t]=i.slice(a,a+4);else if("IDAT"==t){for(g=0;g<e;g++)d[h+g]=i[a+g];h+=e}else if("acTL"==t)u.tabs[t]={num_frames:m(i,a),num_plays:m(i,a+4)},p=new Uint8Array(i.length);else if("fcTL"==t){0!=N&&((k=u.frames[u.frames.length-1]).data=r(u,p.slice(0,N),k.rect.width,k.rect.height),N=0);const e={x:m(i,a+12),y:m(i,a+16),width:m(i,a+4),height:m(i,a+8)};let t=c(i,a+22);t=c(i,a+20)/(0==t?100:t);const s={rect:e,delay:Math.round(1e3*t),dispose:i[a+24],blend:i[a+25]};u.frames.push(s)}else if("fdAT"==t){for(g=0;g<e-4;g++)p[N+g]=i[a+g+4];N+=e-4}else if("pHYs"==t)u.tabs[t]=[n.readUint(i,a),n.readUint(i,a+4),i[a+8]];else if("cHRM"==t)for(u.tabs[t]=[],g=0;g<8;g++)u.tabs[t].push(n.readUint(i,a+4*g));else if("tEXt"==t||"zTXt"==t){null==u.tabs[t]&&(u.tabs[t]={});var x=n.nextZero(i,a),P=n.readASCII(i,a,x-a),v=a+e-x-1;if("tEXt"==t)y=n.readASCII(i,x+1,v);else{var j=s(i.slice(x+2,x+2+v));y=n.readUTF8(j,0,j.length)}u.tabs[t][P]=y}else if("iTXt"==t){null==u.tabs[t]&&(u.tabs[t]={}),x=0,b=a,x=n.nextZero(i,b),P=n.readASCII(i,b,x-b);const r=i[b=x+1];var y;i[b+1],b+=2,x=n.nextZero(i,b),n.readASCII(i,b,x-b),b=x+1,x=n.nextZero(i,b),n.readUTF8(i,b,x-b),v=e-((b=x+1)-a),0==r?y=n.readUTF8(i,b,v):(j=s(i.slice(b,b+v)),y=n.readUTF8(j,0,j.length)),u.tabs[t][P]=y}else if("PLTE"==t)u.tabs[t]=n.readBytes(i,a,e);else if("hIST"==t){const e=u.tabs.PLTE.length/3;for(u.tabs[t]=[],g=0;g<e;g++)u.tabs[t].push(c(i,a+2*g))}else if("tRNS"==t)3==u.ctype?u.tabs[t]=n.readBytes(i,a,e):0==u.ctype?u.tabs[t]=c(i,a):2==u.ctype&&(u.tabs[t]=[c(i,a),c(i,a+2),c(i,a+4)]);else if("gAMA"==t)u.tabs[t]=n.readUint(i,a)/1e5;else if("sRGB"==t)u.tabs[t]=i[a];else if("bKGD"==t)0==u.ctype||4==u.ctype?u.tabs[t]=[c(i,a)]:2==u.ctype||6==u.ctype?u.tabs[t]=[c(i,a),c(i,a+2),c(i,a+4)]:3==u.ctype&&(u.tabs[t]=i[a]);else if("IEND"==t)break;a+=e,n.readUint(i,a),a+=4}var k;return 0!=N&&((k=u.frames[u.frames.length-1]).data=r(u,p.slice(0,N),k.rect.width,k.rect.height)),u.data=r(u,d,u.width,u.height),delete u.compress,delete u.interlace,delete u.filter,u},toRGBA8:function(e){const r=e.width,s=e.height;if(null==e.tabs.acTL)return[t(e.data,r,s,e).buffer];const o=[];null==e.frames[0].data&&(e.frames[0].data=e.data);const i=r*s*4,a=new Uint8Array(i),n=new Uint8Array(i),l=new Uint8Array(i);for(let u=0;u<e.frames.length;u++){const d=e.frames[u],p=d.rect.x,h=d.rect.y,N=d.rect.width,f=d.rect.height,g=t(d.data,N,f,e);if(0!=u)for(var m=0;m<i;m++)l[m]=a[m];if(0==d.blend?c(g,N,f,a,r,s,p,h,0):1==d.blend&&c(g,N,f,a,r,s,p,h,1),o.push(a.buffer.slice(0)),0==d.dispose);else if(1==d.dispose)c(n,N,f,a,r,s,p,h,0);else if(2==d.dispose)for(m=0;m<i;m++)a[m]=l[m]}return o},_paeth:n,_copyTile:c,_bin:e}}();!function(){const{_copyTile:e}=Xr,{_bin:t}=Xr,r=Xr._paeth;var s={table:function(){const e=new Uint32Array(256);for(let t=0;t<256;t++){let r=t;for(let e=0;e<8;e++)1&r?r=3988292384^r>>>1:r>>>=1;e[t]=r}return e}(),update(e,t,r,o){for(let i=0;i<o;i++)e=s.table[255&(e^t[r+i])]^e>>>8;return e},crc:(e,t,r)=>4294967295^s.update(4294967295,e,t,r)};function o(e,t,r,s){t[r]+=e[0]*s>>4,t[r+1]+=e[1]*s>>4,t[r+2]+=e[2]*s>>4,t[r+3]+=e[3]*s>>4}function i(e){return Math.max(0,Math.min(255,e))}function a(e,t){const r=e[0]-t[0],s=e[1]-t[1],o=e[2]-t[2],i=e[3]-t[3];return r*r+s*s+o*o+i*i}function n(e,t,r,s,n,l,c){null==c&&(c=1);const m=s.length,u=[];for(var d=0;d<m;d++){const e=s[d];u.push([e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255])}for(d=0;d<m;d++){let e=4294967295;for(var p=0,h=0;h<m;h++){var N=a(u[d],u[h]);h!=d&&N<e&&(e=N,p=h)}}const f=new Uint32Array(n.buffer),g=new Int16Array(t*r*4),b=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(d=0;d<b.length;d++)b[d]=255*((b[d]+.5)/16-.5);for(let P=0;P<r;P++)for(let n=0;n<t;n++){var x;d=4*(P*t+n),2!=c?x=[i(e[d]+g[d]),i(e[d+1]+g[d+1]),i(e[d+2]+g[d+2]),i(e[d+3]+g[d+3])]:(N=b[4*(3&P)+(3&n)],x=[i(e[d]+N),i(e[d+1]+N),i(e[d+2]+N),i(e[d+3]+N)]),p=0;let v=16777215;for(h=0;h<m;h++){const e=a(x,u[h]);e<v&&(v=e,p=h)}const j=u[p],y=[x[0]-j[0],x[1]-j[1],x[2]-j[2],x[3]-j[3]];1==c&&(n!=t-1&&o(y,g,d+4,7),P!=r-1&&(0!=n&&o(y,g,d+4*t-4,3),o(y,g,d+4*t,5),n!=t-1&&o(y,g,d+4*t+4,1))),l[d>>2]=p,f[d>>2]=s[p]}}function l(e,r,o,i,a){null==a&&(a={});const{crc:n}=s,l=t.writeUint,c=t.writeUshort,m=t.writeASCII;let u=8;const d=e.frames.length>1;let p,h=!1,N=33+(d?20:0);if(null!=a.sRGB&&(N+=13),null!=a.pHYs&&(N+=21),null!=a.iCCP&&(p=pako.deflate(a.iCCP),N+=21+p.length+4),3==e.ctype){for(var f=e.plte.length,g=0;g<f;g++)e.plte[g]>>>24!=255&&(h=!0);N+=8+3*f+4+(h?8+1*f+4:0)}for(var b=0;b<e.frames.length;b++)d&&(N+=38),N+=(j=e.frames[b]).cimg.length+12,0!=b&&(N+=4);N+=12;const x=new Uint8Array(N),P=[137,80,78,71,13,10,26,10];for(g=0;g<8;g++)x[g]=P[g];if(l(x,u,13),u+=4,m(x,u,"IHDR"),u+=4,l(x,u,r),u+=4,l(x,u,o),u+=4,x[u]=e.depth,u++,x[u]=e.ctype,u++,x[u]=0,u++,x[u]=0,u++,x[u]=0,u++,l(x,u,n(x,u-17,17)),u+=4,null!=a.sRGB&&(l(x,u,1),u+=4,m(x,u,"sRGB"),u+=4,x[u]=a.sRGB,u++,l(x,u,n(x,u-5,5)),u+=4),null!=a.iCCP){const e=13+p.length;l(x,u,e),u+=4,m(x,u,"iCCP"),u+=4,m(x,u,"ICC profile"),u+=11,u+=2,x.set(p,u),u+=p.length,l(x,u,n(x,u-(e+4),e+4)),u+=4}if(null!=a.pHYs&&(l(x,u,9),u+=4,m(x,u,"pHYs"),u+=4,l(x,u,a.pHYs[0]),u+=4,l(x,u,a.pHYs[1]),u+=4,x[u]=a.pHYs[2],u++,l(x,u,n(x,u-13,13)),u+=4),d&&(l(x,u,8),u+=4,m(x,u,"acTL"),u+=4,l(x,u,e.frames.length),u+=4,l(x,u,null!=a.loop?a.loop:0),u+=4,l(x,u,n(x,u-12,12)),u+=4),3==e.ctype){for(l(x,u,3*(f=e.plte.length)),u+=4,m(x,u,"PLTE"),u+=4,g=0;g<f;g++){const t=3*g,r=e.plte[g],s=255&r,o=r>>>8&255,i=r>>>16&255;x[u+t+0]=s,x[u+t+1]=o,x[u+t+2]=i}if(u+=3*f,l(x,u,n(x,u-3*f-4,3*f+4)),u+=4,h){for(l(x,u,f),u+=4,m(x,u,"tRNS"),u+=4,g=0;g<f;g++)x[u+g]=e.plte[g]>>>24&255;u+=f,l(x,u,n(x,u-f-4,f+4)),u+=4}}let v=0;for(b=0;b<e.frames.length;b++){var j=e.frames[b];d&&(l(x,u,26),u+=4,m(x,u,"fcTL"),u+=4,l(x,u,v++),u+=4,l(x,u,j.rect.width),u+=4,l(x,u,j.rect.height),u+=4,l(x,u,j.rect.x),u+=4,l(x,u,j.rect.y),u+=4,c(x,u,i[b]),u+=2,c(x,u,1e3),u+=2,x[u]=j.dispose,u++,x[u]=j.blend,u++,l(x,u,n(x,u-30,30)),u+=4);const t=j.cimg;l(x,u,(f=t.length)+(0==b?0:4)),u+=4;const r=u;m(x,u,0==b?"IDAT":"fdAT"),u+=4,0!=b&&(l(x,u,v++),u+=4),x.set(t,u),u+=f,l(x,u,n(x,r,u-r)),u+=4}return l(x,u,0),u+=4,m(x,u,"IEND"),u+=4,l(x,u,n(x,u-4,4)),u+=4,x.buffer}function c(e,t,r){for(let s=0;s<e.frames.length;s++){const o=e.frames[s];o.rect.width;const i=o.rect.height,a=new Uint8Array(i*o.bpl+i);o.cimg=p(o.img,i,o.bpp,o.bpl,a,t,r)}}function m(t,r,s,o,i){const a=i[0],l=i[1],c=i[2],m=i[3],p=i[4],h=i[5];let f=6,g=8,b=255;for(var x=0;x<t.length;x++){const e=new Uint8Array(t[x]);for(var P=e.length,v=0;v<P;v+=4)b&=e[v+3]}const j=255!=b,y=function(t,r,s,o,i,a){const n=[];for(var l=0;l<t.length;l++){const u=new Uint8Array(t[l]),p=new Uint32Array(u.buffer);var c;let N=0,f=0,g=r,b=s,x=o?1:0;if(0!=l){const P=a||o||1==l||0!=n[l-2].dispose?1:2;let v=0,j=1e9;for(let e=0;e<P;e++){var m=new Uint8Array(t[l-1-e]);const o=new Uint32Array(t[l-1-e]);let a=r,n=s,c=-1,u=-1;for(let e=0;e<s;e++)for(let t=0;t<r;t++)p[h=e*r+t]!=o[h]&&(t<a&&(a=t),t>c&&(c=t),e<n&&(n=e),e>u&&(u=e));-1==c&&(a=n=c=u=0),i&&(!(1&~a)&&a--,!(1&~n)&&n--);const d=(c-a+1)*(u-n+1);d<j&&(j=d,v=e,N=a,f=n,g=c-a+1,b=u-n+1)}m=new Uint8Array(t[l-1-v]),1==v&&(n[l-1].dispose=2),c=new Uint8Array(g*b*4),e(m,r,s,c,g,b,-N,-f,0),x=e(u,r,s,c,g,b,-N,-f,3)?1:0,1==x?d(u,r,s,c,{x:N,y:f,width:g,height:b}):e(u,r,s,c,g,b,-N,-f,0)}else c=u.slice(0);n.push({rect:{x:N,y:f,width:g,height:b},img:c,blend:x,dispose:0})}if(o)for(l=0;l<n.length;l++){if(1==(N=n[l]).blend)continue;const e=N.rect,o=n[l-1].rect,a=Math.min(e.x,o.x),c=Math.min(e.y,o.y),m={x:a,y:c,width:Math.max(e.x+e.width,o.x+o.width)-a,height:Math.max(e.y+e.height,o.y+o.height)-c};n[l-1].dispose=1,l-1!=0&&u(t,r,s,n,l-1,m,i),u(t,r,s,n,l,m,i)}let p=0;if(1!=t.length)for(var h=0;h<n.length;h++){var N;p+=(N=n[h]).rect.width*N.rect.height}return n}(t,r,s,a,l,c),k={},E=[],A=[];if(0!=o){const e=[];for(v=0;v<y.length;v++)e.push(y[v].img.buffer);const t=N(function(e){let t=0;for(var r=0;r<e.length;r++)t+=e[r].byteLength;const s=new Uint8Array(t);let o=0;for(r=0;r<e.length;r++){const t=new Uint8Array(e[r]),i=t.length;for(let e=0;e<i;e+=4){let r=t[e],i=t[e+1],a=t[e+2];const n=t[e+3];0==n&&(r=i=a=0),s[o+e]=r,s[o+e+1]=i,s[o+e+2]=a,s[o+e+3]=n}o+=i}return s.buffer}(e),o);for(v=0;v<t.plte.length;v++)E.push(t.plte[v].est.rgba);let r=0;for(v=0;v<y.length;v++){const e=(w=y[v]).img.length;var C=new Uint8Array(t.inds.buffer,r>>2,e>>2);A.push(C);const s=new Uint8Array(t.abuf,r,e);h&&n(w.img,w.rect.width,w.rect.height,E,s,C),w.img.set(s),r+=e}}else for(x=0;x<y.length;x++){var w=y[x];const e=new Uint32Array(w.img.buffer);var D=w.rect.width;for(P=e.length,C=new Uint8Array(P),A.push(C),v=0;v<P;v++){const t=e[v];if(0!=v&&t==e[v-1])C[v]=C[v-1];else if(v>D&&t==e[v-D])C[v]=C[v-D];else{let e=k[t];if(null==e&&(k[t]=e=E.length,E.push(t),E.length>=300))break;C[v]=e}}}const V=E.length;for(V<=256&&0==p&&(g=V<=2?1:V<=4?2:V<=16?4:8,g=Math.max(g,m)),x=0;x<y.length;x++){(w=y[x]).rect.x,w.rect.y,D=w.rect.width;const e=w.rect.height;let t=w.img;new Uint32Array(t.buffer);let r=4*D,s=4;if(V<=256&&0==p){r=Math.ceil(g*D/8);var Z=new Uint8Array(r*e);const o=A[x];for(let t=0;t<e;t++){v=t*r;const e=t*D;if(8==g)for(var S=0;S<D;S++)Z[v+S]=o[e+S];else if(4==g)for(S=0;S<D;S++)Z[v+(S>>1)]|=o[e+S]<<4-4*(1&S);else if(2==g)for(S=0;S<D;S++)Z[v+(S>>2)]|=o[e+S]<<6-2*(3&S);else if(1==g)for(S=0;S<D;S++)Z[v+(S>>3)]|=o[e+S]<<7-1*(7&S)}t=Z,f=3,s=1}else if(0==j&&1==y.length){Z=new Uint8Array(D*e*3);const o=D*e;for(v=0;v<o;v++){const e=3*v,r=4*v;Z[e]=t[r],Z[e+1]=t[r+1],Z[e+2]=t[r+2]}t=Z,f=2,s=3,r=3*D}w.img=t,w.bpl=r,w.bpp=s}return{ctype:f,depth:g,plte:E,frames:y}}function u(t,r,s,o,i,a,n){const l=Uint8Array,c=Uint32Array,m=new l(t[i-1]),u=new c(t[i-1]),p=i+1<t.length?new l(t[i+1]):null,h=new l(t[i]),N=new c(h.buffer);let f=r,g=s,b=-1,x=-1;for(let e=0;e<a.height;e++)for(let t=0;t<a.width;t++){const s=a.x+t,n=a.y+e,l=n*r+s,c=N[l];0==c||0==o[i-1].dispose&&u[l]==c&&(null==p||0!=p[4*l+3])||(s<f&&(f=s),s>b&&(b=s),n<g&&(g=n),n>x&&(x=n))}-1==b&&(f=g=b=x=0),n&&(!(1&~f)&&f--,!(1&~g)&&g--),a={x:f,y:g,width:b-f+1,height:x-g+1};const P=o[i];P.rect=a,P.blend=1,P.img=new Uint8Array(a.width*a.height*4),0==o[i-1].dispose?(e(m,r,s,P.img,a.width,a.height,-a.x,-a.y,0),d(h,r,s,P.img,a)):e(h,r,s,P.img,a.width,a.height,-a.x,-a.y,0)}function d(t,r,s,o,i){e(t,r,s,o,i.width,i.height,-i.x,-i.y,2)}function p(e,t,r,s,o,i,a){const n=[];let l,c=[0,1,2,3,4];-1!=i?c=[i]:(t*s>5e5||1==r)&&(c=[0]),a&&(l={level:0});const m=Yr;for(var u=0;u<c.length;u++){for(let i=0;i<t;i++)h(o,e,i,s,r,c[u]);n.push(m.deflate(o,l))}let d,p=1e9;for(u=0;u<n.length;u++)n[u].length<p&&(d=u,p=n[u].length);return n[d]}function h(e,t,s,o,i,a){const n=s*o;let l=n+s;if(e[l]=a,l++,0==a)if(o<500)for(var c=0;c<o;c++)e[l+c]=t[n+c];else e.set(new Uint8Array(t.buffer,n,o),l);else if(1==a){for(c=0;c<i;c++)e[l+c]=t[n+c];for(c=i;c<o;c++)e[l+c]=t[n+c]-t[n+c-i]+256&255}else if(0==s){for(c=0;c<i;c++)e[l+c]=t[n+c];if(2==a)for(c=i;c<o;c++)e[l+c]=t[n+c];if(3==a)for(c=i;c<o;c++)e[l+c]=t[n+c]-(t[n+c-i]>>1)+256&255;if(4==a)for(c=i;c<o;c++)e[l+c]=t[n+c]-r(t[n+c-i],0,0)+256&255}else{if(2==a)for(c=0;c<o;c++)e[l+c]=t[n+c]+256-t[n+c-o]&255;if(3==a){for(c=0;c<i;c++)e[l+c]=t[n+c]+256-(t[n+c-o]>>1)&255;for(c=i;c<o;c++)e[l+c]=t[n+c]+256-(t[n+c-o]+t[n+c-i]>>1)&255}if(4==a){for(c=0;c<i;c++)e[l+c]=t[n+c]+256-r(0,t[n+c-o],0)&255;for(c=i;c<o;c++)e[l+c]=t[n+c]+256-r(t[n+c-i],t[n+c-o],t[n+c-i-o])&255}}}function N(e,t){const r=new Uint8Array(e),s=r.slice(0),o=new Uint32Array(s.buffer),i=f(s,t),a=i[0],n=i[1],l=r.length,c=new Uint8Array(l>>2);let m;if(r.length<2e7)for(var u=0;u<l;u+=4)m=g(a,d=r[u]*(1/255),p=r[u+1]*(1/255),h=r[u+2]*(1/255),N=r[u+3]*(1/255)),c[u>>2]=m.ind,o[u>>2]=m.est.rgba;else for(u=0;u<l;u+=4){var d=r[u]*(1/255),p=r[u+1]*(1/255),h=r[u+2]*(1/255),N=r[u+3]*(1/255);for(m=a;m.left;)m=b(m.est,d,p,h,N)<=0?m.left:m.right;c[u>>2]=m.ind,o[u>>2]=m.est.rgba}return{abuf:s.buffer,inds:c,plte:n}}function f(e,t,r){null==r&&(r=1e-4);const s=new Uint32Array(e.buffer),o={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};o.bst=v(e,o.i0,o.i1),o.est=j(o.bst);const i=[o];for(;i.length<t;){let t=0,o=0;for(var a=0;a<i.length;a++)i[a].est.L>t&&(t=i[a].est.L,o=a);if(t<r)break;const n=i[o],l=x(e,s,n.i0,n.i1,n.est.e,n.est.eMq255);if(n.i0>=l||n.i1<=l){n.est.L=0;continue}const c={i0:n.i0,i1:l,bst:null,est:null,tdst:0,left:null,right:null};c.bst=v(e,c.i0,c.i1),c.est=j(c.bst);const m={i0:l,i1:n.i1,bst:null,est:null,tdst:0,left:null,right:null};for(m.bst={R:[],m:[],N:n.bst.N-c.bst.N},a=0;a<16;a++)m.bst.R[a]=n.bst.R[a]-c.bst.R[a];for(a=0;a<4;a++)m.bst.m[a]=n.bst.m[a]-c.bst.m[a];m.est=j(m.bst),n.left=c,n.right=m,i[o]=c,i.push(m)}for(i.sort((e,t)=>t.bst.N-e.bst.N),a=0;a<i.length;a++)i[a].ind=a;return[o,i]}function g(e,t,r,s,o){if(null==e.left)return e.tdst=function(e,t,r,s,o){const i=t-e[0],a=r-e[1],n=s-e[2],l=o-e[3];return i*i+a*a+n*n+l*l}(e.est.q,t,r,s,o),e;const i=b(e.est,t,r,s,o);let a=e.left,n=e.right;i>0&&(a=e.right,n=e.left);const l=g(a,t,r,s,o);if(l.tdst<=i*i)return l;const c=g(n,t,r,s,o);return c.tdst<l.tdst?c:l}function b(e,t,r,s,o){const{e:i}=e;return i[0]*t+i[1]*r+i[2]*s+i[3]*o-e.eMq}function x(e,t,r,s,o,i){for(s-=4;r<s;){for(;P(e,r,o)<=i;)r+=4;for(;P(e,s,o)>i;)s-=4;if(r>=s)break;const a=t[r>>2];t[r>>2]=t[s>>2],t[s>>2]=a,r+=4,s-=4}for(;P(e,r,o)>i;)r-=4;return r+4}function P(e,t,r){return e[t]*r[0]+e[t+1]*r[1]+e[t+2]*r[2]+e[t+3]*r[3]}function v(e,t,r){const s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=[0,0,0,0],i=r-t>>2;for(let a=t;a<r;a+=4){const t=e[a]*(1/255),r=e[a+1]*(1/255),i=e[a+2]*(1/255),n=e[a+3]*(1/255);o[0]+=t,o[1]+=r,o[2]+=i,o[3]+=n,s[0]+=t*t,s[1]+=t*r,s[2]+=t*i,s[3]+=t*n,s[5]+=r*r,s[6]+=r*i,s[7]+=r*n,s[10]+=i*i,s[11]+=i*n,s[15]+=n*n}return s[4]=s[1],s[8]=s[2],s[9]=s[6],s[12]=s[3],s[13]=s[7],s[14]=s[11],{R:s,m:o,N:i}}function j(e){const{R:t}=e,{m:r}=e,{N:s}=e,o=r[0],i=r[1],a=r[2],n=r[3],l=0==s?0:1/s,c=[t[0]-o*o*l,t[1]-o*i*l,t[2]-o*a*l,t[3]-o*n*l,t[4]-i*o*l,t[5]-i*i*l,t[6]-i*a*l,t[7]-i*n*l,t[8]-a*o*l,t[9]-a*i*l,t[10]-a*a*l,t[11]-a*n*l,t[12]-n*o*l,t[13]-n*i*l,t[14]-n*a*l,t[15]-n*n*l],m=c,u=y;let d=[Math.random(),Math.random(),Math.random(),Math.random()],p=0,h=0;if(0!=s)for(let f=0;f<16&&(d=u.multVec(m,d),h=Math.sqrt(u.dot(d,d)),d=u.sml(1/h,d),!(0!=f&&Math.abs(h-p)<1e-9));f++)p=h;const N=[o*l,i*l,a*l,n*l];return{Cov:c,q:N,e:d,L:p,eMq255:u.dot(u.sml(255,N),d),eMq:u.dot(d,N),rgba:(Math.round(255*N[3])<<24|Math.round(255*N[2])<<16|Math.round(255*N[1])<<8|Math.round(255*N[0]))>>>0}}var y={multVec:(e,t)=>[e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],e[4]*t[0]+e[5]*t[1]+e[6]*t[2]+e[7]*t[3],e[8]*t[0]+e[9]*t[1]+e[10]*t[2]+e[11]*t[3],e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]*t[3]],dot:(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],sml:(e,t)=>[e*t[0],e*t[1],e*t[2],e*t[3]]};Xr.encode=function(e,t,r,s,o,i,a){null==s&&(s=0),null==a&&(a=!1);const n=m(e,t,r,s,[!1,!1,!1,0,a,!1]);return c(n,-1),l(n,t,r,o,i)},Xr.encodeLL=function(e,t,r,s,o,i,a,n){const m={ctype:0+(1==s?0:2)+(0==o?0:4),depth:i,frames:[]},u=(s+o)*i,d=u*t;for(let l=0;l<e.length;l++)m.frames.push({rect:{x:0,y:0,width:t,height:r},img:new Uint8Array(e[l]),blend:0,dispose:1,bpp:Math.ceil(u/8),bpl:Math.ceil(d/8)});return c(m,0,!0),l(m,t,r,a,n)},Xr.encode.compress=m,Xr.encode.dither=n,Xr.quantize=N,Xr.quantize.getKDtree=f,Xr.quantize.getNearest=g}();const es={toArrayBuffer(e,t){const r=e.width,s=e.height,o=r<<2,i=e.getContext("2d").getImageData(0,0,r,s),a=new Uint32Array(i.data.buffer),n=(32*r+31)/32<<2,l=n*s,c=122+l,m=new ArrayBuffer(c),u=new DataView(m),d=1<<20;let p,h,N,f,g=d,b=0,x=0,P=0;function v(e){u.setUint16(x,e,!0),x+=2}function j(e){u.setUint32(x,e,!0),x+=4}function y(e){x+=e}v(19778),j(c),y(4),j(122),j(108),j(r),j(-s>>>0),v(1),v(32),j(3),j(l),j(2835),j(2835),y(8),j(16711680),j(65280),j(255),j(4278190080),j(1466527264),function e(){for(;b<s&&g>0;){for(f=122+b*n,p=0;p<o;)g--,h=a[P++],N=h>>>24,u.setUint32(f+p,h<<8|N),p+=4;b++}P<a.length?(g=d,setTimeout(e,es._dly)):t(m)}()},toBlob(e,t){this.toArrayBuffer(e,e=>{t(new Blob([e],{type:"image/bmp"}))})},_dly:9};var ts={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},rs={[ts.CHROME]:16384,[ts.FIREFOX]:11180,[ts.DESKTOP_SAFARI]:16384,[ts.IE]:8192,[ts.IOS]:4096,[ts.ETC]:8192};const ss="undefined"!=typeof window,os="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,is=ss&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),as=(ss||os)&&(is&&is.getOriginalSymbol(window,"File")||"undefined"!=typeof File&&File),ns=(ss||os)&&(is&&is.getOriginalSymbol(window,"FileReader")||"undefined"!=typeof FileReader&&FileReader);function ls(e,t,r=Date.now()){return new Promise(s=>{const o=e.split(","),i=o[0].match(/:(.*?);/)[1],a=globalThis.atob(o[1]);let n=a.length;const l=new Uint8Array(n);for(;n--;)l[n]=a.charCodeAt(n);const c=new Blob([l],{type:i});c.name=t,c.lastModified=r,s(c)})}function cs(e){return new Promise((t,r)=>{const s=new ns;s.onload=()=>t(s.result),s.onerror=e=>r(e),s.readAsDataURL(e)})}function ms(e){return new Promise((t,r)=>{const s=new Image;s.onload=()=>t(s),s.onerror=e=>r(e),s.src=e})}function us(){if(void 0!==us.cachedResult)return us.cachedResult;let e=ts.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=ts.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=ts.IOS:/Safari/i.test(t)?e=ts.DESKTOP_SAFARI:/Firefox/i.test(t)?e=ts.FIREFOX:(/MSIE/i.test(t)||1==!!document.documentMode)&&(e=ts.IE),us.cachedResult=e,us.cachedResult}function ds(e,t){const r=us(),s=rs[r];let o=e,i=t,a=o*i;const n=o>i?i/o:o/i;for(;a>s*s;){const e=(s+o)/2,t=(s+i)/2;e<t?(i=t,o=t*n):(i=e*n,o=e),a=o*i}return{width:o,height:i}}function ps(e,t){let r,s;try{if(r=new OffscreenCanvas(e,t),s=r.getContext("2d"),null===s)throw new Error("getContext of OffscreenCanvas returns null")}catch(o){r=document.createElement("canvas"),s=r.getContext("2d")}return r.width=e,r.height=t,[r,s]}function hs(e,t){const{width:r,height:s}=ds(e.width,e.height),[o,i]=ps(r,s);return t&&/jpe?g/.test(t)&&(i.fillStyle="white",i.fillRect(0,0,o.width,o.height)),i.drawImage(e,0,0,o.width,o.height),o}function Ns(){return void 0!==Ns.cachedResult||(Ns.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"undefined"!=typeof document&&"ontouchend"in document),Ns.cachedResult}function fs(e,t={}){return new Promise(function(r,s){let o,i;var a=function(){try{return i=hs(o,t.fileType||e.type),r([o,i])}catch(a){return s(a)}},n=function(t){try{var r=function(e){try{throw e}catch(t){return s(t)}};try{let t;return cs(e).then(function(e){try{return t=e,ms(t).then(function(e){try{return o=e,function(){try{return a()}catch(e){return s(e)}}()}catch(t){return r(t)}},r)}catch(i){return r(i)}},r)}catch(i){r(i)}}catch(i){return s(i)}};try{if(Ns()||[ts.DESKTOP_SAFARI,ts.MOBILE_SAFARI].includes(us()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(e){try{return o=e,a()}catch(t){return n()}},n)}catch(l){n()}})}function gs(e,t,r,s,o=1){return new Promise(function(i,a){let n;if("image/png"===t){let i,a,c;return i=e.getContext("2d"),({data:a}=i.getImageData(0,0,e.width,e.height)),c=Xr.encode([a.buffer],e.width,e.height,4096*o),n=new Blob([c],{type:t}),n.name=r,n.lastModified=s,l.call(this)}{let i=function(){return l.call(this)};if("image/bmp"===t)return new Promise(t=>es.toBlob(e,t)).then(function(e){try{return n=e,n.name=r,n.lastModified=s,i.call(this)}catch(t){return a(t)}}.bind(this),a);{let l=function(){return i.call(this)};if("function"==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:o}).then(function(e){try{return n=e,n.name=r,n.lastModified=s,l.call(this)}catch(t){return a(t)}}.bind(this),a);{let i;return i=e.toDataURL(t,o),ls(i,r,s).then(function(e){try{return n=e,l.call(this)}catch(t){return a(t)}}.bind(this),a)}}}function l(){return i(n)}})}function bs(e){e.width=0,e.height=0}function xs(){return new Promise(function(e,t){let r,s,o,i;return void 0!==xs.cachedResult?e(xs.cachedResult):ls("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(a){try{return r=a,fs(r).then(function(a){try{return s=a[1],gs(s,r.type,r.name,r.lastModified).then(function(r){try{return o=r,bs(s),fs(o).then(function(r){try{return i=r[0],xs.cachedResult=1===i.width&&2===i.height,e(xs.cachedResult)}catch(s){return t(s)}},t)}catch(a){return t(a)}},t)}catch(n){return t(n)}},t)}catch(n){return t(n)}},t)})}function Ps(e){return new Promise((t,r)=>{const s=new ns;s.onload=e=>{const r=new DataView(e.target.result);if(65496!=r.getUint16(0,!1))return t(-2);const s=r.byteLength;let o=2;for(;o<s;){if(r.getUint16(o+2,!1)<=8)return t(-1);const e=r.getUint16(o,!1);if(o+=2,65505==e){if(1165519206!=r.getUint32(o+=2,!1))return t(-1);const e=18761==r.getUint16(o+=6,!1);o+=r.getUint32(o+4,e);const s=r.getUint16(o,e);o+=2;for(let i=0;i<s;i++)if(274==r.getUint16(o+12*i,e))return t(r.getUint16(o+12*i+8,e))}else{if(65280&~e)break;o+=r.getUint16(o,!1)}}return t(-1)},s.onerror=e=>r(e),s.readAsArrayBuffer(e)})}function vs(e,t){const{width:r}=e,{height:s}=e,{maxWidthOrHeight:o}=t;let i,a=e;return isFinite(o)&&(r>o||s>o)&&([a,i]=ps(r,s),r>s?(a.width=o,a.height=s/r*o):(a.width=r/s*o,a.height=o),i.drawImage(e,0,0,a.width,a.height),bs(e)),a}function js(e,t){const{width:r}=e,{height:s}=e,[o,i]=ps(r,s);switch(t>4&&t<9?(o.width=s,o.height=r):(o.width=r,o.height=s),t){case 2:i.transform(-1,0,0,1,r,0);break;case 3:i.transform(-1,0,0,-1,r,s);break;case 4:i.transform(1,0,0,-1,0,s);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,s,0);break;case 7:i.transform(0,-1,-1,0,s,r);break;case 8:i.transform(0,-1,1,0,0,r)}return i.drawImage(e,0,0,r,s),bs(e),o}function ys(e,t,r=0){return new Promise(function(s,o){let i,a,n,l,c,m,u,d,p,h,N,f,g,b,x,P,v,j,y,k;function E(e=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;i+=e,t.onProgress(Math.min(i,100))}function A(e){if(t.signal&&t.signal.aborted)throw t.signal.reason;i=Math.min(Math.max(e,i),100),t.onProgress(i)}return i=r,a=t.maxIteration||10,n=1024*t.maxSizeMB*1024,E(),fs(e,t).then(function(r){try{return[,l]=r,E(),c=vs(l,t),E(),new Promise(function(r,s){var o;if(!(o=t.exifOrientation))return Ps(e).then(function(e){try{return o=e,i.call(this)}catch(t){return s(t)}}.bind(this),s);function i(){return r(o)}return i.call(this)}).then(function(r){try{return m=r,E(),xs().then(function(r){try{return u=r?c:js(c,m),E(),d=t.initialQuality||1,p=t.fileType||e.type,gs(u,p,e.name,e.lastModified,d).then(function(r){try{{let m=function(){if(a--&&(x>n||x>g)){let t,r;return t=k?.95*y.width:y.width,r=k?.95*y.height:y.height,[v,j]=ps(t,r),j.drawImage(y,0,0,t,r),d*="image/png"===p?.85:.95,gs(v,p,e.name,e.lastModified,d).then(function(e){try{return P=e,bs(y),y=v,x=P.size,A(Math.min(99,Math.floor((b-x)/(b-n)*100))),m}catch(t){return o(t)}},o)}return[1]},C=function(){return bs(y),bs(v),bs(c),bs(u),bs(l),A(100),s(P)};return h=r,E(),N=h.size>n,f=h.size>e.size,N||f?(g=e.size,b=h.size,x=b,y=u,k=!t.alwaysKeepResolution&&N,(i=function(e){for(;e;){if(e.then)return void e.then(i,o);try{if(e.pop){if(e.length)return e.pop()?C.call(this):e;e=m}else e=e.call(this)}catch(t){return o(t)}}}.bind(this))(m)):(A(100),s(h));var i}}catch(m){return o(m)}}.bind(this),o)}catch(i){return o(i)}}.bind(this),o)}catch(i){return o(i)}}.bind(this),o)}catch(i){return o(i)}}.bind(this),o)})}let ks;function Es(e,t){return new Promise(function(r,s){let o,i,a,n,l,c;if(o={...t},a=0,({onProgress:n}=o),o.maxSizeMB=o.maxSizeMB||Number.POSITIVE_INFINITY,l="boolean"!=typeof o.useWebWorker||o.useWebWorker,delete o.useWebWorker,o.onProgress=e=>{a=e,"function"==typeof n&&n(a)},!(e instanceof Blob||e instanceof as))return s(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return s(new Error("The file given is not an image"));if(c="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!l||"function"!=typeof Worker||c)return ys(e,o).then(function(e){try{return i=e,d.call(this)}catch(t){return s(t)}}.bind(this),s);var m=function(){try{return d.call(this)}catch(e){return s(e)}}.bind(this),u=function(t){try{return ys(e,o).then(function(e){try{return i=e,m()}catch(t){return s(t)}},s)}catch(r){return s(r)}};try{return o.libURL=o.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",function(e,t){return new Promise((r,s)=>{ks||(ks=function(e){const t=[];return t.push(e),URL.createObjectURL(new Blob(t))}("\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\n' + e.stack, id })\n  }\n})\n"));const o=new Worker(ks);o.addEventListener("message",function(e){if(t.signal&&t.signal.aborted)o.terminate();else if(void 0===e.data.progress){if(e.data.error)return s(new Error(e.data.error)),void o.terminate();r(e.data.file),o.terminate()}else t.onProgress(e.data.progress)}),o.addEventListener("error",s),t.signal&&t.signal.addEventListener("abort",()=>{s(t.signal.reason),o.terminate()}),o.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})})}(e,o).then(function(e){try{return i=e,m()}catch(t){return u()}},u)}catch(p){u()}function d(){try{i.name=e.name,i.lastModified=e.lastModified}catch(p){}try{o.preserveExif&&"image/jpeg"===e.type&&(!o.fileType||o.fileType&&o.fileType===e.type)&&(i=Br(e,i))}catch(p){}return r(i)}})}function As({onPhotoCapture:e,maxSizeMB:t=1,disabled:r=!1}){const[s,o]=i.useState(!1),[a,n]=i.useState(!1),l=i.useRef(null),c=i.useRef(null),m=i.useRef(null),u=i.useRef(null),d=async e=>{try{const r={maxSizeMB:t,maxWidthOrHeight:1920,useWebWorker:!0,fileType:"image/jpeg",quality:.8},s=await Es(e,r);return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>e(r.result),r.onerror=t,r.readAsDataURL(s)})}catch(r){throw r}},p=()=>{u.current&&(u.current.getTracks().forEach(e=>e.stop()),u.current=null),n(!1)},h=async()=>{if(!c.current||!m.current)return;const t=m.current,r=c.current,s=t.getContext("2d");if(s){t.width=r.videoWidth,t.height=r.videoHeight,s.drawImage(r,0,0),o(!0);try{const r=await new Promise(e=>{t.toBlob(t=>e(t),"image/jpeg",.8)}),s=new File([r],"camera-capture.jpg",{type:"image/jpeg"}),o=await d(s);e(o),p()}catch(i){alert("Failed to capture photo. Please try again.")}finally{o(!1)}}};return a?ze.jsxDEV("div",{className:"relative",children:[ze.jsxDEV("video",{ref:c,className:"w-full max-w-md mx-auto rounded-lg",autoPlay:!0,playsInline:!0,muted:!0},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/PhotoUpload.tsx",lineNumber:134,columnNumber:9},this),ze.jsxDEV("canvas",{ref:m,className:"hidden"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/PhotoUpload.tsx",lineNumber:141,columnNumber:9},this),ze.jsxDEV("div",{className:"flex justify-center gap-4 mt-4",children:[ze.jsxDEV(Qt,{onClick:h,disabled:s,className:"bg-blue-600 hover:bg-blue-700",children:s?"Processing...":"Capture Photo"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/PhotoUpload.tsx",lineNumber:144,columnNumber:11},this),ze.jsxDEV(Qt,{onClick:p,variant:"outline",disabled:s,children:[ze.jsxDEV(C,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/PhotoUpload.tsx",lineNumber:156,columnNumber:13},this),"Cancel"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/PhotoUpload.tsx",lineNumber:151,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/PhotoUpload.tsx",lineNumber:143,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/PhotoUpload.tsx",lineNumber:133,columnNumber:7},this):ze.jsxDEV("div",{className:"space-y-4",children:[ze.jsxDEV("div",{className:"flex gap-4 justify-center",children:[ze.jsxDEV(Qt,{onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});u.current=e,c.current&&(c.current.srcObject=e,c.current.play(),n(!0))}catch(e){alert("Camera access denied. Please use file upload instead.")}},disabled:r||s,className:"flex items-center gap-2",children:[ze.jsxDEV(G,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/PhotoUpload.tsx",lineNumber:172,columnNumber:11},this),"Take Photo"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/PhotoUpload.tsx",lineNumber:167,columnNumber:9},this),ze.jsxDEV(Qt,{onClick:()=>{var e;return null==(e=l.current)?void 0:e.click()},disabled:r||s,variant:"outline",className:"flex items-center gap-2",children:[ze.jsxDEV(O,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/PhotoUpload.tsx",lineNumber:182,columnNumber:11},this),"Upload Photo"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/PhotoUpload.tsx",lineNumber:176,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/PhotoUpload.tsx",lineNumber:166,columnNumber:7},this),ze.jsxDEV("input",{ref:l,type:"file",accept:"image/*",onChange:async t=>{var r;const s=null==(r=t.target.files)?void 0:r[0];if(s)if(s.type.startsWith("image/")){o(!0);try{const t=await d(s);e(t)}catch(i){alert("Failed to process image. Please try again.")}finally{o(!1),l.current&&(l.current.value="")}}else alert("Please select an image file")},className:"hidden","aria-label":"Upload photo"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/PhotoUpload.tsx",lineNumber:187,columnNumber:7},this),s&&ze.jsxDEV("div",{className:"text-center text-sm text-gray-600",children:"Processing image..."},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/PhotoUpload.tsx",lineNumber:197,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/PhotoUpload.tsx",lineNumber:165,columnNumber:5},this)}Es.getDataUrlFromFile=cs,Es.getFilefromDataUrl=ls,Es.loadImage=ms,Es.drawImageInCanvas=hs,Es.drawFileInCanvas=fs,Es.canvasToFile=gs,Es.getExifOrientation=Ps,Es.handleMaxWidthOrHeight=vs,Es.followExifOrientation=js,Es.cleanupCanvasMemory=bs,Es.isAutoOrientationInBrowser=xs,Es.approximateBelowMaximumCanvasSizeOfBrowser=ds,Es.copyExifWithoutOrientation=Br,Es.getBrowserName=us,Es.version="2.0.2";const Cs={"grilled chicken breast":{calories:165,protein:31,carbs:0,fat:3.6,commonPortions:["3 oz","4 oz","6 oz"]},"salmon fillet":{calories:206,protein:22,carbs:0,fat:12,commonPortions:["3 oz","4 oz","6 oz"]},"ground beef":{calories:250,protein:26,carbs:0,fat:15,commonPortions:["3 oz","4 oz","1/4 lb"]},eggs:{calories:70,protein:6,carbs:.6,fat:5,commonPortions:["1 large","2 large","3 large"]},"white rice":{calories:130,protein:2.7,carbs:28,fat:.3,commonPortions:["1/2 cup","1 cup","1.5 cups"]},"brown rice":{calories:112,protein:2.6,carbs:23,fat:.9,commonPortions:["1/2 cup","1 cup","1.5 cups"]},pasta:{calories:131,protein:5,carbs:25,fat:1.1,commonPortions:["1/2 cup","1 cup","1.5 cups"]},"bread slice":{calories:79,protein:2.3,carbs:14,fat:1.1,commonPortions:["1 slice","2 slices","3 slices"]},"steamed broccoli":{calories:25,protein:3,carbs:5,fat:.3,commonPortions:["1/2 cup","1 cup","1.5 cups"]},"mixed salad":{calories:20,protein:1.5,carbs:4,fat:.2,commonPortions:["1 cup","2 cups","3 cups"]},carrots:{calories:25,protein:.5,carbs:6,fat:.1,commonPortions:["1/2 cup","1 cup","1 medium"]},"pizza slice":{calories:285,protein:12,carbs:36,fat:10,commonPortions:["1 slice","2 slices","3 slices"]},hamburger:{calories:354,protein:20,carbs:32,fat:16,commonPortions:["1 burger","1 small","1 large"]},"french fries":{calories:365,protein:4,carbs:63,fat:17,commonPortions:["small","medium","large"]},apple:{calories:95,protein:.5,carbs:25,fat:.3,commonPortions:["1 medium","1 large","1 small"]},banana:{calories:105,protein:1.3,carbs:27,fat:.4,commonPortions:["1 medium","1 large","1 small"]},orange:{calories:62,protein:1.2,carbs:15,fat:.2,commonPortions:["1 medium","1 large","1 small"]}};class ws{async validateFoods(e){const t=[];let r=0,s=0;for(const i of e){const e=this.validateSingleFood(i);e.isValid?(s++,r+=i.confidence):t.push(...e.corrections)}const o=s>0?r/s:0;return{isValid:0===t.length&&s>0,corrections:t,confidence:o}}validateSingleFood(e){const t=e.name.toLowerCase(),r=this.findNutritionData(t),s=[];if(!r)return s.push(`Unknown food: "${e.name}" - using estimated values`),{isValid:!1,corrections:s,confidence:.7*e.confidence};return this.validatePortion(e.portion,r.commonPortions)||s.push(`Unusual portion for ${e.name}: "${e.portion}"`),e.confidence<.6&&s.push(`Low confidence for ${e.name}: ${(100*e.confidence).toFixed(0)}%`),{isValid:0===s.length,corrections:s,confidence:e.confidence}}findNutritionData(e){if(Cs[e])return Cs[e];const t=Object.keys(Cs);for(const s of t)if(e.includes(s)||s.includes(e))return Cs[s];const r=e.split(" ");for(const s of r)for(const e of t)if(e.includes(s)&&s.length>3)return Cs[e];return null}validatePortion(e,t){const r=e.toLowerCase();return t.some(e=>{const t=e.toLowerCase();return r.includes(t)||t.includes(r)})}getNutritionData(e){return this.findNutritionData(e.toLowerCase())}estimateCalories(e,t){const r=this.findNutritionData(e.toLowerCase());if(!r)return 150;const s=this.getPortionMultiplier(t);return Math.round(r.calories*s)}getPortionMultiplier(e){const t=e.toLowerCase(),r=t.match(/(\d+(?:\.\d+)?)/),s=r?parseFloat(r[1]):1;return t.includes("large")?1.5*s:t.includes("small")?.7*s:t.includes("medium")||t.includes("cup")||t.includes("slice")?1*s:t.includes("oz")?s/3:s}}class Ds{constructor(e){t(this,"config"),t(this,"nutritionValidator"),this.config={maxTokens:1e3,temperature:.1,...e},this.nutritionValidator=new ws}async analyzePhoto(e,t=2){const r=Date.now();if(!e||!e.startsWith("data:image/"))throw new Error("Invalid image data format");let s=null;for(let i=0;i<=t;i++)try{const t=await this.callOpenAIVision(e),s=Date.now()-r;if(!t.foods||0===t.foods.length)throw new Error("No foods detected in image");return{...t,analysisTime:s}}catch(o){s=o instanceof Error?o:new Error("Unknown error"),i<t&&await new Promise(e=>setTimeout(e,1e3*Math.pow(2,i)))}throw new Error(`Failed to analyze food image: ${(null==s?void 0:s.message)||"Unknown error"}`)}async estimateCalories(e){const t=[];for(const r of e){const e=this.estimateCaloriesForFood(r);t.push(e)}return t}async validateNutrition(e){return await this.nutritionValidator.validateFoods(e)}async callOpenAIVision(e){var t,r;const s={model:this.config.model,messages:[{role:"user",content:[{type:"text",text:'Analyze this food image and identify all food items visible. For each food item, provide:\n1. Name of the food\n2. Estimated portion size (e.g., "1 cup", "6 oz", "1 slice")\n3. Confidence score (0-1)\n4. Estimated calories\n\nRespond in JSON format:\n{\n  "foods": [\n    {\n      "name": "food name",\n      "portion": "portion size",\n      "confidence": 0.95,\n      "category": "food category"\n    }\n  ],\n  "totalCalories": 450,\n  "confidence": 0.88\n}'},{type:"image_url",image_url:{url:e}}]}],max_tokens:this.config.maxTokens,temperature:this.config.temperature},o=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.config.apiKey}`},body:JSON.stringify(s)});if(!o.ok)throw new Error(`OpenAI API error: ${o.status} ${o.statusText}`);const i=null==(r=null==(t=(await o.json()).choices[0])?void 0:t.message)?void 0:r.content;if(!i)throw new Error("No response from OpenAI API");try{const e=JSON.parse(i);return{foods:e.foods||[],totalCalories:e.totalCalories||0,confidence:e.confidence||0}}catch(a){throw new Error("Invalid response format from AI")}}estimateCaloriesForFood(e){const t=this.nutritionValidator.getNutritionData(e.name),r=this.nutritionValidator.estimateCalories(e.name,e.portion);return t?{food:e.name,calories:r,macros:{protein:t.protein,carbs:t.carbs,fat:t.fat},confidence:e.confidence}:{food:e.name,calories:r,macros:{protein:5,carbs:20,fat:5},confidence:.7*e.confidence}}}function Vs(){const[e,t]=i.useState(()=>{const e=(new Date).getHours();return e<10?"breakfast":e<15?"lunch":e<20?"dinner":"snack"}),[r,s]=i.useState(""),[o,a]=i.useState(""),[n,l]=i.useState(!1),[c,m]=i.useState(!1),[u,d]=i.useState(!1),[p,h]=i.useState(null),[N,f]=i.useState(null),[g,b]=i.useState({}),{isLoading:x,addMeal:P}=Dr(),{isMobile:v}=Lr(),j=Fr({scale:.95,haptic:!0}),k=async t=>{if(t.preventDefault(),(()=>{const e={};r.trim()||(e.foodName="Food name is required");const t=parseFloat(o);return o?isNaN(t)||t<=0?e.calories="Calories must be a positive number":t>=5e3&&(e.calories="Calories must be less than 5000"):e.calories="Calories are required",b(e),0===Object.keys(e).length})())try{const t={type:e,foods:[{name:r.trim(),quantity:1,unit:"serving",calories:parseFloat(o),macros:{protein:0,carbs:0,fat:0,fiber:0}}],notes:""};await P(t),s(""),a(""),b({}),l(!1)}catch(i){}},E=e=>{"Enter"===e.key&&r.trim()&&o.trim()&&k(e)},A=e=>{switch(e){case"breakfast":return"";case"lunch":return"";case"dinner":return"";case"snack":return""}},C=e=>{switch(e){case"breakfast":return"text-yellow-400";case"lunch":return"text-orange-400";case"dinner":return"text-purple-400";case"snack":return"text-green-400"}},w=()=>{h(null),f(null)};return ze.jsxDEV(Kt,{className:"cyber-card mobile-card mobile-responsive "+(v?"galaxy-s24-ultra-optimized":""),children:[ze.jsxDEV(Yt,{className:"mobile-layout",children:ze.jsxDEV(Xt,{className:"cyber-subtitle flex items-center gap-2 text-plasma-cyan mobile-heading",children:[ze.jsxDEV(U,{className:"cyber-icon h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:180,columnNumber:11},this),"Log Meal Entry"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:179,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:178,columnNumber:7},this),ze.jsxDEV(tr,{className:"space-y-4 mobile-form-spacing",children:[ze.jsxDEV("div",{className:"flex gap-2 mobile-button-group",children:[ze.jsxDEV(ir,{id:"meal-quick",type:"text",placeholder:"Enter food (e.g., chicken salad)",value:r,onChange:e=>s(e.target.value),onKeyPress:E,className:`\n              flex-1 font-mono touch-target mobile-body\n              focus:border-plasma-cyan focus:ring-plasma-cyan/20 border-gray-600 bg-gray-900 text-white\n              ${g.foodName?"border-red-500":""}\n            `,disabled:x,"aria-label":"Food name"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:187,columnNumber:11},this),ze.jsxDEV(ir,{type:"number",placeholder:"Cal",value:o,onChange:e=>a(e.target.value),onKeyPress:E,className:`\n              w-20 font-mono touch-target mobile-body\n              focus:border-plasma-cyan focus:ring-plasma-cyan/20 border-gray-600 bg-gray-900 text-white\n              ${g.calories?"border-red-500":""}\n            `,disabled:x,"aria-label":"Calories"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:204,columnNumber:11},this),ze.jsxDEV(Qt,{onClick:()=>m(!c),variant:"outline",size:"icon",className:"border-gray-600 bg-transparent text-gray-300 hover:bg-gray-800 touch-target "+(c?"bg-gray-800":""),title:"Analyze meal photo","aria-label":"Take or upload meal photo",disabled:u,children:ze.jsxDEV(G,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:229,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:220,columnNumber:11},this),ze.jsxDEV(Qt,{onClick:()=>l(!n),variant:"outline",size:"icon",className:"border-gray-600 bg-transparent text-gray-300 hover:bg-gray-800 touch-target "+(n?"bg-gray-800":""),title:"Meal options","aria-label":"Toggle meal options",children:ze.jsxDEV(B,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:239,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:231,columnNumber:11},this),ze.jsxDEV(Qt,{ref:j.elementRef,onClick:k,variant:"cyber-ki",disabled:x||!r.trim()||!o.trim(),className:"touch-target mobile-button","aria-label":"Log meal entry",children:[ze.jsxDEV(T,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:249,columnNumber:13},this),x?"LOGGING...":"LOG"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:241,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:186,columnNumber:9},this),(g.foodName||g.calories)&&ze.jsxDEV("div",{className:"space-y-1",children:[g.foodName&&ze.jsxDEV("p",{className:"font-mono text-sm text-red-400",children:g.foodName},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:258,columnNumber:15},this),g.calories&&ze.jsxDEV("p",{className:"font-mono text-sm text-red-400",children:g.calories},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:261,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:256,columnNumber:11},this),c&&ze.jsxDEV("div",{className:"border-t border-gray-700 pt-4",children:[ze.jsxDEV(ar,{className:"cyber-label text-gray-300 mb-2 block",children:" Analyze Meal Photo"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:269,columnNumber:13},this),ze.jsxDEV(As,{onPhotoCapture:async e=>{d(!0),f(null),h(null);try{const t=await tt.getSecret("OPENAI_API_KEY");if(!t)throw new Error("OpenAI API key not configured. Please check your environment setup.");const r=new Ds({apiKey:t,model:"gpt-4o-mini"}),o=await r.analyzePhoto(e);if(h(o),o.foods.length>0){const e=o.foods[0];s(e.name);const t=o.totalCalories||o.foods.reduce((e,t)=>e+200*t.confidence,0);a(Math.round(t).toString())}}catch(t){const e=t instanceof Error?t.message:"Unknown error occurred";f(`Analysis failed: ${e}`)}finally{d(!1)}},disabled:u,maxSizeMB:1},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:272,columnNumber:13},this),u&&ze.jsxDEV("div",{className:"text-center mt-4",children:ze.jsxDEV("p",{className:"text-plasma-cyan animate-pulse",children:"Analyzing your meal..."},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:279,columnNumber:17},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:278,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:268,columnNumber:11},this),N&&ze.jsxDEV("div",{className:"border border-red-500/20 rounded-lg p-4 bg-red-900/10",children:[ze.jsxDEV("h4",{className:"text-red-400 font-mono text-sm mb-2",children:" Analysis Error"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:288,columnNumber:13},this),ze.jsxDEV("p",{className:"text-red-300 text-sm mb-3",children:N},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:291,columnNumber:13},this),ze.jsxDEV("div",{className:"flex gap-2",children:[ze.jsxDEV(Qt,{onClick:w,size:"sm",variant:"outline",className:"border-red-500 text-red-400 hover:bg-red-900/20",children:"Try Again"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:293,columnNumber:15},this),ze.jsxDEV(Qt,{onClick:()=>m(!1),size:"sm",variant:"outline",className:"border-gray-600 text-gray-400",children:"Cancel"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:301,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:292,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:287,columnNumber:11},this),p&&ze.jsxDEV("div",{className:"border border-plasma-cyan/20 rounded-lg p-4 bg-gray-900/50",children:[ze.jsxDEV("h4",{className:"text-plasma-cyan font-mono text-sm mb-2",children:[" AI Analysis Results (Confidence: ",(100*p.confidence).toFixed(0),"%)"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:316,columnNumber:13},this),ze.jsxDEV("div",{className:"space-y-2",children:[p.foods.map((e,t)=>ze.jsxDEV("div",{className:"flex justify-between items-center text-sm","data-testid":"detected-food-item",children:[ze.jsxDEV("span",{className:"text-gray-300",children:[e.name," (",e.portion,")"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:322,columnNumber:19},this),ze.jsxDEV(Sr,{variant:"outline",className:"text-xs",children:[(100*e.confidence).toFixed(0),"%"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:325,columnNumber:19},this)]},t,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:321,columnNumber:17},this)),ze.jsxDEV("div",{className:"border-t border-gray-700 pt-2 mt-2",children:[ze.jsxDEV("p",{className:"text-sm text-gray-400",children:["Total Calories: ",ze.jsxDEV("span",{className:"text-plasma-cyan",children:p.totalCalories},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:332,columnNumber:35},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:331,columnNumber:17},this),ze.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:["Analysis time: ",(p.analysisTime/1e3).toFixed(1),"s"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:334,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:330,columnNumber:15},this),ze.jsxDEV("div",{className:"flex gap-2 mt-3 pt-2 border-t border-gray-700",children:[ze.jsxDEV(Qt,{onClick:()=>{m(!1),f(null)},size:"sm",className:"bg-plasma-cyan text-black hover:bg-plasma-cyan/80",children:" Accept & Use"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:339,columnNumber:17},this),ze.jsxDEV(Qt,{onClick:w,size:"sm",variant:"outline",className:"border-gray-600 text-gray-400",children:" Analyze Again"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:346,columnNumber:17},this),ze.jsxDEV(Qt,{onClick:()=>m(!1),size:"sm",variant:"outline",className:"border-gray-600 text-gray-400",children:"Cancel"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:354,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:338,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:319,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:315,columnNumber:11},this),n&&ze.jsxDEV("div",{className:"space-y-3 border-t border-gray-700 pt-4",children:ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV(ar,{className:"cyber-label text-gray-300",children:"Meal Type"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:371,columnNumber:15},this),ze.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:["breakfast","lunch","dinner","snack"].map(r=>ze.jsxDEV(Qt,{type:"button",variant:"outline",size:"sm",onClick:()=>t(r),className:`\n                      border-gray-600 bg-transparent text-gray-300 hover:bg-gray-800 \n                      ${e===r?`bg-gray-800 ${C(r)}`:""}\n                    `,children:[ze.jsxDEV("span",{className:"mr-2",children:A(r)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:387,columnNumber:21},this),r.charAt(0).toUpperCase()+r.slice(1)]},r,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:376,columnNumber:19},this))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:374,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:370,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:369,columnNumber:11},this),r.trim()&&o.trim()&&ze.jsxDEV("div",{className:"cyber-card rounded-lg bg-gray-900/50 p-3",children:[ze.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[ze.jsxDEV("span",{className:"font-medium text-gray-300",children:"Meal Preview:"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:400,columnNumber:15},this),ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(Sr,{variant:"outline",className:`text-xs ${C(e)}`,children:[ze.jsxDEV("span",{className:"mr-1",children:A(e)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:403,columnNumber:19},this),e]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:402,columnNumber:17},this),ze.jsxDEV(Sr,{variant:"outline",className:"font-mono text-xs",children:[parseFloat(o).toFixed(0)," cal"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:406,columnNumber:17},this),ze.jsxDEV(Sr,{variant:"outline",className:"text-xs",children:[ze.jsxDEV(y,{className:"mr-1 h-3 w-3"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:410,columnNumber:19},this),(new Date).toLocaleDateString()]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:409,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:401,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:399,columnNumber:13},this),ze.jsxDEV("div",{className:"mt-2 text-sm text-gray-400",children:r},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:415,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:398,columnNumber:11},this),ze.jsxDEV("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(U,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:424,columnNumber:13},this),ze.jsxDEV("span",{children:"Press Enter to log quickly"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:425,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:423,columnNumber:11},this),ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(B,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:428,columnNumber:13},this),ze.jsxDEV("span",{children:"Smart meal type by time"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:429,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:427,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:422,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:184,columnNumber:7},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealEntryForm.tsx",lineNumber:177,columnNumber:5},this)}function Zs(){const{meals:e,analytics:t,isAnalyticsLoading:r}=Dr(),{isMobile:s}=Lr();if(r)return ze.jsxDEV(Kt,{className:"cyber-card mobile-card mobile-responsive "+(s?"galaxy-s24-ultra-optimized":""),children:ze.jsxDEV(tr,{className:"p-6",children:ze.jsxDEV("div",{className:"flex items-center justify-center",children:ze.jsxDEV("div",{className:"shimmer h-8 w-32 rounded bg-gray-700"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:20,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:19,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:18,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:17,columnNumber:7},this);if(!t||0===e.length)return null;const o=e=>{switch(e){case"breakfast":return"";case"lunch":return"";case"dinner":return"";case"snack":return""}},i=e=>{switch(e){case"breakfast":return"text-yellow-400";case"lunch":return"text-orange-400";case"dinner":return"text-purple-400";case"snack":return"text-green-400"}},a=2e3,n=e.filter(e=>new Date(e.timestamp).toDateString()===(new Date).toDateString()).reduce((e,t)=>e+t.nutrition.calories,0),l=Math.min(100,n/a*100);return ze.jsxDEV("div",{className:"space-y-6 "+(s?"mobile-layout":""),children:[ze.jsxDEV(Kt,{className:"cyber-card mobile-card mobile-responsive "+(s?"galaxy-s24-ultra-optimized":""),children:[ze.jsxDEV(Yt,{className:"mobile-layout",children:ze.jsxDEV(Xt,{className:"cyber-subtitle flex items-center gap-2 text-plasma-cyan mobile-heading",children:[ze.jsxDEV(P,{className:"cyber-icon h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:67,columnNumber:13},this),"Nutrition Analytics"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:66,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:65,columnNumber:9},this),ze.jsxDEV(tr,{className:"space-y-6 mobile-form-spacing",children:[ze.jsxDEV("div",{className:`grid ${s?"grid-cols-2":"grid-cols-4"} gap-4 text-center mobile-grid`,children:[ze.jsxDEV("div",{className:"text-center",children:[ze.jsxDEV("div",{className:"gradient-text-cyan metric-display text-2xl font-bold",children:t.totalMeals},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:75,columnNumber:15},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400",children:"Total Meals"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:78,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:74,columnNumber:13},this),ze.jsxDEV("div",{className:"text-center",children:[ze.jsxDEV("div",{className:"gradient-text-ki metric-display text-2xl font-bold",children:Math.round(t.averageCalories)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:81,columnNumber:15},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400",children:"Avg Calories"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:84,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:80,columnNumber:13},this),ze.jsxDEV("div",{className:"text-center",children:[ze.jsxDEV("div",{className:"gradient-text-magenta metric-display text-2xl font-bold",children:t.streak},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:87,columnNumber:15},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400",children:"Day Streak"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:90,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:86,columnNumber:13},this),ze.jsxDEV("div",{className:"text-center",children:[ze.jsxDEV("div",{className:"gradient-text-plasma metric-display text-2xl font-bold",children:Math.round(n)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:93,columnNumber:15},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400",children:"Today"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:96,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:92,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:73,columnNumber:11},this),ze.jsxDEV("div",{className:"space-y-3",children:[ze.jsxDEV("div",{className:"flex items-center justify-between",children:[ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(H,{className:"h-4 w-4 text-orange-400"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:104,columnNumber:17},this),ze.jsxDEV("span",{className:"font-mono text-sm text-gray-300",children:"Daily Calories"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:105,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:103,columnNumber:15},this),ze.jsxDEV("span",{className:"font-mono text-sm text-gray-400",children:[Math.round(n)," / ",a," cal"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:107,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:102,columnNumber:13},this),ze.jsxDEV(Mr,{value:l,className:"h-2 bg-gray-800"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:111,columnNumber:13},this),ze.jsxDEV("div",{className:"flex justify-between text-xs text-gray-500",children:[ze.jsxDEV("span",{children:"0"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:116,columnNumber:15},this),ze.jsxDEV("span",{className:l>=100?"text-ki-green":"text-gray-400",children:l>=100?"Goal Reached!":`${Math.round(a-n)} cal remaining`},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:117,columnNumber:15},this),ze.jsxDEV("span",{children:a},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:120,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:115,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:101,columnNumber:11},this),ze.jsxDEV("div",{className:"space-y-3",children:[ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(j,{className:"h-4 w-4 text-hyper-magenta"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:127,columnNumber:15},this),ze.jsxDEV("span",{className:"font-mono text-sm text-gray-300",children:"Macro Balance"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:128,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:126,columnNumber:13},this),ze.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[ze.jsxDEV("div",{className:"text-center",children:[ze.jsxDEV("div",{className:"text-orange-400 font-mono text-lg font-semibold",children:[Math.round(t.macroBalance.protein),"%"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:132,columnNumber:17},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400",children:"Protein"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:135,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:131,columnNumber:15},this),ze.jsxDEV("div",{className:"text-center",children:[ze.jsxDEV("div",{className:"text-blue-400 font-mono text-lg font-semibold",children:[Math.round(t.macroBalance.carbs),"%"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:138,columnNumber:17},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400",children:"Carbs"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:141,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:137,columnNumber:15},this),ze.jsxDEV("div",{className:"text-center",children:[ze.jsxDEV("div",{className:"text-yellow-400 font-mono text-lg font-semibold",children:[Math.round(t.macroBalance.fat),"%"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:144,columnNumber:17},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400",children:"Fat"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:147,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:143,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:130,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:125,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:71,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:64,columnNumber:7},this),ze.jsxDEV(Kt,{className:"cyber-card",children:[ze.jsxDEV(Yt,{children:ze.jsxDEV(Xt,{className:"cyber-subtitle flex items-center gap-2 text-plasma-cyan",children:[ze.jsxDEV(U,{className:"cyber-icon h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:158,columnNumber:13},this),"Meal Patterns"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:157,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:156,columnNumber:9},this),ze.jsxDEV(tr,{className:"space-y-4",children:[ze.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(t.mealFrequency).map(([e,t])=>ze.jsxDEV("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-900/50",children:[ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV("span",{className:"text-lg",children:o(e)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:167,columnNumber:19},this),ze.jsxDEV("div",{children:[ze.jsxDEV("div",{className:`font-mono text-sm font-semibold ${i(e)}`,children:e.charAt(0).toUpperCase()+e.slice(1)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:169,columnNumber:21},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400",children:[t," logged"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:172,columnNumber:21},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:168,columnNumber:19},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:166,columnNumber:17},this),ze.jsxDEV(Sr,{variant:"outline",className:"font-mono",children:t},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:177,columnNumber:17},this)]},e,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:165,columnNumber:15},this))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:163,columnNumber:11},this),ze.jsxDEV("div",{className:"space-y-3 border-t border-gray-700 pt-4",children:[ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(W,{className:"h-4 w-4 text-ki-green"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:187,columnNumber:15},this),ze.jsxDEV("span",{className:"font-mono text-sm text-gray-300",children:"Weekly Summary"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:188,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:186,columnNumber:13},this),ze.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[ze.jsxDEV("div",{className:"text-center p-3 rounded-lg bg-gray-900/50",children:[ze.jsxDEV("div",{className:"font-mono text-lg font-semibold text-ki-green",children:Math.round(t.weeklyCalories)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:192,columnNumber:17},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400",children:"Weekly Calories"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:195,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:191,columnNumber:15},this),ze.jsxDEV("div",{className:"text-center p-3 rounded-lg bg-gray-900/50",children:[ze.jsxDEV("div",{className:"font-mono text-lg font-semibold text-plasma-cyan",children:Math.round(t.weeklyCalories/7)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:198,columnNumber:17},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400",children:"Daily Average"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:201,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:197,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:190,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:185,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:162,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:155,columnNumber:7},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/meals/components/MealAnalytics.tsx",lineNumber:62,columnNumber:5},this)}const Ss=i.forwardRef(({className:e,...t},r)=>ze.jsxDEV("textarea",{className:qt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/textarea.tsx",lineNumber:11,columnNumber:7},void 0));Ss.displayName="Textarea";const Ts=[{name:"Running",type:"cardio",category:"Running",muscleGroups:["legs","core"],equipment:[]},{name:"Walking",type:"cardio",category:"Walking",muscleGroups:["legs"],equipment:[]},{name:"Cycling",type:"cardio",category:"Cycling",muscleGroups:["legs","core"],equipment:["bike"]},{name:"Swimming",type:"cardio",category:"Swimming",muscleGroups:["full-body"],equipment:["pool"]},{name:"Jump Rope",type:"cardio",category:"HIIT",muscleGroups:["legs","arms","core"],equipment:["jump-rope"]},{name:"Push-ups",type:"strength",category:"Bodyweight",muscleGroups:["chest","arms","core"],equipment:[]},{name:"Pull-ups",type:"strength",category:"Bodyweight",muscleGroups:["back","arms"],equipment:["pull-up-bar"]},{name:"Squats",type:"strength",category:"Bodyweight",muscleGroups:["legs","glutes"],equipment:[]},{name:"Deadlifts",type:"strength",category:"Weightlifting",muscleGroups:["back","legs","core"],equipment:["barbell"]},{name:"Bench Press",type:"strength",category:"Weightlifting",muscleGroups:["chest","arms"],equipment:["barbell","bench"]},{name:"Yoga",type:"flexibility",category:"Yoga",muscleGroups:["full-body"],equipment:["yoga-mat"]},{name:"Stretching",type:"flexibility",category:"Stretching",muscleGroups:["full-body"],equipment:[]},{name:"Pilates",type:"flexibility",category:"Pilates",muscleGroups:["core","full-body"],equipment:["yoga-mat"]},{name:"Basketball",type:"sports",category:"Team Sports",muscleGroups:["legs","core"],equipment:["basketball"]},{name:"Tennis",type:"sports",category:"Racquet Sports",muscleGroups:["arms","legs","core"],equipment:["tennis-racquet"]},{name:"Soccer",type:"sports",category:"Team Sports",muscleGroups:["legs","core"],equipment:["soccer-ball"]},{name:"Boxing Training",type:"cardio",category:"Martial Arts",muscleGroups:["arms","core","legs"],equipment:["boxing-gloves"]},{name:"Kickboxing",type:"cardio",category:"Martial Arts",muscleGroups:["full-body"],equipment:["boxing-gloves"]},{name:"Karate Practice",type:"sports",category:"Martial Arts",muscleGroups:["full-body"],equipment:[]},{name:"Taekwondo",type:"sports",category:"Martial Arts",muscleGroups:["legs","core"],equipment:[]},{name:"Shadow Boxing",type:"cardio",category:"Martial Arts",muscleGroups:["arms","core"],equipment:[]}],Ws=e=>{switch(e){case"cardio":return"text-red-400";case"strength":return"text-blue-400";case"flexibility":return"text-green-400";case"sports":return"text-purple-400";case"other":return"text-gray-400"}},Fs=Ce((e,t)=>({workouts:[],exercises:[],templates:[],analytics:null,goals:[],isLoading:!1,error:null,loadWorkouts:async()=>{e({isLoading:!0,error:null});try{const{data:t,error:r}=await ot.from("workout_entries").select("*").order("created_at",{ascending:!1});if(r)throw r;e({workouts:t||[],isLoading:!1})}catch(t){e({error:t.message,isLoading:!1})}},loadExercises:async()=>{e({isLoading:!0,error:null});try{const{data:t,error:r}=await ot.from("exercises").select("*").order("name");if(r)throw r;const s=(t||[]).map(e=>({id:e.id,name:e.name,type:e.type,category:e.category,description:e.description,instructions:e.instructions,muscleGroups:e.muscle_groups,equipment:e.equipment,isCustom:e.is_custom,createdAt:e.created_at,updatedAt:e.updated_at}));e({exercises:s,isLoading:!1})}catch(t){e({error:t.message,isLoading:!1})}},loadTemplates:async()=>{e({isLoading:!0,error:null});try{const{data:t,error:r}=await ot.from("workout_templates").select("*").order("name");if(r)throw r;e({templates:t||[],isLoading:!1})}catch(t){e({error:t.message,isLoading:!1})}},loadAnalytics:async()=>{var r;const{workouts:s}=t();if(0!==s.length)try{const t=s.length,o=s.reduce((e,t)=>e+t.duration,0),i=s.reduce((e,t)=>e+(t.calories||0),0),a=[...s].sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime());let n=0,l=0,c=0;const m=new Date,u=new Set(a.map(e=>new Date(e.createdAt).toDateString()));for(let e=0;e<30;e++){const t=new Date(m);if(t.setDate(m.getDate()-e),u.has(t.toDateString()))(0===e||n>0)&&n++;else if(e>0)break}a.forEach((e,t)=>{const r=new Date(e.createdAt),s=t>0?new Date(a[t-1].createdAt):null;!s||Math.abs(r.getTime()-s.getTime())<=864e5?(c++,l=Math.max(l,c)):c=1});const d={light:1,moderate:2,intense:3},p=s.reduce((e,t)=>e+d[t.intensity],0)/s.length,h=s.reduce((e,t)=>{const r=t.exerciseType;return e[r]||(e[r]={count:0,duration:0,calories:0}),e[r].count++,e[r].duration+=t.duration,e[r].calories+=t.calories||0,e},{}),N=(null==(r=Object.entries(h).sort(([,e],[,t])=>t.count-e.count)[0])?void 0:r[0])||"cardio",f=new Date;f.setDate(f.getDate()-f.getDay()),f.setHours(0,0,0,0);const g=s.filter(e=>new Date(e.createdAt)>=f).reduce((e,t)=>e+t.duration,0),b=new Date;b.setDate(1),b.setHours(0,0,0,0);const x=s.filter(e=>new Date(e.createdAt)>=b),P={workouts:x.length,duration:x.reduce((e,t)=>e+t.duration,0),calories:x.reduce((e,t)=>e+(t.calories||0),0)};e({analytics:{totalWorkouts:t,totalDuration:o,totalCalories:i,currentStreak:n,longestStreak:l,averageIntensity:p,favoriteExerciseType:N,weeklyGoal:150,weeklyProgress:g,monthlyStats:P,exerciseTypeBreakdown:h}})}catch(o){e({error:o.message})}},loadGoals:async()=>{e({isLoading:!0,error:null});try{const{data:t,error:r}=await ot.from("workout_goals").select("*").order("created_at",{ascending:!1});if(r)throw r;e({goals:t||[],isLoading:!1})}catch(t){e({error:t.message,isLoading:!1})}},addWorkout:async r=>{e({isLoading:!0,error:null});try{const s=r.calories||((e,t,r,s=70)=>{const o={cardio:8,strength:6,flexibility:3,sports:7,other:5}[e]*{light:.7,moderate:1,intense:1.4}[r];return Math.round(o*s*t/60)})(r.exerciseType,r.duration,r.intensity),{data:o,error:i}=await ot.from("workout_entries").insert([{...r,calories:s,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}]).select().single();if(i)throw i;const{workouts:a}=t();e({workouts:[o,...a],isLoading:!1}),t().loadAnalytics()}catch(s){e({error:s.message,isLoading:!1})}},updateWorkout:async(r,s)=>{e({isLoading:!0,error:null});try{const{data:o,error:i}=await ot.from("workout_entries").update({...s,updated_at:(new Date).toISOString()}).eq("id",r).select().single();if(i)throw i;const{workouts:a}=t();e({workouts:a.map(e=>e.id===r?o:e),isLoading:!1}),t().loadAnalytics()}catch(o){e({error:o.message,isLoading:!1})}},deleteWorkout:async r=>{e({isLoading:!0,error:null});try{const{error:s}=await ot.from("workout_entries").delete().eq("id",r);if(s)throw s;const{workouts:o}=t();e({workouts:o.filter(e=>e.id!==r),isLoading:!1}),t().loadAnalytics()}catch(s){e({error:s.message,isLoading:!1})}},addExercise:async r=>{e({isLoading:!0,error:null});try{const s={name:r.name,type:r.type,category:r.category,description:r.description,instructions:r.instructions,muscle_groups:r.muscleGroups,equipment:r.equipment,is_custom:r.isCustom,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()},{data:o,error:i}=await ot.from("exercises").insert([s]).select().single();if(i)throw i;const a={id:o.id,name:o.name,type:o.type,category:o.category,description:o.description,instructions:o.instructions,muscleGroups:o.muscle_groups,equipment:o.equipment,isCustom:o.is_custom,createdAt:o.created_at,updatedAt:o.updated_at},{exercises:n}=t();e({exercises:[...n,a],isLoading:!1})}catch(s){e({error:s.message,isLoading:!1})}},updateExercise:async(r,s)=>{e({isLoading:!0,error:null});try{const o={updated_at:(new Date).toISOString()};void 0!==s.name&&(o.name=s.name),void 0!==s.type&&(o.type=s.type),void 0!==s.category&&(o.category=s.category),void 0!==s.description&&(o.description=s.description),void 0!==s.instructions&&(o.instructions=s.instructions),void 0!==s.muscleGroups&&(o.muscle_groups=s.muscleGroups),void 0!==s.equipment&&(o.equipment=s.equipment),void 0!==s.isCustom&&(o.is_custom=s.isCustom);const{data:i,error:a}=await ot.from("exercises").update(o).eq("id",r).select().single();if(a)throw a;const n={id:i.id,name:i.name,type:i.type,category:i.category,description:i.description,instructions:i.instructions,muscleGroups:i.muscle_groups,equipment:i.equipment,isCustom:i.is_custom,createdAt:i.created_at,updatedAt:i.updated_at},{exercises:l}=t();e({exercises:l.map(e=>e.id===r?n:e),isLoading:!1})}catch(o){e({error:o.message,isLoading:!1})}},deleteExercise:async r=>{e({isLoading:!0,error:null});try{const{error:s}=await ot.from("exercises").delete().eq("id",r);if(s)throw s;const{exercises:o}=t();e({exercises:o.filter(e=>e.id!==r),isLoading:!1})}catch(s){e({error:s.message,isLoading:!1})}},addTemplate:async r=>{e({isLoading:!0,error:null});try{const{data:s,error:o}=await ot.from("workout_templates").insert([{...r,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}]).select().single();if(o)throw o;const{templates:i}=t();e({templates:[...i,s],isLoading:!1})}catch(s){e({error:s.message,isLoading:!1})}},updateTemplate:async(r,s)=>{e({isLoading:!0,error:null});try{const{data:o,error:i}=await ot.from("workout_templates").update({...s,updated_at:(new Date).toISOString()}).eq("id",r).select().single();if(i)throw i;const{templates:a}=t();e({templates:a.map(e=>e.id===r?o:e),isLoading:!1})}catch(o){e({error:o.message,isLoading:!1})}},deleteTemplate:async r=>{e({isLoading:!0,error:null});try{const{error:s}=await ot.from("workout_templates").delete().eq("id",r);if(s)throw s;const{templates:o}=t();e({templates:o.filter(e=>e.id!==r),isLoading:!1})}catch(s){e({error:s.message,isLoading:!1})}},addGoal:async r=>{e({isLoading:!0,error:null});try{const{data:s,error:o}=await ot.from("workout_goals").insert([{...r,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}]).select().single();if(o)throw o;const{goals:i}=t();e({goals:[s,...i],isLoading:!1})}catch(s){e({error:s.message,isLoading:!1})}},updateGoal:async(r,s)=>{e({isLoading:!0,error:null});try{const{data:o,error:i}=await ot.from("workout_goals").update({...s,updated_at:(new Date).toISOString()}).eq("id",r).select().single();if(i)throw i;const{goals:a}=t();e({goals:a.map(e=>e.id===r?o:e),isLoading:!1})}catch(o){e({error:o.message,isLoading:!1})}},deleteGoal:async r=>{e({isLoading:!0,error:null});try{const{error:s}=await ot.from("workout_goals").delete().eq("id",r);if(s)throw s;const{goals:o}=t();e({goals:o.filter(e=>e.id!==r),isLoading:!1})}catch(s){e({error:s.message,isLoading:!1})}},initializeExerciseLibrary:async()=>{e({isLoading:!0,error:null});try{const{exercises:r}=t(),s=new Set(r.map(e=>e.name)),o=Ts.filter(e=>!s.has(e.name));if(o.length>0){const t=o.map(e=>({name:e.name,type:e.type,category:e.category,description:e.description,instructions:e.instructions,muscle_groups:e.muscleGroups,equipment:e.equipment,is_custom:!1,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()})),{data:s,error:i}=await ot.from("exercises").insert(t).select();if(i)throw i;const a=s.map(e=>({id:e.id,name:e.name,type:e.type,category:e.category,description:e.description,instructions:e.instructions,muscleGroups:e.muscle_groups,equipment:e.equipment,isCustom:e.is_custom,createdAt:e.created_at,updatedAt:e.updated_at}));e({exercises:[...r,...a],isLoading:!1})}else e({isLoading:!1})}catch(r){e({error:r.message,isLoading:!1})}}}));function Ls(){const{exercises:e,addWorkout:t,isLoading:r}=Fs(),[s,o]=i.useState(""),[a,n]=i.useState(""),[l,c]=i.useState("cardio"),[m,u]=i.useState(""),[d,p]=i.useState("moderate"),[h,N]=i.useState(""),[f,g]=i.useState(""),[b,x]=i.useState(""),[P,v]=i.useState(""),[j,y]=i.useState(""),{isMobile:k}=Lr(),E=e.find(e=>e.id===s),A=(null==E?void 0:E.type)||l;return ze.jsxDEV(Kt,{className:"cyber-card mobile-card mobile-responsive "+(k?"galaxy-s24-ultra-optimized":""),children:[ze.jsxDEV(Yt,{className:"mobile-layout",children:ze.jsxDEV(Xt,{className:"flex items-center gap-2 gradient-text-ki mobile-heading",children:[ze.jsxDEV($,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:77,columnNumber:11},this),"Log Workout"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:76,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:75,columnNumber:7},this),ze.jsxDEV(tr,{children:ze.jsxDEV("form",{onSubmit:async r=>{if(r.preventDefault(),!m||!s&&!a)return;const i=e.find(e=>e.id===s),k=(null==i?void 0:i.name)||a,E=(null==i?void 0:i.type)||l,A={exerciseId:s||"custom",exerciseName:k,exerciseType:E,duration:parseInt(m),intensity:d,notes:h||void 0,sets:f?parseInt(f):void 0,reps:b?parseInt(b):void 0,weight:P?parseFloat(P):void 0,distance:j?parseFloat(j):void 0};await t(A),o(""),n(""),c("cardio"),u(""),p("moderate"),N(""),g(""),x(""),v(""),y("")},className:"space-y-4 mobile-form-spacing",children:[ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV(ar,{children:"Exercise"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:85,columnNumber:13},this),ze.jsxDEV("select",{value:s,onChange:e=>o(e.target.value),className:"cyber-input w-full",children:[ze.jsxDEV("option",{value:"",children:"Select an exercise"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:91,columnNumber:15},this),ze.jsxDEV("option",{value:"custom",children:"Custom Exercise"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:92,columnNumber:15},this),e.map(e=>ze.jsxDEV("option",{value:e.id,children:[e.name," (",e.category,")"]},e.id,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:94,columnNumber:17},this))]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:86,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:84,columnNumber:11},this),"custom"===s&&ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV(ar,{children:"Custom Exercise Name"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:104,columnNumber:15},this),ze.jsxDEV(ir,{value:a,onChange:e=>n(e.target.value),placeholder:"Enter exercise name",className:"cyber-input",required:!0},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:105,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:103,columnNumber:13},this),"custom"===s&&ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV(ar,{children:"Exercise Type"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:118,columnNumber:15},this),ze.jsxDEV("select",{value:l,onChange:e=>c(e.target.value),className:"cyber-input w-full",children:[ze.jsxDEV("option",{value:"cardio",children:"Cardio"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:124,columnNumber:17},this),ze.jsxDEV("option",{value:"strength",children:"Strength"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:125,columnNumber:17},this),ze.jsxDEV("option",{value:"flexibility",children:"Flexibility"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:126,columnNumber:17},this),ze.jsxDEV("option",{value:"sports",children:"Sports"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:127,columnNumber:17},this),ze.jsxDEV("option",{value:"other",children:"Other"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:128,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:119,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:117,columnNumber:13},this),ze.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV(ar,{className:"flex items-center gap-1",children:[ze.jsxDEV(B,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:137,columnNumber:17},this),"Duration (minutes)"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:136,columnNumber:15},this),ze.jsxDEV(ir,{type:"number",value:m,onChange:e=>u(e.target.value),placeholder:"30",className:"cyber-input",required:!0,min:"1"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:140,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:135,columnNumber:13},this),ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV(ar,{className:"flex items-center gap-1",children:[ze.jsxDEV(z,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:152,columnNumber:17},this),"Intensity"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:151,columnNumber:15},this),ze.jsxDEV("select",{value:d,onChange:e=>p(e.target.value),className:"cyber-input w-full",children:[ze.jsxDEV("option",{value:"light",children:"Light"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:160,columnNumber:17},this),ze.jsxDEV("option",{value:"moderate",children:"Moderate"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:161,columnNumber:17},this),ze.jsxDEV("option",{value:"intense",children:"Intense"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:162,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:155,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:150,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:134,columnNumber:11},this),"strength"===A&&ze.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV(ar,{children:"Sets"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:171,columnNumber:17},this),ze.jsxDEV(ir,{type:"number",value:f,onChange:e=>g(e.target.value),placeholder:"3",className:"cyber-input",min:"1"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:172,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:170,columnNumber:15},this),ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV(ar,{children:"Reps"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:182,columnNumber:17},this),ze.jsxDEV(ir,{type:"number",value:b,onChange:e=>x(e.target.value),placeholder:"12",className:"cyber-input",min:"1"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:183,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:181,columnNumber:15},this),ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV(ar,{children:"Weight (kg)"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:193,columnNumber:17},this),ze.jsxDEV(ir,{type:"number",step:"0.5",value:P,onChange:e=>v(e.target.value),placeholder:"50",className:"cyber-input",min:"0"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:194,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:192,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:169,columnNumber:13},this),"cardio"===A&&ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV(ar,{children:"Distance (km)"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:210,columnNumber:15},this),ze.jsxDEV(ir,{type:"number",step:"0.1",value:j,onChange:e=>y(e.target.value),placeholder:"5.0",className:"cyber-input",min:"0"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:211,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:209,columnNumber:13},this),ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV(ar,{children:"Notes (optional)"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:225,columnNumber:13},this),ze.jsxDEV(Ss,{value:h,onChange:e=>N(e.target.value),placeholder:"How did it feel? Any observations...",className:"cyber-input min-h-[80px]"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:226,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:224,columnNumber:11},this),ze.jsxDEV(Qt,{type:"submit",disabled:r||!m||!s&&!a,className:"w-full cyber-button-ki",children:[ze.jsxDEV(T,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:240,columnNumber:13},this),r?"Logging...":"Log Workout"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:235,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:82,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:81,columnNumber:7},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutEntryForm.tsx",lineNumber:74,columnNumber:5},this)}function Is(){const{analytics:e}=Fs(),{isMobile:t}=Lr();if(!e)return ze.jsxDEV(Kt,{className:"cyber-card mobile-card mobile-responsive "+(t?"galaxy-s24-ultra-optimized":""),children:ze.jsxDEV(tr,{className:"p-6 text-center text-gray-400 mobile-layout",children:[ze.jsxDEV(J,{className:"h-12 w-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:25,columnNumber:11},this),ze.jsxDEV("p",{className:"mobile-body",children:"No workout data yet"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:26,columnNumber:11},this),ze.jsxDEV("p",{className:"text-sm mobile-caption",children:"Start logging workouts to see analytics"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:27,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:24,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:23,columnNumber:7},this);const r=e.weeklyProgress/e.weeklyGoal*100;return ze.jsxDEV("div",{className:"space-y-6 "+(t?"mobile-layout":""),children:[ze.jsxDEV(Kt,{className:"cyber-card mobile-card mobile-responsive "+(t?"galaxy-s24-ultra-optimized":""),children:[ze.jsxDEV(Yt,{className:"mobile-layout",children:ze.jsxDEV(Xt,{className:"flex items-center gap-2 gradient-text-ki mobile-heading",children:[ze.jsxDEV(J,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:41,columnNumber:13},this),"Workout Overview"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:40,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:39,columnNumber:9},this),ze.jsxDEV(tr,{className:"mobile-form-spacing",children:ze.jsxDEV("div",{className:`grid ${t?"grid-cols-2":"grid-cols-2 md:grid-cols-4"} gap-4 mobile-grid`,children:[ze.jsxDEV("div",{className:"text-center",children:[ze.jsxDEV("div",{className:"gradient-text-ki metric-display text-2xl font-bold",children:e.totalWorkouts},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:48,columnNumber:15},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400",children:"Total Workouts"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:51,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:47,columnNumber:13},this),ze.jsxDEV("div",{className:"text-center",children:[ze.jsxDEV("div",{className:"gradient-text-cyan metric-display text-2xl font-bold",children:[Math.round(e.totalDuration/60),"h"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:54,columnNumber:15},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400",children:"Total Hours"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:57,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:53,columnNumber:13},this),ze.jsxDEV("div",{className:"text-center",children:[ze.jsxDEV("div",{className:"gradient-text-magenta metric-display text-2xl font-bold",children:e.totalCalories},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:60,columnNumber:15},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400",children:"Calories Burned"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:63,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:59,columnNumber:13},this),ze.jsxDEV("div",{className:"text-center",children:[ze.jsxDEV("div",{className:"gradient-text-yellow metric-display text-2xl font-bold",children:e.currentStreak},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:66,columnNumber:15},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400",children:"Day Streak"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:69,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:65,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:46,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:45,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:38,columnNumber:7},this),ze.jsxDEV(Kt,{className:"cyber-card",children:[ze.jsxDEV(Yt,{children:ze.jsxDEV(Xt,{className:"flex items-center gap-2 gradient-text-cyan",children:[ze.jsxDEV(j,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:79,columnNumber:13},this),"Weekly Goal Progress"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:78,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:77,columnNumber:9},this),ze.jsxDEV(tr,{children:ze.jsxDEV("div",{className:"space-y-4",children:[ze.jsxDEV("div",{className:"flex justify-between items-center",children:[ze.jsxDEV("span",{className:"font-mono text-sm",children:[e.weeklyProgress," / ",e.weeklyGoal," minutes"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:86,columnNumber:15},this),ze.jsxDEV(Sr,{variant:r>=100?"default":"outline",children:[Math.round(r),"%"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:89,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:85,columnNumber:13},this),ze.jsxDEV(Mr,{value:Math.min(r,100),className:"h-3"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:93,columnNumber:13},this),ze.jsxDEV("div",{className:"text-xs text-gray-400 font-mono",children:r>=100?" Weekly goal achieved!":e.weeklyGoal-e.weeklyProgress+" minutes to go"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:97,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:84,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:83,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:76,columnNumber:7},this),ze.jsxDEV(Kt,{className:"cyber-card",children:[ze.jsxDEV(Yt,{children:ze.jsxDEV(Xt,{className:"flex items-center gap-2 gradient-text-magenta",children:[ze.jsxDEV(W,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:111,columnNumber:13},this),"Exercise Breakdown"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:110,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:109,columnNumber:9},this),ze.jsxDEV(tr,{children:ze.jsxDEV("div",{className:"space-y-3",children:Object.entries(e.exerciseTypeBreakdown).map(([e,t])=>ze.jsxDEV("div",{className:"flex items-center justify-between",children:[ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV("span",{className:`${Ws(e)} text-lg`,children:""},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:120,columnNumber:19},this),ze.jsxDEV("span",{className:"capitalize font-mono text-sm",children:e},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:121,columnNumber:19},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:119,columnNumber:17},this),ze.jsxDEV("div",{className:"flex items-center gap-4 text-sm",children:[ze.jsxDEV("span",{className:"text-gray-400",children:[t.count," workouts"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:124,columnNumber:19},this),ze.jsxDEV("span",{className:"text-gray-400",children:[Math.round(t.duration/60),"h"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:125,columnNumber:19},this),ze.jsxDEV("span",{className:"text-gray-400",children:[t.calories," cal"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:126,columnNumber:19},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:123,columnNumber:17},this)]},e,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:118,columnNumber:15},this))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:116,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:115,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:108,columnNumber:7},this),ze.jsxDEV(Kt,{className:"cyber-card",children:[ze.jsxDEV(Yt,{children:ze.jsxDEV(Xt,{className:"flex items-center gap-2 gradient-text-yellow",children:[ze.jsxDEV(y,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:138,columnNumber:13},this),"This Month"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:137,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:136,columnNumber:9},this),ze.jsxDEV(tr,{children:ze.jsxDEV("div",{className:"grid grid-cols-3 gap-4 text-center",children:[ze.jsxDEV("div",{children:[ze.jsxDEV("div",{className:"gradient-text-ki metric-display text-xl font-bold",children:e.monthlyStats.workouts},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:145,columnNumber:15},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400",children:"Workouts"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:148,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:144,columnNumber:13},this),ze.jsxDEV("div",{children:[ze.jsxDEV("div",{className:"gradient-text-cyan metric-display text-xl font-bold",children:[Math.round(e.monthlyStats.duration/60),"h"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:151,columnNumber:15},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400",children:"Hours"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:154,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:150,columnNumber:13},this),ze.jsxDEV("div",{children:[ze.jsxDEV("div",{className:"gradient-text-magenta metric-display text-xl font-bold",children:e.monthlyStats.calories},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:157,columnNumber:15},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400",children:"Calories"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:160,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:156,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:143,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:142,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:135,columnNumber:7},this),ze.jsxDEV(Kt,{className:"cyber-card",children:[ze.jsxDEV(Yt,{children:ze.jsxDEV(Xt,{className:"flex items-center gap-2 gradient-text-plasma",children:[ze.jsxDEV(z,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:170,columnNumber:13},this),"Performance Stats"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:169,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:168,columnNumber:9},this),ze.jsxDEV(tr,{children:[ze.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[ze.jsxDEV("div",{className:"text-center",children:[ze.jsxDEV("div",{className:"gradient-text-ki metric-display text-lg font-bold",children:e.longestStreak},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:177,columnNumber:15},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400",children:"Longest Streak"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:180,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:176,columnNumber:13},this),ze.jsxDEV("div",{className:"text-center",children:[ze.jsxDEV("div",{className:"gradient-text-cyan metric-display text-lg font-bold",children:e.averageIntensity.toFixed(1)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:183,columnNumber:15},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400",children:"Avg Intensity"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:186,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:182,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:175,columnNumber:11},this),ze.jsxDEV("div",{className:"mt-4 text-center",children:ze.jsxDEV("div",{className:"flex items-center justify-center gap-2",children:[ze.jsxDEV("span",{className:"text-sm text-gray-400",children:"Favorite Exercise Type:"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:191,columnNumber:15},this),ze.jsxDEV(Sr,{className:`${Ws(e.favoriteExerciseType)} border-current`,children:e.favoriteExerciseType},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:192,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:190,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:189,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:174,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:167,columnNumber:7},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/WorkoutAnalytics.tsx",lineNumber:36,columnNumber:5},this)}function Ms(){const[e,t]=i.useState({date:(new Date).toDateString(),punches:0,kicks:0,total:0}),[r,s]=i.useState(0),[o,a]=i.useState(0),{isMobile:n}=Lr(),l=Fr({scale:.95,haptic:!0});i.useEffect(()=>{c(),m()},[]);const c=()=>{const e=(new Date).toDateString(),r=localStorage.getItem(`daily-counter-${e}`);if(r){const e=JSON.parse(r);t(e)}else{const r={date:e,punches:0,kicks:0,total:0};t(r),localStorage.setItem(`daily-counter-${e}`,JSON.stringify(r))}},m=()=>{const e=new Date;let t=0,r=0;for(let s=0;s<7;s++){const o=new Date(e);o.setDate(e.getDate()-s);const i=o.toDateString(),a=localStorage.getItem(`daily-counter-${i}`);if(a){const e=JSON.parse(a);t+=e.total,e.total>0&&s===r&&r++}}s(t),a(r)},u=(r,s)=>{const o={...e,[r]:e[r]+s,total:e.total+s};t(o),localStorage.setItem(`daily-counter-${o.date}`,JSON.stringify(o)),m()},d=[5,10,25];return ze.jsxDEV(Kt,{className:"cyber-card mobile-card mobile-responsive "+(n?"galaxy-s24-ultra-optimized":""),children:[ze.jsxDEV(Yt,{className:"mobile-layout",children:ze.jsxDEV(Xt,{className:"flex items-center justify-between",children:[ze.jsxDEV("div",{className:"flex items-center gap-2 gradient-text-ki mobile-heading",children:[ze.jsxDEV(z,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:128,columnNumber:13},this),"Daily Strike Counter"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:127,columnNumber:11},this),ze.jsxDEV(Qt,{variant:"outline",size:"sm",onClick:()=>{const r={date:e.date,punches:0,kicks:0,total:0};t(r),localStorage.setItem(`daily-counter-${r.date}`,JSON.stringify(r)),m()},className:"text-xs touch-target mobile-button","aria-label":"Reset daily counter",children:[ze.jsxDEV(q,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:138,columnNumber:13},this),"Reset"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:131,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:126,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:125,columnNumber:7},this),ze.jsxDEV(tr,{className:"space-y-6 mobile-form-spacing",children:[ze.jsxDEV("div",{className:"grid grid-cols-3 gap-4 text-center mobile-grid",children:[ze.jsxDEV("div",{children:[ze.jsxDEV("div",{className:"gradient-text-ki metric-display text-2xl font-bold mobile-large",children:e.punches},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:147,columnNumber:13},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400 mobile-caption",children:"Punches"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:150,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:146,columnNumber:11},this),ze.jsxDEV("div",{children:[ze.jsxDEV("div",{className:"gradient-text-cyan metric-display text-2xl font-bold mobile-large",children:e.kicks},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:153,columnNumber:13},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400 mobile-caption",children:"Kicks"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:156,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:152,columnNumber:11},this),ze.jsxDEV("div",{children:[ze.jsxDEV("div",{className:"gradient-text-magenta metric-display text-2xl font-bold mobile-large",children:e.total},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:159,columnNumber:13},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400 mobile-caption",children:"Total"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:162,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:158,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:145,columnNumber:9},this),ze.jsxDEV("div",{className:"space-y-3",children:[ze.jsxDEV("div",{className:"flex items-center justify-between",children:[ze.jsxDEV("h3",{className:"font-mono text-sm gradient-text-ki",children:" Punches"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:169,columnNumber:13},this),ze.jsxDEV(Sr,{variant:"outline",className:"text-ki-green border-ki-green",children:e.punches},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:170,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:168,columnNumber:11},this),ze.jsxDEV("div",{className:"flex gap-2 mobile-button-group",children:d.map(e=>ze.jsxDEV(Qt,{ref:l.elementRef,variant:"outline",size:"sm",onClick:()=>u("punches",e),className:"flex-1 cyber-button-ki touch-target mobile-button","aria-label":`Add ${e} punches`,children:["+",e]},`punch-${e}`,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:176,columnNumber:15},this))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:174,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:167,columnNumber:9},this),ze.jsxDEV("div",{className:"space-y-3",children:[ze.jsxDEV("div",{className:"flex items-center justify-between",children:[ze.jsxDEV("h3",{className:"font-mono text-sm gradient-text-cyan",children:" Kicks"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:194,columnNumber:13},this),ze.jsxDEV(Sr,{variant:"outline",className:"text-plasma-cyan border-plasma-cyan",children:e.kicks},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:195,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:193,columnNumber:11},this),ze.jsxDEV("div",{className:"flex gap-2 mobile-button-group",children:d.map(e=>ze.jsxDEV(Qt,{variant:"outline",size:"sm",onClick:()=>u("kicks",e),className:"flex-1 cyber-button-cyan touch-target mobile-button","aria-label":`Add ${e} kicks`,children:["+",e]},`kick-${e}`,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:201,columnNumber:15},this))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:199,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:192,columnNumber:9},this),ze.jsxDEV("div",{className:"border-t border-gray-700 pt-4",children:ze.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-center",children:[ze.jsxDEV("div",{children:[ze.jsxDEV("div",{className:"flex items-center justify-center gap-1 mb-1",children:[ze.jsxDEV(y,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:220,columnNumber:17},this),ze.jsxDEV("span",{className:"font-mono text-xs text-gray-400",children:"7-Day Total"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:221,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:219,columnNumber:15},this),ze.jsxDEV("div",{className:"gradient-text-yellow metric-display text-lg font-bold",children:r},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:223,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:218,columnNumber:13},this),ze.jsxDEV("div",{children:[ze.jsxDEV("div",{className:"flex items-center justify-center gap-1 mb-1",children:[ze.jsxDEV(W,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:229,columnNumber:17},this),ze.jsxDEV("span",{className:"font-mono text-xs text-gray-400",children:"Streak"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:230,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:228,columnNumber:15},this),ze.jsxDEV("div",{className:"gradient-text-plasma metric-display text-lg font-bold",children:[o," days"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:232,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:227,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:217,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:216,columnNumber:9},this),ze.jsxDEV("div",{className:"bg-gray-800/30 rounded-lg p-3",children:[ze.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[ze.jsxDEV(j,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:242,columnNumber:13},this),ze.jsxDEV("span",{className:"font-mono text-xs text-gray-400",children:"Daily Goals"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:243,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:241,columnNumber:11},this),ze.jsxDEV("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[ze.jsxDEV("div",{className:"text-center p-2 rounded "+(e.total>=100?"bg-ki-green/20 text-ki-green":"bg-gray-700/50 text-gray-400"),children:[ze.jsxDEV("div",{className:"font-bold",children:"100"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:247,columnNumber:15},this),ze.jsxDEV("div",{children:"Beginner"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:248,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:246,columnNumber:13},this),ze.jsxDEV("div",{className:"text-center p-2 rounded "+(e.total>=250?"bg-plasma-cyan/20 text-plasma-cyan":"bg-gray-700/50 text-gray-400"),children:[ze.jsxDEV("div",{className:"font-bold",children:"250"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:251,columnNumber:15},this),ze.jsxDEV("div",{children:"Intermediate"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:252,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:250,columnNumber:13},this),ze.jsxDEV("div",{className:"text-center p-2 rounded "+(e.total>=500?"bg-plasma-magenta/20 text-plasma-magenta":"bg-gray-700/50 text-gray-400"),children:[ze.jsxDEV("div",{className:"font-bold",children:"500"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:255,columnNumber:15},this),ze.jsxDEV("div",{children:"Advanced"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:256,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:254,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:245,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:240,columnNumber:9},this),ze.jsxDEV("div",{className:"text-center",children:ze.jsxDEV("div",{className:"font-mono text-xs text-gray-500",children:(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:263,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:262,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:143,columnNumber:7},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/workout/components/DailyCounter.tsx",lineNumber:124,columnNumber:5},this)}const _s="perfect-zenkai-health-tab";function Rs(){const[e,t]=i.useState(()=>localStorage.getItem(_s)||"weight"),[r,s]=i.useState(!1),{weights:o,activeGoal:a,loadWeights:n,loadActiveGoal:l,isLoading:c}=wr(),{meals:m,loadMeals:u,loadAnalytics:d,isLoading:p}=Dr(),{workouts:h,exercises:N,loadWorkouts:f,loadExercises:g,loadAnalytics:b,initializeExerciseLibrary:x,isLoading:P}=Fs();i.useEffect(()=>{0===o.length&&n(),a||l(),0===m.length&&u(),0===h.length&&f(),0===N.length&&(g(),x()),d(),b()},[o.length,n,a,l,m.length,u,d,h.length,f,N.length,g,x,b]);const v=e=>{t(e),localStorage.setItem(_s,e)},y=c||p||P;return ze.jsxDEV("div",{className:"container mx-auto px-4 pb-24 pt-4",children:[ze.jsxDEV("div",{className:"mb-6",children:ze.jsxDEV("div",{className:"flex items-center justify-between",children:[ze.jsxDEV("div",{children:[ze.jsxDEV("h1",{className:"cyber-title gradient-text-ki mb-2",children:"HEALTH HUB"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:92,columnNumber:13},this),ze.jsxDEV("p",{className:"font-mono text-sm text-gray-400",children:["Unified health tracking  ",o.length," weight entries  ",m.length," meals  ",h.length," workouts"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:93,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:91,columnNumber:11},this),ze.jsxDEV("div",{className:"flex gap-2",children:ze.jsxDEV(Qt,{variant:"outline",size:"sm",onClick:()=>s(!r),className:"flex items-center gap-2",children:[ze.jsxDEV(j,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:104,columnNumber:15},this),a?"Edit Goal":"Set Goal"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:98,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:97,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:90,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:89,columnNumber:7},this),ze.jsxDEV(Kt,{className:"cyber-card mb-6",children:ze.jsxDEV(tr,{className:"p-0",children:ze.jsxDEV("div",{className:"flex",children:[ze.jsxDEV(Qt,{variant:"weight"===e?"cyber-ki":"ghost",className:`\n                flex-1 rounded-none border-0 h-12\n                ${"weight"===e?"bg-gradient-to-r from-ki-green/20 to-ki-green/10 text-ki-green border-b-2 border-ki-green":"text-gray-400 hover:text-gray-200 hover:bg-gray-800/50"}\n              `,onClick:()=>v("weight"),children:[ze.jsxDEV(S,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:126,columnNumber:15},this),"Weight"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:115,columnNumber:13},this),ze.jsxDEV(Qt,{variant:"meals"===e?"cyber-ki":"ghost",className:`\n                flex-1 rounded-none border-0 h-12\n                ${"meals"===e?"bg-gradient-to-r from-plasma-cyan/20 to-plasma-cyan/10 text-plasma-cyan border-b-2 border-plasma-cyan":"text-gray-400 hover:text-gray-200 hover:bg-gray-800/50"}\n              `,onClick:()=>v("meals"),children:[ze.jsxDEV(U,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:140,columnNumber:15},this),"Meals"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:129,columnNumber:13},this),ze.jsxDEV(Qt,{variant:"workout"===e?"cyber-ki":"ghost",className:`\n                flex-1 rounded-none border-0 h-12\n                ${"workout"===e?"bg-gradient-to-r from-ki-green/20 to-ki-green/10 text-ki-green border-b-2 border-ki-green":"text-gray-400 hover:text-gray-200 hover:bg-gray-800/50"}\n              `,onClick:()=>v("workout"),children:[ze.jsxDEV($,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:154,columnNumber:15},this),"Workout"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:143,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:114,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:113,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:112,columnNumber:7},this),ze.jsxDEV("div",{className:"mb-6",children:ze.jsxDEV(Kt,{className:"cyber-card",children:ze.jsxDEV(tr,{className:"p-4",children:ze.jsxDEV("div",{className:"grid grid-cols-3 gap-4 text-center",children:[ze.jsxDEV("div",{children:[ze.jsxDEV("div",{className:"gradient-text-ki metric-display text-lg font-bold",children:o.length+m.length+h.length},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:167,columnNumber:17},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400",children:"Total Entries"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:170,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:166,columnNumber:15},this),ze.jsxDEV("div",{children:[ze.jsxDEV("div",{className:"gradient-text-cyan metric-display text-lg font-bold",children:"weight"===e?`${o[0]?Tr(o[0].kg).toFixed(1):0}lbs`:"meals"===e?`${m.reduce((e,t)=>e+t.nutrition.calories,0)}cal`:`${h.reduce((e,t)=>e+t.duration,0)}min`},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:173,columnNumber:17},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400",children:"weight"===e?"Latest Weight":"meals"===e?"Total Calories":"Total Duration"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:181,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:172,columnNumber:15},this),ze.jsxDEV("div",{children:[ze.jsxDEV("div",{className:"gradient-text-magenta metric-display text-lg font-bold",children:[ze.jsxDEV(W,{className:"inline h-4 w-4 mr-1"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:187,columnNumber:19},this),"weight"===e?"Progress":"meals"===e?"Nutrition":"Fitness"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:186,columnNumber:17},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-400",children:"weight"===e?"Tracking":"meals"===e?"Balance":"Training"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:190,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:185,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:165,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:164,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:163,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:162,columnNumber:7},this),r&&ze.jsxDEV("div",{className:"mb-6",children:ze.jsxDEV(Ur,{onClose:()=>s(!1)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:202,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:201,columnNumber:9},this),"weight"===e&&ze.jsxDEV("div",{className:"space-y-6",children:[ze.jsxDEV(Ir,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:210,columnNumber:11},this),o.length>0&&!c&&ze.jsxDEV(Or,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:214,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:208,columnNumber:9},this),"meals"===e&&ze.jsxDEV("div",{className:"space-y-6",children:[ze.jsxDEV(Vs,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:225,columnNumber:11},this),m.length>0&&!p&&ze.jsxDEV(Zs,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:229,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:223,columnNumber:9},this),"workout"===e&&ze.jsxDEV("div",{className:"space-y-6",children:[ze.jsxDEV(Ms,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:240,columnNumber:11},this),ze.jsxDEV(Ls,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:243,columnNumber:11},this),h.length>0&&!P&&ze.jsxDEV(Is,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:247,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:238,columnNumber:9},this),y&&ze.jsxDEV("div",{className:"space-y-4",children:ze.jsxDEV("div",{className:"cyber-card p-4",children:ze.jsxDEV("div",{className:"mb-4 flex items-center gap-3",children:[ze.jsxDEV("div",{className:"shimmer h-8 w-8 rounded-full bg-gray-700"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:260,columnNumber:15},this),ze.jsxDEV("div",{children:[ze.jsxDEV("div",{className:"shimmer mb-2 h-4 w-24 rounded bg-gray-700"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:262,columnNumber:17},this),ze.jsxDEV("div",{className:"shimmer h-3 w-16 rounded bg-gray-700"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:263,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:261,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:259,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:258,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:257,columnNumber:9},this),!y&&0===o.length&&0===m.length&&ze.jsxDEV("div",{className:"py-16 text-center",children:ze.jsxDEV("div",{className:"cyber-card mx-auto max-w-md",children:ze.jsxDEV("div",{className:"flex flex-col items-center space-y-6",children:[ze.jsxDEV("div",{className:"relative",children:ze.jsxDEV("div",{className:"flex h-20 w-20 items-center justify-center rounded-xl border border-gray-700 bg-gray-900",children:"weight"===e?ze.jsxDEV(S,{className:"text-ki-green cyber-icon h-10 w-10 animate-pulse"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:278,columnNumber:21},this):ze.jsxDEV(U,{className:"text-plasma-cyan cyber-icon h-10 w-10 animate-pulse"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:280,columnNumber:21},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:276,columnNumber:17},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:275,columnNumber:15},this),ze.jsxDEV("div",{className:"space-y-3",children:[ze.jsxDEV("h3",{className:"cyber-subtitle text-gray-300",children:"weight"===e?"Begin Weight Journey":"Start Meal Tracking"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:286,columnNumber:17},this),ze.jsxDEV("p",{className:"font-mono text-sm leading-relaxed text-gray-500",children:"weight"===e?"Track your progress with precision. Every entry brings you closer to your goal.":"Log your meals and nutrition. Build healthy eating habits with detailed tracking."},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:289,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:285,columnNumber:15},this),ze.jsxDEV(Qt,{variant:"cyber-ki",onClick:()=>{const t=document.getElementById("weight"===e?"weight-quick":"meal-quick");t&&t.focus()},className:"w-full",children:"weight"===e?ze.jsxDEV(ze.Fragment,{children:[ze.jsxDEV(S,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:311,columnNumber:21},this),"LOG FIRST WEIGHT"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:310,columnNumber:19},this):ze.jsxDEV(ze.Fragment,{children:[ze.jsxDEV(U,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:316,columnNumber:21},this),"LOG FIRST MEAL"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:315,columnNumber:19},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:297,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:274,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:273,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:272,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/health/pages/HealthHubPage.tsx",lineNumber:87,columnNumber:5},this)}const Gs=Ce((e,t)=>({todos:[],templates:[],isLoading:!1,isSyncing:!1,error:null,addTodo:async t=>{try{e({isLoading:!0,error:null});const r=zt.getState().user,s=null==r?void 0:r.id,o={...t,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},i=await It.addTodo(o,s);e(e=>({todos:[i,...e.todos],isLoading:!1}))}catch(r){throw e({error:r instanceof Error?r.message:"Failed to add todo",isLoading:!1}),r}},updateTodo:async(t,r)=>{try{e({isLoading:!0,error:null});const s=zt.getState().user,o=null==s?void 0:s.id;await It.updateTodo(t,r,o),e(e=>({todos:e.todos.map(e=>e.id===t?{...e,...r,updatedAt:(new Date).toISOString()}:e),isLoading:!1}))}catch(s){throw e({error:s instanceof Error?s.message:"Failed to update todo",isLoading:!1}),s}},deleteTodo:async t=>{try{e({isLoading:!0,error:null});const r=zt.getState().user,s=null==r?void 0:r.id;await It.deleteTodo(t,s),e(e=>({todos:e.todos.filter(e=>e.id!==t),isLoading:!1}))}catch(r){throw e({error:r instanceof Error?r.message:"Failed to delete todo",isLoading:!1}),r}},updateTodoField:async(r,s,o)=>{try{const i=t().todos.find(e=>e.id===r);if(!i)throw new Error("Todo not found");const a=(new Date).toISOString(),n={...i,[s]:o,updatedAt:a};e(e=>({todos:e.todos.map(e=>e.id===r?n:e)}));const l={updated_at:a};switch(s){case"summary":l.summary=o;break;case"description":l.description=o;break;case"descriptionFormat":l.description_format=o;break;case"points":l.points=o;break;case"priority":l.priority=o;break;case"category":l.category=o;break;case"dueDateTime":l.due_date_time=o;break;case"done":l.done=o,l.completed_at=o?a:null;break;default:return}const c=await xt();if(!c)throw new Error("Supabase client not available");const{error:m}=await c.from("todos").update(l).eq("id",r);if(m)throw e(e=>({todos:e.todos.map(e=>e.id===r?i:e)})),m}catch(i){throw i}},toggleTodo:async r=>{try{const o=t().todos.find(e=>e.id===r);if(!o)throw new Error("Todo not found");const i=(new Date).toISOString(),a={done:!o.done,updatedAt:i},n={...o,...a};e(e=>({todos:e.todos.map(e=>e.id===r?n:e)}));try{const e=zt.getState().user,t=null==e?void 0:e.id;await It.updateTodo(r,a,t)}catch(s){throw e(e=>({todos:e.todos.map(e=>e.id===r?o:e)})),s}}catch(o){throw o}},loadTodos:async()=>{try{e({isLoading:!0,error:null});const s=zt.getState().user,o=null==s?void 0:s.id;if(o){Tt(o);const{isSyncing:s}=t();if(!s)try{e({isSyncing:!0});(await It.syncData(o)).synced}catch(r){}finally{e({isSyncing:!1})}}const i=await It.getAllTodos(o);e({todos:i,isLoading:!1})}catch(s){e({error:s instanceof Error?s.message:"Failed to load todos",isLoading:!1,isSyncing:!1})}},refreshTodos:async()=>{try{await t().loadTodos()}catch(e){throw e}},syncData:async()=>{try{e({isLoading:!0,error:null});const r=zt.getState().user,s=null==r?void 0:r.id,o=await It.syncData(s);return o.synced>0&&await t().loadTodos(),e({isLoading:!1}),o}catch(r){throw e({error:r instanceof Error?r.message:"Failed to sync data",isLoading:!1}),r}},addSubtask:async(t,r)=>{try{const s=zt.getState().user,o=null==s?void 0:s.id;await It.addSubtask(t,r,o);const i=await It.getTodoById(t,o);i&&e(e=>({todos:e.todos.map(e=>e.id===t?i:e)}))}catch(s){throw e({error:s instanceof Error?s.message:"Failed to add subtask"}),s}},updateSubtask:async(t,r,s)=>{try{const o=zt.getState().user,i=null==o?void 0:o.id;await It.updateSubtask(t,r,s,i);const a=await It.getTodoById(t,i);a&&e(e=>({todos:e.todos.map(e=>e.id===t?a:e)}))}catch(o){throw e({error:o instanceof Error?o.message:"Failed to update subtask"}),o}},deleteSubtask:async(t,r)=>{try{const s=zt.getState().user,o=null==s?void 0:s.id;await It.deleteSubtask(t,r,o);const i=await It.getTodoById(t,o);i&&e(e=>({todos:e.todos.map(e=>e.id===t?i:e)}))}catch(s){throw e({error:s instanceof Error?s.message:"Failed to delete subtask"}),s}},toggleSubtask:async(r,s)=>{try{const e=t().todos.find(e=>e.id===r);if(!e)return;const o=e.subtasks.find(e=>e.id===s);if(!o)return;await t().updateSubtask(r,s,{done:!o.done})}catch(o){throw e({error:o instanceof Error?o.message:"Failed to toggle subtask"}),o}},addTemplate:async t=>{try{e({isLoading:!0,error:null});const r=await Lt.addTemplate(t);e(e=>({templates:[r,...e.templates],isLoading:!1}))}catch(r){throw e({error:r instanceof Error?r.message:"Failed to add template",isLoading:!1}),r}},updateTemplate:async(t,r)=>{try{await Lt.updateTemplate(t,r),e(e=>({templates:e.templates.map(e=>e.id===t?{...e,...r}:e)}))}catch(s){throw e({error:s instanceof Error?s.message:"Failed to update template"}),s}},deleteTemplate:async t=>{try{await Lt.deleteTemplate(t),e(e=>({templates:e.templates.filter(e=>e.id!==t)}))}catch(r){throw e({error:r instanceof Error?r.message:"Failed to delete template"}),r}},loadTemplates:async()=>{try{const t=await Lt.getAllTemplates();e({templates:t})}catch(t){e({error:t instanceof Error?t.message:"Failed to load templates"})}},createTodoFromTemplate:async t=>{try{e({isLoading:!0,error:null});const r=await Lt.createTodoFromTemplate(t);e(e=>({todos:[r,...e.todos],isLoading:!1}))}catch(r){throw e({error:r instanceof Error?r.message:"Failed to create todo from template",isLoading:!1}),r}},hydrate:async()=>{await Promise.all([t().loadTodos(),t().loadTemplates()])},clearError:()=>{e({error:null})},getOverdueTodos:()=>{const e=(new Date).toISOString().split("T")[0];return t().todos.filter(t=>!t.done&&t.dueDate&&t.dueDate<e)},getTodosByCategory:e=>t().todos.filter(t=>t.category===e),getTodosByPriority:e=>t().todos.filter(t=>t.priority===e),getPointsStats:()=>{const e=t().todos,r=new Date,s=r.toISOString().split("T")[0],o=new Date(r.setDate(r.getDate()-r.getDay())).toISOString().split("T")[0],i=e.filter(e=>e.done&&e.completedAt),a=i.filter(e=>e.completedAt&&e.completedAt.split("T")[0]===s),n=i.filter(e=>e.completedAt&&e.completedAt.split("T")[0]>=o),l=i.reduce((e,t)=>e+(t.points||5),0),c=a.reduce((e,t)=>e+(t.points||5),0),m=n.reduce((e,t)=>e+(t.points||5),0),u=e.reduce((e,t)=>e+(t.points||5),0);return{dailyPoints:c,weeklyPoints:m,totalPoints:l,totalPossiblePoints:u,completedTasks:i.length,totalTasks:e.length,completionPercentage:e.length>0?Math.round(i.length/e.length*100):0,averageTaskPoints:e.length>0?Math.round(e.reduce((e,t)=>e+(t.points||5),0)/e.length):0}}})),Os=[{value:"high",label:"High",icon:"",color:"text-red-500"},{value:"medium",label:"Medium",icon:"",color:"text-yellow-500"},{value:"low",label:"Low",icon:"",color:"text-blue-500"}],Us=[{value:"work",label:"Work",icon:"",color:"text-purple-500"},{value:"personal",label:"Personal",icon:"",color:"text-green-500"},{value:"health",label:"Health",icon:"",color:"text-red-500"},{value:"learning",label:"Learning",icon:"",color:"text-blue-500"},{value:"other",label:"Other",icon:"",color:"text-gray-500"}],Bs=e=>{if(!e.dueDate||e.done)return!1;const t=(new Date).toISOString().split("T")[0];return e.dueDate<t},Hs=e=>{if(!e.dueDate)return!1;const t=(new Date).toISOString().split("T")[0];return e.dueDate===t},$s=e=>{const t=new Date(e),r=new Date,s=new Date(r);s.setDate(s.getDate()-1);const o=new Date(r);return o.setDate(o.getDate()+1),e===r.toISOString().split("T")[0]?"Today":e===s.toISOString().split("T")[0]?"Yesterday":e===o.toISOString().split("T")[0]?"Tomorrow":t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:t.getFullYear()!==r.getFullYear()?"numeric":void 0})};function zs({open:e,onOpenChange:t,children:r}){const[s,o]=i.useState(e||!1),a=i.useRef(null);i.useEffect(()=>{void 0!==e&&o(e)},[e]),i.useEffect(()=>{const e=e=>{if(a.current&&!a.current.contains(e.target)){const e=!1;o(e),null==t||t(e)}};if(s)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[s,t]);return ze.jsxDEV("div",{className:"relative",ref:a,children:Array.isArray(r)?ze.jsxDEV(ze.Fragment,{children:[ze.jsxDEV("div",{onClick:()=>{const e=!s;o(e),null==t||t(e)},children:r[0]},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/popover.tsx",lineNumber:56,columnNumber:11},this),s&&r[1]]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/popover.tsx",lineNumber:55,columnNumber:9},this):r},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/popover.tsx",lineNumber:52,columnNumber:5},this)}function Js({children:e}){return ze.jsxDEV(ze.Fragment,{children:e},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/popover.tsx",lineNumber:67,columnNumber:10},this)}function qs({className:e="",align:t="start",children:r}){return ze.jsxDEV("div",{className:`absolute top-full mt-2 z-50 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none ${{start:"left-0",center:"left-1/2 transform -translate-x-1/2",end:"right-0"}[t]} ${e}`,children:r},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/popover.tsx",lineNumber:78,columnNumber:5},this)}function Qs({value:e=5,onChange:t,disabled:r=!1,size:s="md",showLabel:o=!0,className:a=""}){const[n,l]=i.useState(!1),[c,m]=i.useState(""),u=(d=e)<=2?{color:"text-gray-600",bg:"bg-gray-100",label:"Trivial"}:d<=4?{color:"text-green-700",bg:"bg-green-100",label:"Easy"}:d<=6?{color:"text-blue-700",bg:"bg-blue-100",label:"Medium"}:d<=8?{color:"text-orange-700",bg:"bg-orange-100",label:"Hard"}:{color:"text-purple-700",bg:"bg-purple-100",label:"Epic"};var d;const p=()=>{const e=parseInt(c);e>=1&&e<=10&&(t(e),m(""),l(!1))},h=e=>{const t=Math.min(Math.ceil(e/2),5);return ze.jsxDEV("div",{className:"flex items-center gap-0.5",children:Array.from({length:5},(e,r)=>ze.jsxDEV(Q,{className:"h-3 w-3 "+(r<t?"fill-current text-yellow-400":"text-gray-300")},r,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:69,columnNumber:11},this))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:67,columnNumber:7},this)};return ze.jsxDEV(zs,{open:n,onOpenChange:l,children:[ze.jsxDEV(Js,{asChild:!0,children:ze.jsxDEV(Qt,{variant:"outline",size:"sm",disabled:r,className:`${{sm:"h-6 px-2 text-xs",md:"h-8 px-3 text-sm",lg:"h-10 px-4 text-base"}[s]} ${u.bg} ${u.color} border-current hover:opacity-80 ${a}`,children:[ze.jsxDEV(W,{className:"mr-1 h-3 w-3"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:97,columnNumber:11},this),ze.jsxDEV("span",{className:"font-medium",children:e},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:98,columnNumber:11},this),"sm"!==s&&h(e),o&&"lg"===s&&ze.jsxDEV("span",{className:"ml-1 text-xs opacity-75",children:u.label},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:101,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:91,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:90,columnNumber:7},this),ze.jsxDEV(qs,{className:"w-80 p-4",align:"start",children:ze.jsxDEV("div",{className:"space-y-4",children:[ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV("h4",{className:"font-medium text-sm",children:"Task Points"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:109,columnNumber:13},this),ze.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Rate the difficulty or importance of this task (1-10 scale)"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:110,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:108,columnNumber:11},this),ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV("p",{className:"text-xs font-medium",children:"Quick Select:"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:117,columnNumber:13},this),ze.jsxDEV("div",{className:"grid grid-cols-1 gap-1",children:[{value:1,label:"Trivial",color:"bg-gray-100 text-gray-600",icon:""},{value:3,label:"Easy",color:"bg-green-100 text-green-700",icon:""},{value:5,label:"Medium",color:"bg-blue-100 text-blue-700",icon:""},{value:7,label:"Hard",color:"bg-orange-100 text-orange-700",icon:""},{value:10,label:"Epic",color:"bg-purple-100 text-purple-700",icon:""}].map(r=>ze.jsxDEV(Qt,{variant:e===r.value?"default":"ghost",size:"sm",onClick:()=>{return e=r.value,t(e),void l(!1);var e},className:`justify-start ${r.color} ${e===r.value?"":"hover:"+r.color}`,children:[ze.jsxDEV("span",{className:"mr-2",children:r.icon},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:129,columnNumber:19},this),ze.jsxDEV("span",{className:"flex-1 text-left",children:[r.value," - ",r.label]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:130,columnNumber:19},this),h(r.value)]},r.value,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:120,columnNumber:17},this))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:118,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:116,columnNumber:11},this),ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV("p",{className:"text-xs font-medium",children:"Custom Value:"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:139,columnNumber:13},this),ze.jsxDEV("div",{className:"flex gap-2",children:[ze.jsxDEV(ir,{type:"number",min:"1",max:"10",placeholder:"1-10",value:c,onChange:e=>m(e.target.value),className:"flex-1",onKeyDown:e=>{"Enter"===e.key&&p()}},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:141,columnNumber:15},this),ze.jsxDEV(Qt,{size:"sm",onClick:p,disabled:!c||parseInt(c)<1||parseInt(c)>10,children:"Set"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:155,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:140,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:138,columnNumber:11},this),ze.jsxDEV("div",{className:`p-3 rounded-lg ${u.bg} ${u.color}`,children:ze.jsxDEV("div",{className:"flex items-center justify-between",children:[ze.jsxDEV("div",{children:[ze.jsxDEV("p",{className:"font-medium",children:["Current: ",e," points"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:169,columnNumber:17},this),ze.jsxDEV("p",{className:"text-xs opacity-75",children:[u.label," difficulty"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:170,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:168,columnNumber:15},this),h(e)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:167,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:166,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:107,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:106,columnNumber:7},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointSelector.tsx",lineNumber:89,columnNumber:5},this)}function Ks({points:e,size:t="md",showStars:r=!0,showLabel:s=!1,showIcon:o=!0,className:i=""}){const a=(n=e)<=2?{color:"text-gray-600",bg:"bg-gray-100",label:"Trivial",borderColor:"border-gray-300"}:n<=4?{color:"text-green-700",bg:"bg-green-100",label:"Easy",borderColor:"border-green-300"}:n<=6?{color:"text-blue-700",bg:"bg-blue-100",label:"Medium",borderColor:"border-blue-300"}:n<=8?{color:"text-orange-700",bg:"bg-orange-100",label:"Hard",borderColor:"border-orange-300"}:{color:"text-purple-700",bg:"bg-purple-100",label:"Epic",borderColor:"border-purple-300"};var n;const l="sm"===t?"h-2.5 w-2.5":"md"===t?"h-3 w-3":"h-3.5 w-3.5";return ze.jsxDEV(Sr,{variant:"outline",className:`${{sm:"px-1.5 py-0.5 text-xs",md:"px-2 py-0.5 text-sm",lg:"px-2.5 py-1 text-sm"}[t]} ${a.bg} ${a.color} ${a.borderColor} border-current ${i}`,children:[o&&ze.jsxDEV(W,{className:`mr-1 ${l}`},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointsDisplay.tsx",lineNumber:89,columnNumber:20},this),ze.jsxDEV("span",{className:"font-medium",children:e},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointsDisplay.tsx",lineNumber:90,columnNumber:7},this),s&&"sm"!==t&&ze.jsxDEV("span",{className:"ml-1 opacity-75",children:a.label},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointsDisplay.tsx",lineNumber:92,columnNumber:9},this),r&&"sm"!==t&&ze.jsxDEV("div",{className:"ml-1",children:(e=>{const r=Math.min(Math.ceil(e/2),5),s="sm"===t?"h-2.5 w-2.5":"md"===t?"h-3 w-3":"h-3.5 w-3.5";return ze.jsxDEV("div",{className:"flex items-center gap-0.5",children:Array.from({length:5},(e,t)=>ze.jsxDEV(Q,{className:`${s} ${t<r?"fill-current text-yellow-400":"text-gray-300"}`},t,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointsDisplay.tsx",lineNumber:63,columnNumber:11},this))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointsDisplay.tsx",lineNumber:61,columnNumber:7},this)})(e)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointsDisplay.tsx",lineNumber:95,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/PointsDisplay.tsx",lineNumber:85,columnNumber:5},this)}function Ys({value:e,onChange:t,placeholder:r="Due date (e.g., tomorrow 2pm)",disabled:s=!1,className:o=""}){const[a,n]=i.useState(!1),[l,c]=i.useState(""),[m,u]=i.useState("");i.useEffect(()=>{if(e){const t=new Date(e);u(t.toISOString().split("T")[0]),c(t.toTimeString().slice(0,5))}},[e]);const d=()=>{t(void 0),u(""),c(""),n(!1)};return ze.jsxDEV(zs,{open:a,onOpenChange:n,children:[ze.jsxDEV(Js,{asChild:!0,children:ze.jsxDEV(Qt,{variant:"outline",disabled:s,className:`justify-start text-left font-normal ${!e&&"text-muted-foreground"} ${o}`,children:[ze.jsxDEV(y,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/EnhancedDatePicker.tsx",lineNumber:77,columnNumber:11},this),e?(e=>{const t=new Date(e),r=new Date,s=t.toDateString()===r.toDateString(),o=t.toDateString()===new Date(r.getTime()+864e5).toDateString();let i=t.toLocaleDateString();s?i="Today":o&&(i="Tomorrow");return`${i} at ${t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`})(e):r,e&&ze.jsxDEV(Qt,{variant:"ghost",size:"sm",className:"ml-auto h-auto p-0 text-muted-foreground hover:text-foreground",onClick:e=>{e.stopPropagation(),d()},children:ze.jsxDEV(C,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/EnhancedDatePicker.tsx",lineNumber:89,columnNumber:15},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/EnhancedDatePicker.tsx",lineNumber:80,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/EnhancedDatePicker.tsx",lineNumber:70,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/EnhancedDatePicker.tsx",lineNumber:69,columnNumber:7},this),ze.jsxDEV(qs,{className:"w-96 p-4",align:"start",children:ze.jsxDEV("div",{className:"space-y-4",children:[ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV("label",{className:"text-sm font-medium",children:"Set Date & Time"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/EnhancedDatePicker.tsx",lineNumber:99,columnNumber:13},this),ze.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[ze.jsxDEV("div",{children:ze.jsxDEV(ir,{type:"date",value:m,onChange:e=>u(e.target.value),className:"w-full"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/EnhancedDatePicker.tsx",lineNumber:102,columnNumber:17},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/EnhancedDatePicker.tsx",lineNumber:101,columnNumber:15},this),ze.jsxDEV("div",{className:"flex gap-1",children:[ze.jsxDEV(ir,{type:"time",value:l,onChange:e=>c(e.target.value),className:"flex-1"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/EnhancedDatePicker.tsx",lineNumber:110,columnNumber:17},this),ze.jsxDEV(Qt,{size:"sm",onClick:()=>{if(m){const e=new Date(`${m}T${l||"17:00"}`);isNaN(e.getTime())||(t(e.toISOString()),n(!1))}},disabled:!m,children:"Set"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/EnhancedDatePicker.tsx",lineNumber:116,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/EnhancedDatePicker.tsx",lineNumber:109,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/EnhancedDatePicker.tsx",lineNumber:100,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/EnhancedDatePicker.tsx",lineNumber:98,columnNumber:11},this),ze.jsxDEV("div",{className:"flex justify-between",children:[ze.jsxDEV(Qt,{variant:"outline",size:"sm",onClick:d,children:"Clear"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/EnhancedDatePicker.tsx",lineNumber:129,columnNumber:13},this),ze.jsxDEV(Qt,{variant:"outline",size:"sm",onClick:()=>n(!1),children:"Close"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/EnhancedDatePicker.tsx",lineNumber:132,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/EnhancedDatePicker.tsx",lineNumber:128,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/EnhancedDatePicker.tsx",lineNumber:96,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/EnhancedDatePicker.tsx",lineNumber:95,columnNumber:7},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/EnhancedDatePicker.tsx",lineNumber:68,columnNumber:5},this)}function Xs({value:e="",format:t="markdown",onChange:r,placeholder:s="Add a detailed description...",disabled:o=!1,className:a="",maxLength:n=5e3,minHeight:l=120}){const[c,m]=i.useState(!1),[u,d]=i.useState(e),[p,h]=i.useState(t);i.useEffect(()=>{d(e)},[e]),i.useEffect(()=>{h(t)},[t]);const N=e=>{d(e),r(e,p)},f=(e,t="")=>{const r=document.querySelector(`[data-editor-id="${b}"]`);if(!r)return;const s=r.selectionStart,o=r.selectionEnd,i=u.substring(s,o),a=i||t;let n="";n="[]()"===e?`[${a||"Link text"}](${i?"":"URL"})`:`${e}${a}${e}`;const l=u.substring(0,s)+n+u.substring(o);N(l),setTimeout(()=>{r.focus();const e=s+n.length;r.setSelectionRange(e,e)},0)},g=e=>{let t=e.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/`(.*?)`/g,'<code class="bg-muted px-1 rounded">$1</code>').replace(/^### (.*$)/gm,'<h3 class="text-lg font-semibold mt-4 mb-2">$1</h3>').replace(/^## (.*$)/gm,'<h2 class="text-xl font-semibold mt-4 mb-2">$1</h2>').replace(/^# (.*$)/gm,'<h1 class="text-2xl font-bold mt-4 mb-2">$1</h1>').replace(/^- (.*$)/gm,'<li class="ml-4"> $1</li>').replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="text-blue-600 hover:underline" target="_blank" rel="noopener">$1</a>').replace(/\n\n/g,'</p><p class="mt-2">').replace(/\n/g,"<br>");return!t||t.includes("<h1>")||t.includes("<h2>")||t.includes("<h3>")||(t=`<p>${t}</p>`),ze.jsxDEV("div",{dangerouslySetInnerHTML:{__html:t},className:"prose prose-sm max-w-none"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:109,columnNumber:12},this)},b=`editor-${Math.random().toString(36).substr(2,9)}`,x=[{icon:K,action:()=>f("**","bold text"),tooltip:"Bold"},{icon:Y,action:()=>f("*","italic text"),tooltip:"Italic"},{icon:X,action:()=>f("`","code"),tooltip:"Code"},{icon:ee,action:()=>f("[]()","link"),tooltip:"Link"},{icon:te,action:()=>f("- ",""),tooltip:"List item"}];return ze.jsxDEV("div",{className:`space-y-2 ${a}`,children:[ze.jsxDEV("div",{className:"flex items-center justify-between",children:[ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV("div",{className:"flex items-center gap-1",children:["markdown","plaintext"].map(e=>ze.jsxDEV(Qt,{variant:p===e?"default":"outline",size:"sm",onClick:()=>{return h(t=e),void r(u,t);var t},className:"h-7 px-2 text-xs",children:"markdown"===e?"MD":"TXT"},e,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:130,columnNumber:15},this))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:128,columnNumber:11},this),"markdown"===p&&!c&&ze.jsxDEV("div",{className:"flex items-center gap-1 ml-2 border-l pl-2",children:x.map((e,t)=>ze.jsxDEV(Qt,{variant:"ghost",size:"sm",onClick:e.action,className:"h-7 w-7 p-0",title:e.tooltip,children:ze.jsxDEV(e.icon,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:154,columnNumber:19},this)},t,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:146,columnNumber:17},this))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:144,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:126,columnNumber:9},this),"markdown"===p&&ze.jsxDEV(Qt,{variant:"outline",size:"sm",onClick:()=>m(!c),className:"h-7 px-2 text-xs",children:c?ze.jsxDEV(ze.Fragment,{children:[ze.jsxDEV(R,{className:"mr-1 h-3 w-3"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:171,columnNumber:17},this),"Edit"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:170,columnNumber:15},this):ze.jsxDEV(ze.Fragment,{children:[ze.jsxDEV(re,{className:"mr-1 h-3 w-3"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:176,columnNumber:17},this),"Preview"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:175,columnNumber:15},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:163,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:125,columnNumber:7},this),ze.jsxDEV(Kt,{children:ze.jsxDEV(tr,{className:"p-3",children:c?ze.jsxDEV("div",{className:"min-h-[120px] text-sm",style:{minHeight:`${l}px`},children:u?(()=>"markdown"===p?g(u):"html"===p?ze.jsxDEV("div",{dangerouslySetInnerHTML:{__html:u}},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:84,columnNumber:14},this):ze.jsxDEV("div",{className:"whitespace-pre-wrap",children:u},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:86,columnNumber:14},this))():ze.jsxDEV("div",{className:"text-muted-foreground italic",children:"No content to preview"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:193,columnNumber:17},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:188,columnNumber:13},this):ze.jsxDEV(Ss,{"data-editor-id":b,value:u,onChange:e=>N(e.target.value),placeholder:s,disabled:o,className:"resize-none border-0 focus-visible:ring-0 p-0",style:{minHeight:`${l}px`},maxLength:n},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:199,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:186,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:185,columnNumber:7},this),ze.jsxDEV("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(Sr,{variant:"outline",className:"text-xs",children:p.toUpperCase()},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:216,columnNumber:11},this),"markdown"===p&&ze.jsxDEV("span",{children:"Tip: Use **bold**, *italic*, `code`, [links](url), - lists"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:220,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:215,columnNumber:9},this),ze.jsxDEV("div",{children:[u.length,"/",n]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:225,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:214,columnNumber:7},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:123,columnNumber:5},this)}function eo({content:e,format:t="markdown",className:r=""}){const s=e=>{let t=e.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/`(.*?)`/g,'<code class="bg-muted px-1 rounded text-xs">$1</code>').replace(/^### (.*$)/gm,'<h3 class="text-sm font-semibold mt-2 mb-1">$1</h3>').replace(/^## (.*$)/gm,'<h2 class="text-base font-semibold mt-2 mb-1">$1</h2>').replace(/^# (.*$)/gm,'<h1 class="text-lg font-bold mt-2 mb-1">$1</h1>').replace(/^- (.*$)/gm,'<li class="ml-4 text-sm"> $1</li>').replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="text-blue-600 hover:underline text-sm" target="_blank" rel="noopener">$1</a>').replace(/\n\n/g,'</p><p class="mt-1">').replace(/\n/g,"<br>");return!t||t.includes("<h1>")||t.includes("<h2>")||t.includes("<h3>")||(t=`<p class="text-sm">${t}</p>`),ze.jsxDEV("div",{dangerouslySetInnerHTML:{__html:t},className:"prose prose-sm max-w-none"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:270,columnNumber:12},this)};return e?ze.jsxDEV("div",{className:`text-sm ${r}`,children:(()=>"markdown"===t?s(e):"html"===t?ze.jsxDEV("div",{dangerouslySetInnerHTML:{__html:e}},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:247,columnNumber:14},this):ze.jsxDEV("div",{className:"whitespace-pre-wrap",children:e},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:249,columnNumber:14},this))()},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/rich-content/RichTextEditor.tsx",lineNumber:276,columnNumber:5},this):null}function to({todo:e}){var t,r,s,o;const[a,n]=i.useState(!1),[l,c]=i.useState(!1),[m,u]=i.useState(!1),[d,p]=i.useState(!1),[h,N]=i.useState(""),{updateTodoField:f,deleteTodo:g,addSubtask:b,deleteSubtask:x,toggleTodo:P,toggleSubtask:v}=Gs(),j=(k=e.priority,Os.find(e=>e.value===k)||Os[1]);var k;const E=(A=e.category,Us.find(e=>e.value===A)||Us[4]);var A;const C=(null==(t=e.subtasks)?void 0:t.length)>0?e.subtasks.filter(e=>e.done).length/e.subtasks.length*100:0,w=async()=>{if(h.trim())try{await b(e.id,h.trim()),N(""),p(!1)}catch(t){}},D=De({onSwipedLeft:()=>{window.confirm(`Delete task: "${e.summary}"?`)&&g(e.id)},preventScrollOnSwipe:!0,trackMouse:!0}),V=e.description&&e.description.trim().length>0,Z=e.dueDateTime;return ze.jsxDEV(Kt,{...D,className:`transition-all duration-150 ${a?"scale-95 bg-muted":"hover:bg-muted/50"} ${e.done?"opacity-75":""} ${Bs({...e,dueDate:null==(r=e.dueDateTime)?void 0:r.split("T")[0]})?"border-red-200 bg-red-50/50":""}`,onTouchStart:()=>n(!0),onTouchEnd:()=>n(!1),onMouseDown:()=>n(!0),onMouseUp:()=>n(!1),onMouseLeave:()=>n(!1),children:ze.jsxDEV(tr,{className:"px-4 py-3",children:ze.jsxDEV("div",{className:"space-y-3",children:[ze.jsxDEV("div",{className:"flex items-center gap-3",children:[(e.subtasks&&e.subtasks.length>0||V)&&ze.jsxDEV("button",{onClick:()=>c(!l),className:"rounded p-0.5 transition-colors hover:bg-muted",children:l?ze.jsxDEV(se,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:148,columnNumber:19},this):ze.jsxDEV(oe,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:150,columnNumber:19},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:143,columnNumber:15},this),ze.jsxDEV("button",{onClick:async()=>{try{await P(e.id)}catch(t){}},className:"flex h-5 w-5 items-center justify-center rounded border-2 transition-colors "+(e.done?"border-primary bg-primary text-primary-foreground":"border-muted-foreground hover:border-primary"),children:e.done&&ze.jsxDEV("svg",{className:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20",children:ze.jsxDEV("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:170,columnNumber:19},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:165,columnNumber:17},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:156,columnNumber:13},this),ze.jsxDEV("div",{className:"min-w-0 flex-1 space-y-1",children:[ze.jsxDEV("div",{className:"flex items-start justify-between",children:[ze.jsxDEV("p",{className:"text-sm transition-all "+(e.done?"text-muted-foreground line-through":"text-foreground"),children:e.summary},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:182,columnNumber:17},this),ze.jsxDEV("div",{className:"flex items-center gap-1 ml-2",children:[V&&ze.jsxDEV(ie,{className:"h-3 w-3 text-muted-foreground"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:195,columnNumber:21},this),Z&&ze.jsxDEV(B,{className:"h-3 w-3 text-muted-foreground"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:198,columnNumber:21},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:193,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:181,columnNumber:15},this),e.subtasks&&e.subtasks.length>0&&ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(Mr,{value:C,className:"h-1.5 flex-1"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:206,columnNumber:19},this),ze.jsxDEV("span",{className:"text-xs text-muted-foreground",children:[e.subtasks.filter(e=>e.done).length,"/",e.subtasks.length]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:210,columnNumber:19},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:205,columnNumber:17},this),ze.jsxDEV("div",{className:"flex flex-wrap items-center gap-2",children:[e.points&&ze.jsxDEV(Ks,{points:e.points,size:"sm",showStars:!1,showLabel:!1},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:220,columnNumber:19},this),ze.jsxDEV(Sr,{variant:"outline",className:`px-2 py-0.5 text-xs ${j.color} border-current`,children:[ze.jsxDEV("span",{className:"mr-1",children:j.icon},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:233,columnNumber:19},this),j.label]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:229,columnNumber:17},this),ze.jsxDEV(Sr,{variant:"outline",className:`px-2 py-0.5 text-xs ${E.color} border-current`,children:[ze.jsxDEV("span",{className:"mr-1",children:E.icon},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:242,columnNumber:19},this),E.label]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:238,columnNumber:17},this),Z?ze.jsxDEV(Sr,{variant:"outline",className:"px-2 py-0.5 text-xs "+(Bs({...e,dueDate:null==(s=e.dueDateTime)?void 0:s.split("T")[0]})?"border-red-300 bg-red-50 text-red-600":Hs({...e,dueDate:null==(o=e.dueDateTime)?void 0:o.split("T")[0]})?"border-orange-300 bg-orange-50 text-orange-600":"border-blue-300 bg-blue-50 text-blue-600"),children:[ze.jsxDEV(y,{className:"mr-1 h-3 w-3"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:258,columnNumber:21},this),(e=>{if(!e)return"";const t=new Date(e),r=new Date,s=t.toDateString()===r.toDateString(),o=t.toDateString()===new Date(r.getTime()+864e5).toDateString();let i=t.toLocaleDateString();s?i="Today":o&&(i="Tomorrow");return`${i} ${t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`})(e.dueDateTime)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:248,columnNumber:19},this):e.dueDate&&ze.jsxDEV(Sr,{variant:"outline",className:"px-2 py-0.5 text-xs "+(Bs(e)?"border-red-300 bg-red-50 text-red-600":Hs(e)?"border-orange-300 bg-orange-50 text-orange-600":"border-blue-300 bg-blue-50 text-blue-600"),children:[ze.jsxDEV(y,{className:"mr-1 h-3 w-3"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:272,columnNumber:21},this),$s(e.dueDate)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:262,columnNumber:19},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:217,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:180,columnNumber:13},this),ze.jsxDEV(Qt,{size:"sm",variant:"ghost",onClick:()=>p(!0),className:"h-8 w-8 p-0 hover:bg-muted",children:ze.jsxDEV(T,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:286,columnNumber:15},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:280,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:140,columnNumber:11},this),l&&ze.jsxDEV("div",{className:"ml-8 space-y-3",children:[V&&ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV("div",{className:"flex items-center justify-between",children:[ze.jsxDEV("h4",{className:"text-sm font-medium text-muted-foreground",children:"Description"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:297,columnNumber:21},this),ze.jsxDEV(Qt,{variant:"ghost",size:"sm",onClick:()=>u(!m),className:"h-6 px-2 text-xs",children:[ze.jsxDEV(R,{className:"mr-1 h-3 w-3"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:304,columnNumber:23},this),m?"Save":"Edit"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:298,columnNumber:21},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:296,columnNumber:19},this),m?ze.jsxDEV(Xs,{value:e.description,format:e.descriptionFormat,onChange:(t,r)=>{f(e.id,"description",t),f(e.id,"descriptionFormat",r)},minHeight:80,className:"text-sm"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:310,columnNumber:21},this):ze.jsxDEV(eo,{content:e.description||"",format:e.descriptionFormat,className:"p-2 bg-muted/30 rounded"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:318,columnNumber:21},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:295,columnNumber:17},this),e.subtasks&&e.subtasks.length>0&&ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV("h4",{className:"text-sm font-medium text-muted-foreground",children:"Subtasks"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:330,columnNumber:19},this),e.subtasks.map(t=>ze.jsxDEV("div",{className:"flex items-center gap-2 text-sm",children:[ze.jsxDEV("button",{onClick:()=>v(e.id,t.id),className:"flex h-4 w-4 items-center justify-center rounded border transition-colors "+(t.done?"border-primary bg-primary text-primary-foreground":"border-muted-foreground hover:border-primary"),children:t.done&&ze.jsxDEV("svg",{className:"h-2.5 w-2.5",fill:"currentColor",viewBox:"0 0 20 20",children:ze.jsxDEV("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:350,columnNumber:29},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:345,columnNumber:27},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:336,columnNumber:23},this),ze.jsxDEV("span",{className:t.done?"text-muted-foreground line-through":"",children:t.text},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:358,columnNumber:23},this),ze.jsxDEV("button",{onClick:()=>x(e.id,t.id),className:"ml-auto text-muted-foreground transition-colors hover:text-red-500",children:""},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:365,columnNumber:23},this)]},t.id,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:332,columnNumber:21},this))]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:329,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:292,columnNumber:13},this),d&&ze.jsxDEV("div",{className:"ml-8 flex items-center gap-2",children:[ze.jsxDEV(ir,{placeholder:"Add subtask...",value:h,onChange:e=>N(e.target.value),onKeyPress:e=>{"Enter"===e.key?w():"Escape"===e.key&&(p(!1),N(""))},onBlur:()=>{h.trim()||p(!1)},className:"text-sm",autoFocus:!0},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:381,columnNumber:15},this),ze.jsxDEV(Qt,{size:"sm",onClick:w,disabled:!h.trim(),children:"Add"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:394,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:380,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:138,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:137,columnNumber:7},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/components/EnhancedTodoRow.tsx",lineNumber:124,columnNumber:5},this)}const ro=[{value:"health",label:"Health & Fitness",icon:"",description:"Physical and mental wellbeing goals"},{value:"career",label:"Career & Work",icon:"",description:"Professional development and work goals"},{value:"learning",label:"Learning & Skills",icon:"",description:"Education and skill development goals"},{value:"personal",label:"Personal Growth",icon:"",description:"Self-improvement and personal development"},{value:"finance",label:"Finance & Money",icon:"",description:"Financial planning and money goals"},{value:"relationships",label:"Relationships",icon:"",description:"Family, friends, and social connections"},{value:"other",label:"Other",icon:"",description:"Miscellaneous goals"}],so=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#F97316","#06B6D4","#84CC16","#EC4899","#6B7280"],oo=e=>ro.find(t=>t.value===e)||ro[ro.length-1],io=e=>{if(!e)return"No deadline";const t=new Date(e),r=new Date,s=t.getTime()-r.getTime(),o=Math.ceil(s/864e5);return o<0?`${Math.abs(o)} days overdue`:0===o?"Due today":1===o?"Due tomorrow":o<=7?`Due in ${o} days`:t.toLocaleDateString()},ao=[{id:"1",title:"Get in Shape",category:"health",description:"Lose 20 pounds and build muscle",targetDate:"2024-06-01",color:"#10B981",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"2",title:"Learn TypeScript",category:"learning",description:"Master TypeScript for better development",targetDate:"2024-04-01",color:"#3B82F6",isActive:!0,createdAt:"2024-01-02T00:00:00Z",updatedAt:"2024-01-02T00:00:00Z"},{id:"3",title:"Save for Vacation",category:"finance",description:"Save $3000 for summer vacation",color:"#F59E0B",isActive:!0,createdAt:"2024-01-03T00:00:00Z",updatedAt:"2024-01-03T00:00:00Z"}],no=Ce((e,t)=>({goals:ao,isLoading:!1,error:null,loadGoals:async()=>{try{e({isLoading:!0,error:null});const t=await st();if(!t)return void e({goals:ao,isLoading:!1});const{data:r,error:s}=await t.from("goals").select("*").order("created_at",{ascending:!1});if(s)throw s;const o=(r||[]).map(e=>({id:e.id,title:e.title,category:e.category,description:e.description,targetDate:e.target_date,color:e.color,isActive:e.is_active,createdAt:e.created_at,updatedAt:e.updated_at}));e({goals:o,isLoading:!1})}catch(t){e({error:t instanceof Error?t.message:"Failed to load goals",isLoading:!1,goals:ao})}},addGoal:async t=>{try{e({isLoading:!0,error:null});const r=await st();if(!r)throw new Error("Supabase client not available");const s={title:t.title,category:t.category,description:t.description,target_date:t.targetDate,color:t.color||so[Math.floor(Math.random()*so.length)],is_active:!1!==t.isActive,user_id:""},{data:o,error:i}=await r.from("goals").insert([s]).select().single();if(i)throw i;const a={id:o.id,title:o.title,category:o.category,description:o.description,targetDate:o.target_date,color:o.color,isActive:o.is_active,createdAt:o.created_at,updatedAt:o.updated_at};e(e=>({goals:[a,...e.goals],isLoading:!1}))}catch(r){e({error:r instanceof Error?r.message:"Failed to add goal",isLoading:!1})}},updateGoal:async(t,r)=>{try{e({isLoading:!0,error:null});const s=await st();if(!s){const s=(new Date).toISOString();return void e(e=>({goals:e.goals.map(e=>e.id===t?{...e,...r,updatedAt:s}:e),isLoading:!1}))}const o={};void 0!==r.title&&(o.title=r.title),void 0!==r.category&&(o.category=r.category),void 0!==r.description&&(o.description=r.description),void 0!==r.targetDate&&(o.target_date=r.targetDate),void 0!==r.color&&(o.color=r.color),void 0!==r.isActive&&(o.is_active=r.isActive);const{data:i,error:a}=await s.from("goals").update(o).eq("id",t).select().single();if(a)throw a;const n={id:i.id,title:i.title,category:i.category,description:i.description,targetDate:i.target_date,color:i.color,isActive:i.is_active,createdAt:i.created_at,updatedAt:i.updated_at};e(e=>({goals:e.goals.map(e=>e.id===t?n:e),isLoading:!1}))}catch(s){e({error:s instanceof Error?s.message:"Failed to update goal",isLoading:!1})}},deleteGoal:async t=>{try{e({isLoading:!0,error:null});const r=await st();if(!r)return void e(e=>({goals:e.goals.filter(e=>e.id!==t),isLoading:!1}));const{error:s}=await r.from("goals").delete().eq("id",t);if(s)throw s;e(e=>({goals:e.goals.filter(e=>e.id!==t),isLoading:!1}))}catch(r){e({error:r instanceof Error?r.message:"Failed to delete goal",isLoading:!1})}},toggleGoalActive:async r=>{try{const e=t().goals.find(e=>e.id===r);e&&await t().updateGoal(r,{isActive:!e.isActive})}catch(s){e({error:s instanceof Error?s.message:"Failed to toggle goal status"})}},calculateGoalProgress:(e,t)=>{const r=t.filter(t=>t.goalId===e),s=r.filter(e=>e.done);return{goalId:e,totalTodos:r.length,completedTodos:s.length,progressPercentage:r.length>0?Math.round(s.length/r.length*100):0,lastUpdated:(new Date).toISOString()}},getGoalsWithProgress:e=>{const{goals:r,calculateGoalProgress:s}=t();return r.map(t=>({...t,progress:s(t.id,e)}))},getActiveGoals:()=>t().goals.filter(e=>e.isActive),getGoalsByCategory:e=>t().goals.filter(t=>t.category===e),clearError:()=>e({error:null})})),lo=({onSuccess:e,onCancel:t})=>{const[r,s]=i.useState(""),[o,a]=i.useState("other"),[n,l]=i.useState(""),[c,m]=i.useState(""),[u,d]=i.useState(so[0]),{addGoal:p,isLoading:h}=no(),N=ro.find(e=>e.value===o);return ze.jsxDEV(Kt,{className:"w-full max-w-md mx-auto",children:[ze.jsxDEV(Yt,{children:ze.jsxDEV(Xt,{className:"flex items-center gap-2",children:" Create New Goal"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:60,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:59,columnNumber:7},void 0),ze.jsxDEV(tr,{children:ze.jsxDEV("form",{onSubmit:async t=>{if(t.preventDefault(),r.trim())try{await p({title:r.trim(),category:o,description:n.trim()||void 0,targetDate:c||void 0,color:u,isActive:!0}),s(""),a("other"),l(""),m(""),d(so[0]),null==e||e()}catch(i){}},className:"space-y-4",children:[ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV(ar,{htmlFor:"title",children:"Goal Title *"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:68,columnNumber:13},void 0),ze.jsxDEV(ir,{id:"title",value:r,onChange:e=>s(e.target.value),placeholder:"What do you want to achieve?",required:!0,maxLength:100},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:69,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:67,columnNumber:11},void 0),ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV(ar,{htmlFor:"category",children:"Category"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:81,columnNumber:13},void 0),ze.jsxDEV(zs,{children:[ze.jsxDEV(Js,{asChild:!0,children:ze.jsxDEV(Qt,{variant:"outline",className:"w-full justify-between",type:"button",children:[N&&ze.jsxDEV("span",{className:"flex items-center gap-2",children:[ze.jsxDEV("span",{children:N.icon},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:91,columnNumber:23},void 0),ze.jsxDEV("span",{children:N.label},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:92,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:90,columnNumber:21},void 0),ze.jsxDEV(se,{className:"h-4 w-4 opacity-50"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:95,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:84,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:83,columnNumber:15},void 0),ze.jsxDEV(qs,{className:"w-full p-2",children:ze.jsxDEV("div",{className:"space-y-1",children:ro.map(e=>ze.jsxDEV(Qt,{variant:o===e.value?"default":"ghost",className:"w-full justify-start",onClick:()=>a(e.value),type:"button",children:ze.jsxDEV("span",{className:"flex items-center gap-2",children:[ze.jsxDEV("span",{children:e.icon},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:109,columnNumber:25},void 0),ze.jsxDEV("span",{children:e.label},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:110,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:108,columnNumber:23},void 0)},e.value,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:101,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:99,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:98,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:82,columnNumber:13},void 0),N&&ze.jsxDEV("p",{className:"text-sm text-muted-foreground",children:N.description},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:118,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:80,columnNumber:11},void 0),ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV(ar,{htmlFor:"description",children:"Description (Optional)"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:124,columnNumber:13},void 0),ze.jsxDEV(Ss,{id:"description",value:n,onChange:e=>l(e.target.value),placeholder:"Brief description of your goal...",rows:2,maxLength:200},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:125,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:123,columnNumber:11},void 0),ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV(ar,{htmlFor:"targetDate",children:"Target Date (Optional)"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:137,columnNumber:13},void 0),ze.jsxDEV(ir,{id:"targetDate",type:"date",value:c,onChange:e=>m(e.target.value),min:(new Date).toISOString().split("T")[0]},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:138,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:136,columnNumber:11},void 0),ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV(ar,{children:"Goal Color"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:149,columnNumber:13},void 0),ze.jsxDEV("div",{className:"flex gap-2 flex-wrap",children:so.map(e=>ze.jsxDEV("button",{type:"button",onClick:()=>d(e),className:"w-8 h-8 rounded-full border-2 transition-all "+(u===e?"border-gray-800 scale-110":"border-gray-300 hover:scale-105"),style:{backgroundColor:e},title:e},e,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:152,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:150,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:148,columnNumber:11},void 0),ze.jsxDEV("div",{className:"flex gap-2 pt-4",children:[ze.jsxDEV(Qt,{type:"submit",disabled:!r.trim()||h,className:"flex-1",children:h?"Creating...":"Create Goal"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:170,columnNumber:13},void 0),t&&ze.jsxDEV(Qt,{type:"button",variant:"outline",onClick:t,disabled:h,children:"Cancel"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:178,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:169,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:65,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:64,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalForm.tsx",lineNumber:58,columnNumber:5},void 0)},co=({goal:e,onEdit:t})=>{const{toggleGoalActive:r,deleteGoal:s}=no(),o=oo(e.category);return ze.jsxDEV(Kt,{className:"transition-all duration-200 "+(e.isActive?"":"opacity-60"),children:[ze.jsxDEV(Yt,{className:"pb-3",children:ze.jsxDEV("div",{className:"flex items-start justify-between",children:[ze.jsxDEV("div",{className:"flex-1",children:[ze.jsxDEV(Xt,{className:"text-lg flex items-center gap-2",children:[ze.jsxDEV("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:37,columnNumber:15},void 0),e.title,!e.isActive&&ze.jsxDEV(Sr,{variant:"secondary",className:"text-xs",children:"Paused"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:43,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:36,columnNumber:13},void 0),ze.jsxDEV("div",{className:"flex items-center gap-2 mt-2",children:[ze.jsxDEV(Sr,{variant:"outline",className:"text-xs",children:[ze.jsxDEV("span",{className:"mr-1",children:o.icon},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:50,columnNumber:17},void 0),o.label]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:49,columnNumber:15},void 0),e.targetDate&&ze.jsxDEV(Sr,{variant:"outline",className:"text-xs",children:[ze.jsxDEV(y,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:55,columnNumber:19},void 0),io(e.targetDate)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:54,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:48,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:35,columnNumber:11},void 0),ze.jsxDEV(zs,{children:[ze.jsxDEV(Js,{asChild:!0,children:ze.jsxDEV(Qt,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:ze.jsxDEV(ae,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:65,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:64,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:63,columnNumber:13},void 0),ze.jsxDEV(qs,{className:"w-48 p-2",align:"end",children:ze.jsxDEV("div",{className:"space-y-1",children:[t&&ze.jsxDEV(Qt,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>t(e),children:[ze.jsxDEV(j,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:77,columnNumber:21},void 0),"Edit Goal"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:71,columnNumber:19},void 0),ze.jsxDEV(Qt,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>{r(e.id)},children:e.isActive?ze.jsxDEV(ze.Fragment,{children:[ze.jsxDEV(ne,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:89,columnNumber:23},void 0),"Pause Goal"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:88,columnNumber:21},void 0):ze.jsxDEV(ze.Fragment,{children:[ze.jsxDEV(le,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:94,columnNumber:23},void 0),"Resume Goal"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:93,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:81,columnNumber:17},void 0),ze.jsxDEV(Qt,{variant:"ghost",size:"sm",className:"w-full justify-start text-red-600 hover:text-red-700",onClick:()=>{window.confirm("Are you sure you want to delete this goal?")&&s(e.id)},children:[ze.jsxDEV(I,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:105,columnNumber:19},void 0),"Delete Goal"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:99,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:69,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:68,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:62,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:34,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:33,columnNumber:7},void 0),ze.jsxDEV(tr,{className:"pt-0",children:[e.description&&ze.jsxDEV("p",{className:"text-sm text-muted-foreground mb-4",children:e.description},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:116,columnNumber:11},void 0),ze.jsxDEV("div",{className:"space-y-3",children:[ze.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[ze.jsxDEV("span",{className:"font-medium",children:"Progress"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:124,columnNumber:13},void 0),ze.jsxDEV("span",{className:"text-muted-foreground",children:[e.progress.completedTodos," / ",e.progress.totalTodos," tasks"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:125,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:123,columnNumber:11},void 0),ze.jsxDEV(Mr,{value:e.progress.progressPercentage,className:"h-2"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:130,columnNumber:11},void 0),ze.jsxDEV("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[ze.jsxDEV("span",{children:[e.progress.progressPercentage,"% complete"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:136,columnNumber:13},void 0),0===e.progress.totalTodos&&ze.jsxDEV("span",{className:"text-orange-600",children:"No tasks linked yet"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:138,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:135,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:122,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:114,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalCard.tsx",lineNumber:32,columnNumber:5},void 0)},mo=({value:e,onChange:t,disabled:r=!1,className:s=""})=>{const{getActiveGoals:o}=no(),i=o(),a=i.find(t=>t.id===e);return 0===i.length?ze.jsxDEV("div",{className:`text-sm text-muted-foreground ${s}`,children:["No active goals. ",ze.jsxDEV("a",{href:"/goals",className:"text-primary hover:underline",children:"Create one"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalSelector.tsx",lineNumber:38,columnNumber:26},void 0)," to link tasks."]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalSelector.tsx",lineNumber:37,columnNumber:7},void 0):ze.jsxDEV(zs,{children:[ze.jsxDEV(Js,{asChild:!0,children:ze.jsxDEV(Qt,{variant:"outline",className:`w-full justify-between ${s}`,disabled:r,type:"button",children:[a?ze.jsxDEV("div",{className:"flex items-center gap-2 flex-1",children:[ze.jsxDEV("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:a.color}},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalSelector.tsx",lineNumber:54,columnNumber:15},void 0),ze.jsxDEV("span",{className:"truncate",children:a.title},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalSelector.tsx",lineNumber:58,columnNumber:15},void 0),ze.jsxDEV(Sr,{variant:"outline",className:"text-xs ml-auto",children:oo(a.category).icon},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalSelector.tsx",lineNumber:59,columnNumber:15},void 0),ze.jsxDEV(C,{className:"h-4 w-4 hover:bg-muted rounded",onClick:e=>{e.stopPropagation(),t(void 0)}},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalSelector.tsx",lineNumber:62,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalSelector.tsx",lineNumber:53,columnNumber:13},void 0):ze.jsxDEV("div",{className:"flex items-center gap-2 text-muted-foreground",children:[ze.jsxDEV(j,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalSelector.tsx",lineNumber:69,columnNumber:15},void 0),ze.jsxDEV("span",{children:"Link to goal (optional)"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalSelector.tsx",lineNumber:70,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalSelector.tsx",lineNumber:68,columnNumber:13},void 0),ze.jsxDEV(se,{className:"h-4 w-4 opacity-50"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalSelector.tsx",lineNumber:73,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalSelector.tsx",lineNumber:46,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalSelector.tsx",lineNumber:45,columnNumber:7},void 0),ze.jsxDEV(qs,{className:"w-full p-2",align:"start",children:[ze.jsxDEV("div",{className:"space-y-1",children:[!a&&ze.jsxDEV(Qt,{variant:"ghost",className:"w-full justify-start text-muted-foreground",onClick:()=>t(void 0),type:"button",children:[ze.jsxDEV(C,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalSelector.tsx",lineNumber:85,columnNumber:15},void 0),"No goal"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalSelector.tsx",lineNumber:79,columnNumber:13},void 0),i.map(r=>{const s=oo(r.category);return ze.jsxDEV(Qt,{variant:e===r.id?"default":"ghost",className:"w-full justify-start",onClick:()=>{return e=r.id,void t(e);var e},type:"button",children:ze.jsxDEV("div",{className:"flex items-center gap-2 flex-1",children:[ze.jsxDEV("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:r.color}},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalSelector.tsx",lineNumber:100,columnNumber:19},void 0),ze.jsxDEV("span",{className:"truncate",children:r.title},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalSelector.tsx",lineNumber:104,columnNumber:19},void 0),ze.jsxDEV(Sr,{variant:"outline",className:"text-xs ml-auto",children:s.icon},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalSelector.tsx",lineNumber:105,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalSelector.tsx",lineNumber:99,columnNumber:17},void 0)},r.id,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalSelector.tsx",lineNumber:92,columnNumber:15},void 0)})]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalSelector.tsx",lineNumber:77,columnNumber:9},void 0),i.length>0&&ze.jsxDEV("div",{className:"border-t mt-2 pt-2",children:ze.jsxDEV("a",{href:"/goals",className:"text-xs text-muted-foreground hover:text-primary block text-center",children:"Manage goals "},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalSelector.tsx",lineNumber:115,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalSelector.tsx",lineNumber:114,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalSelector.tsx",lineNumber:76,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/components/GoalSelector.tsx",lineNumber:44,columnNumber:5},void 0)},uo=()=>{const[e,t]=i.useState(!1),{goals:r,loadGoals:s,getGoalsWithProgress:o,getActiveGoals:a}=no(),{todos:n,loadTodos:l}=Gs();i.useEffect(()=>{s(),l()},[s,l]);const c=o(n),m=a(),u=r.length,d=m.length,p=c.filter(e=>100===e.progress.progressPercentage).length,h=c.length>0?Math.round(c.reduce((e,t)=>e+t.progress.progressPercentage,0)/c.length):0,N=()=>{t(!1)},f=e=>{t(!0)},g=()=>{t(!1)};return e?ze.jsxDEV("div",{className:"container mx-auto p-6 max-w-4xl",children:[ze.jsxDEV("div",{className:"mb-6",children:ze.jsxDEV(Qt,{variant:"outline",onClick:g,className:"mb-4",children:" Back to Goals"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:51,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:50,columnNumber:9},void 0),ze.jsxDEV(lo,{onSuccess:N,onCancel:g},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:59,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:49,columnNumber:7},void 0):ze.jsxDEV("div",{className:"container mx-auto p-6 max-w-6xl",children:[ze.jsxDEV("div",{className:"flex items-center justify-between mb-8",children:[ze.jsxDEV("div",{children:[ze.jsxDEV("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[ze.jsxDEV(j,{className:"h-8 w-8 text-primary"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:73,columnNumber:13},void 0),"Goals"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:72,columnNumber:11},void 0),ze.jsxDEV("p",{className:"text-muted-foreground mt-1",children:"Track your objectives and link them to daily tasks"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:76,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:71,columnNumber:9},void 0),ze.jsxDEV(Qt,{onClick:()=>t(!0),className:"flex items-center gap-2",children:[ze.jsxDEV(T,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:81,columnNumber:11},void 0),"New Goal"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:80,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:70,columnNumber:7},void 0),ze.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[ze.jsxDEV(Kt,{children:ze.jsxDEV(tr,{className:"p-4",children:ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(j,{className:"h-5 w-5 text-blue-500"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:91,columnNumber:15},void 0),ze.jsxDEV("div",{children:[ze.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Total Goals"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:93,columnNumber:17},void 0),ze.jsxDEV("p",{className:"text-2xl font-bold",children:u},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:94,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:92,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:90,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:89,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:88,columnNumber:9},void 0),ze.jsxDEV(Kt,{children:ze.jsxDEV(tr,{className:"p-4",children:ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(W,{className:"h-5 w-5 text-green-500"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:103,columnNumber:15},void 0),ze.jsxDEV("div",{children:[ze.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Active"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:105,columnNumber:17},void 0),ze.jsxDEV("p",{className:"text-2xl font-bold",children:d},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:106,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:104,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:102,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:101,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:100,columnNumber:9},void 0),ze.jsxDEV(Kt,{children:ze.jsxDEV(tr,{className:"p-4",children:ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(Z,{className:"h-5 w-5 text-purple-500"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:115,columnNumber:15},void 0),ze.jsxDEV("div",{children:[ze.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Completed"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:117,columnNumber:17},void 0),ze.jsxDEV("p",{className:"text-2xl font-bold",children:p},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:118,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:116,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:114,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:113,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:112,columnNumber:9},void 0),ze.jsxDEV(Kt,{children:ze.jsxDEV(tr,{className:"p-4",children:ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV("div",{className:"h-5 w-5 rounded-full bg-gradient-to-r from-blue-500 to-purple-500"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:127,columnNumber:15},void 0),ze.jsxDEV("div",{children:[ze.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Avg Progress"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:129,columnNumber:17},void 0),ze.jsxDEV("p",{className:"text-2xl font-bold",children:[h,"%"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:130,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:128,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:126,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:125,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:124,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:87,columnNumber:7},void 0),0===c.length?ze.jsxDEV(Kt,{className:"text-center py-12",children:ze.jsxDEV(tr,{children:[ze.jsxDEV(j,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:141,columnNumber:13},void 0),ze.jsxDEV("h3",{className:"text-lg font-semibold mb-2",children:"No goals yet"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:142,columnNumber:13},void 0),ze.jsxDEV("p",{className:"text-muted-foreground mb-4",children:"Create your first goal to start organizing your todos around meaningful objectives."},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:143,columnNumber:13},void 0),ze.jsxDEV(Qt,{onClick:()=>t(!0),className:"flex items-center gap-2",children:[ze.jsxDEV(T,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:147,columnNumber:15},void 0),"Create Your First Goal"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:146,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:140,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:139,columnNumber:9},void 0):ze.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(e=>ze.jsxDEV(co,{goal:e,onEdit:f},e.id,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:155,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:153,columnNumber:9},void 0),c.length>0&&c.some(e=>0===e.progress.totalTodos)&&ze.jsxDEV(Kt,{className:"mt-8 bg-blue-50 border-blue-200",children:ze.jsxDEV(tr,{className:"p-4",children:ze.jsxDEV("div",{className:"flex items-start gap-3",children:[ze.jsxDEV("div",{className:"h-5 w-5 rounded-full bg-blue-500 flex items-center justify-center flex-shrink-0 mt-0.5",children:ze.jsxDEV("span",{className:"text-white text-xs font-bold",children:""},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:170,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:169,columnNumber:15},void 0),ze.jsxDEV("div",{children:[ze.jsxDEV("h4",{className:"font-semibold text-blue-900 mb-1",children:"Link your todos to goals"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:173,columnNumber:17},void 0),ze.jsxDEV("p",{className:"text-sm text-blue-700",children:"Some of your goals don't have any linked tasks yet. When creating or editing todos, select a goal to track your progress automatically."},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:174,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:172,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:168,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:167,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:166,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/goals/pages/GoalsPage.tsx",lineNumber:68,columnNumber:5},void 0)};function po(){const[e,t]=i.useState(""),[r,s]=i.useState("medium"),[o,a]=i.useState("other"),[n,l]=i.useState(5),[c,m]=i.useState(),[u,d]=i.useState(""),[p,h]=i.useState(),[N,f]=i.useState(""),[g,b]=i.useState(!1),[x,P]=i.useState(!1),[j,k]=i.useState("all"),[E,A]=i.useState("all"),[C,w]=i.useState("created"),[D,V]=i.useState("all"),{todos:Z,templates:S,addTodo:W,loadTodos:F,loadTemplates:L,createTodoFromTemplate:I,getOverdueTodos:M,isLoading:_}=Gs();i.useEffect(()=>{0!==Z.length||_||F(),0===S.length&&L()},[F,L]);const R=Z.filter(e=>{if("all"!==j&&e.priority!==j)return!1;if("all"!==E&&e.category!==E)return!1;if("all"!==D){const t=e.points||5;if("low"===D&&t>3)return!1;if("medium"===D&&(t<=3||t>7))return!1;if("high"===D&&t<=7)return!1}return!0}),G=(()=>{switch(C){case"priority":return(e=>{const t={high:3,medium:2,low:1};return[...e].sort((e,r)=>t[r.priority]-t[e.priority])})(R);case"dueDate":return(e=>[...e].sort((e,t)=>e.dueDate||t.dueDate?e.dueDate?t.dueDate?new Date(e.dueDate).getTime()-new Date(t.dueDate).getTime():-1:1:0))(R);case"points":return[...R].sort((e,t)=>(t.points||5)-(e.points||5));default:return[...R].sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime())}})(),O=G.filter(e=>!e.done),U=G.filter(e=>e.done),B=M(),H=async()=>{if(!e.trim())return;const s={summary:e.trim(),done:!1,priority:r,category:o,points:n,goalId:c,dueDate:u||void 0,dueDateTime:p||void 0,description:N.trim()||void 0,descriptionFormat:"markdown",subtasks:[],createdAt:(new Date).toISOString()};try{await W(s),t(""),f(""),d(""),h(void 0),l(5),m(void 0),b(!1),P(!1)}catch(i){}};return ze.jsxDEV("div",{className:"space-y-4 sm:space-y-6",children:[ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV("h1",{className:"text-xl sm:text-2xl font-bold text-white",children:"Tasks"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:148,columnNumber:9},this),ze.jsxDEV("p",{className:"text-sm text-gray-400",children:"Manage your daily tasks and goals"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:149,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:147,columnNumber:7},this),B.length>0&&ze.jsxDEV(Kt,{className:"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-950",children:ze.jsxDEV(tr,{className:"pt-4",children:ze.jsxDEV("div",{className:"flex items-center gap-2 text-red-700 dark:text-red-300",children:[ze.jsxDEV(ce,{className:"h-4 w-4 flex-shrink-0"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:157,columnNumber:15},this),ze.jsxDEV("span",{className:"font-medium text-sm",children:[B.length," overdue task",B.length>1?"s":""]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:158,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:156,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:155,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:154,columnNumber:9},this),Z.length>0&&ze.jsxDEV(Kt,{className:"border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-950",children:ze.jsxDEV(tr,{className:"pt-4",children:ze.jsxDEV("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[ze.jsxDEV("div",{className:"grid grid-cols-3 gap-4 w-full sm:w-auto",children:[ze.jsxDEV("div",{className:"text-center",children:[ze.jsxDEV("p",{className:"text-lg sm:text-2xl font-bold text-blue-700 dark:text-blue-300",children:Z.filter(e=>e.done).reduce((e,t)=>e+(t.points||5),0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:174,columnNumber:19},this),ze.jsxDEV("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Points Earned"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:177,columnNumber:19},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:173,columnNumber:17},this),ze.jsxDEV("div",{className:"text-center",children:[ze.jsxDEV("p",{className:"text-lg sm:text-2xl font-bold text-blue-700 dark:text-blue-300",children:Z.reduce((e,t)=>e+(t.points||5),0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:180,columnNumber:19},this),ze.jsxDEV("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Total Points"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:183,columnNumber:19},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:179,columnNumber:17},this),ze.jsxDEV("div",{className:"text-center",children:[ze.jsxDEV("p",{className:"text-lg sm:text-2xl font-bold text-blue-700 dark:text-blue-300",children:O.reduce((e,t)=>e+(t.points||5),0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:186,columnNumber:19},this),ze.jsxDEV("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Remaining"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:189,columnNumber:19},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:185,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:172,columnNumber:15},this),ze.jsxDEV("div",{className:"text-center w-full sm:w-auto",children:[ze.jsxDEV("p",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:[Math.round(Z.filter(e=>e.done).length/Z.length*100),"% Complete"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:193,columnNumber:17},this),ze.jsxDEV("div",{className:"mt-1 h-2 w-full sm:w-24 rounded-full bg-blue-200 dark:bg-blue-800",children:ze.jsxDEV("div",{className:"h-2 rounded-full bg-blue-500 transition-all",style:{width:Z.filter(e=>e.done).length/Z.length*100+"%"}},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:197,columnNumber:19},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:196,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:192,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:171,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:170,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:169,columnNumber:9},this),ze.jsxDEV(Kt,{children:[ze.jsxDEV(Yt,{className:"pb-3",children:ze.jsxDEV(Xt,{className:"flex items-center gap-2 text-lg",children:[ze.jsxDEV(T,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:212,columnNumber:13},this),"Add New Task"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:211,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:210,columnNumber:9},this),ze.jsxDEV(tr,{className:"space-y-4",children:[ze.jsxDEV("div",{className:"space-y-2",children:ze.jsxDEV(ir,{type:"text",placeholder:"What do you need to do?",value:e,onChange:e=>t(e.target.value),onKeyPress:e=>{"Enter"===e.key&&H()},className:"text-base",autoComplete:"off"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:219,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:218,columnNumber:11},this),ze.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[ze.jsxDEV("div",{className:"space-y-1",children:[ze.jsxDEV("label",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Priority"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:233,columnNumber:15},this),ze.jsxDEV("select",{value:r,onChange:e=>s(e.target.value),className:"w-full px-2 py-1.5 text-sm rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:Os.map(e=>ze.jsxDEV("option",{value:e.value,children:[e.icon," ",e.label]},e.value,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:240,columnNumber:20},this))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:234,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:232,columnNumber:13},this),ze.jsxDEV("div",{className:"space-y-1",children:[ze.jsxDEV("label",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Category"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:248,columnNumber:16},this),ze.jsxDEV("select",{value:o,onChange:e=>a(e.target.value),className:"w-full px-2 py-1.5 text-sm rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:Us.map(e=>ze.jsxDEV("option",{value:e.value,children:[e.icon," ",e.label]},e.value,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:255,columnNumber:20},this))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:249,columnNumber:16},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:247,columnNumber:14},this),ze.jsxDEV("div",{className:"space-y-1",children:[ze.jsxDEV("label",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Points"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:263,columnNumber:15},this),ze.jsxDEV(Qs,{value:n,onChange:l,className:"text-sm"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:264,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:262,columnNumber:13},this),ze.jsxDEV("div",{className:"space-y-1",children:[ze.jsxDEV("label",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Goal"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:272,columnNumber:15},this),ze.jsxDEV(mo,{value:c,onChange:m},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:273,columnNumber:30},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:271,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:231,columnNumber:11},this),ze.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-2",children:[ze.jsxDEV(Qt,{type:"button",variant:"outline",size:"sm",onClick:()=>b(!g),className:"flex-1 sm:flex-none",children:[ze.jsxDEV(y,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:289,columnNumber:15},this),g?"Hide":"Show"," Advanced"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:282,columnNumber:13},this),ze.jsxDEV(Qt,{type:"button",variant:"outline",size:"sm",onClick:()=>P(!x),className:"flex-1 sm:flex-none",children:[ze.jsxDEV(ie,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:300,columnNumber:15},this),x?"Hide":"Add"," Description"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:293,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:281,columnNumber:11},this),g&&ze.jsxDEV("div",{className:"space-y-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Due Date"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:309,columnNumber:17},this),ze.jsxDEV(Ys,{value:p,onChange:h,className:"w-full"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:310,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:308,columnNumber:15},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:307,columnNumber:13},this),x&&ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:322,columnNumber:15},this),ze.jsxDEV(Xs,{value:N,onChange:f,placeholder:"Add task details, notes, or links...",className:"min-h-[100px]"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:323,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:321,columnNumber:13},this),ze.jsxDEV(Qt,{onClick:H,className:"w-full sm:w-auto min-h-[44px]",disabled:!e.trim()||_,children:[ze.jsxDEV(T,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:338,columnNumber:13},this),"Add Task"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:333,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:216,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:209,columnNumber:7},this),ze.jsxDEV(Kt,{children:[ze.jsxDEV(Yt,{className:"pb-3",children:ze.jsxDEV(Xt,{className:"flex items-center gap-2 text-lg",children:[ze.jsxDEV(me,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:348,columnNumber:13},this),"Filters & Sort"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:347,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:346,columnNumber:9},this),ze.jsxDEV(tr,{children:ze.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[ze.jsxDEV("div",{className:"space-y-1",children:[ze.jsxDEV("label",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Priority"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:355,columnNumber:15},this),ze.jsxDEV("select",{value:j,onChange:e=>k(e.target.value),className:"w-full px-2 py-1.5 text-sm rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[ze.jsxDEV("option",{value:"all",children:"All Priorities"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:361,columnNumber:34},this),Os.map(e=>ze.jsxDEV("option",{value:e.value,children:[e.icon," ",e.label]},e.value,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:363,columnNumber:20},this))]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:356,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:354,columnNumber:13},this),ze.jsxDEV("div",{className:"space-y-1",children:[ze.jsxDEV("label",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Category"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:371,columnNumber:16},this),ze.jsxDEV("select",{value:E,onChange:e=>A(e.target.value),className:"w-full px-2 py-1.5 text-sm rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[ze.jsxDEV("option",{value:"all",children:"All Categories"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:377,columnNumber:18},this),Us.map(e=>ze.jsxDEV("option",{value:e.value,children:[e.icon," ",e.label]},e.value,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:379,columnNumber:20},this))]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:372,columnNumber:16},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:370,columnNumber:14},this),ze.jsxDEV("div",{className:"space-y-1",children:[ze.jsxDEV("label",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Points"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:387,columnNumber:15},this),ze.jsxDEV("select",{value:D,onChange:e=>V(e.target.value),className:"w-full px-2 py-1.5 text-sm rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[ze.jsxDEV("option",{value:"all",children:"All Points"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:393,columnNumber:17},this),ze.jsxDEV("option",{value:"low",children:"Low (1-3 pts)"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:394,columnNumber:17},this),ze.jsxDEV("option",{value:"medium",children:"Medium (4-7 pts)"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:395,columnNumber:17},this),ze.jsxDEV("option",{value:"high",children:"High (8+ pts)"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:396,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:388,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:386,columnNumber:13},this),ze.jsxDEV("div",{className:"space-y-1",children:[ze.jsxDEV("label",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Sort By"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:401,columnNumber:15},this),ze.jsxDEV("select",{value:C,onChange:e=>w(e.target.value),className:"w-full px-2 py-1.5 text-sm rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",children:[ze.jsxDEV("option",{value:"created",children:"Created Date"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:407,columnNumber:17},this),ze.jsxDEV("option",{value:"priority",children:"Priority"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:408,columnNumber:17},this),ze.jsxDEV("option",{value:"dueDate",children:"Due Date"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:409,columnNumber:17},this),ze.jsxDEV("option",{value:"points",children:"Points"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:410,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:402,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:400,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:353,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:352,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:345,columnNumber:7},this),ze.jsxDEV("div",{className:"space-y-4",children:[S.length>0&&ze.jsxDEV(Kt,{children:[ze.jsxDEV(Yt,{className:"pb-3",children:ze.jsxDEV(Xt,{className:"flex items-center gap-2 text-lg",children:[ze.jsxDEV(Q,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:424,columnNumber:17},this),"Quick Templates"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:423,columnNumber:15},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:422,columnNumber:13},this),ze.jsxDEV(tr,{children:ze.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:S.slice(0,4).map(e=>{var t,r;return ze.jsxDEV(Qt,{variant:"outline",size:"sm",onClick:()=>(async e=>{try{await I(e)}catch(t){}})(e.id),className:"justify-start text-left h-auto py-2 px-3",children:ze.jsxDEV("div",{className:"flex items-center gap-2 w-full",children:[ze.jsxDEV("span",{className:"text-lg",children:null==(t=Us.find(t=>t.value===e.category))?void 0:t.icon},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:439,columnNumber:24},this),ze.jsxDEV("div",{className:"min-w-0 flex-1",children:[ze.jsxDEV("div",{className:"font-medium text-sm truncate",children:e.text},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:441,columnNumber:26},this),ze.jsxDEV("div",{className:"text-xs text-gray-500",children:null==(r=Os.find(t=>t.value===e.priority))?void 0:r.label},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:442,columnNumber:26},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:440,columnNumber:24},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:438,columnNumber:42},this)},e.id,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:431,columnNumber:19},this)})},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:429,columnNumber:15},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:428,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:421,columnNumber:11},this),O.length>0&&ze.jsxDEV(Kt,{children:[ze.jsxDEV(Yt,{className:"pb-3",children:ze.jsxDEV(Xt,{className:"flex items-center justify-between",children:[ze.jsxDEV("span",{className:"text-lg",children:"Active Tasks"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:459,columnNumber:17},this),ze.jsxDEV(Sr,{variant:"secondary",className:"text-xs",children:O.length},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:460,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:458,columnNumber:15},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:457,columnNumber:13},this),ze.jsxDEV(tr,{className:"space-y-2",children:O.map(e=>ze.jsxDEV(to,{todo:e},e.id,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:467,columnNumber:17},this))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:465,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:456,columnNumber:11},this),U.length>0&&ze.jsxDEV(Kt,{children:[ze.jsxDEV(Yt,{className:"pb-3",children:ze.jsxDEV(Xt,{className:"flex items-center justify-between",children:[ze.jsxDEV("span",{className:"text-lg",children:"Completed Tasks"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:478,columnNumber:17},this),ze.jsxDEV(Sr,{variant:"secondary",className:"text-xs",children:U.length},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:479,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:477,columnNumber:15},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:476,columnNumber:13},this),ze.jsxDEV(tr,{className:"space-y-2",children:U.map(e=>ze.jsxDEV(to,{todo:e},e.id,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:486,columnNumber:17},this))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:484,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:475,columnNumber:11},this),0===Z.length&&!_&&ze.jsxDEV(Kt,{className:"text-center py-12",children:ze.jsxDEV(tr,{children:[ze.jsxDEV(v,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:496,columnNumber:15},this),ze.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No tasks yet"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:497,columnNumber:15},this),ze.jsxDEV("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Get started by adding your first task above"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:500,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:495,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:494,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:418,columnNumber:7},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/tasks/pages/TodoPage.tsx",lineNumber:145,columnNumber:5},this)}const ho=Ce((e,t)=>({notes:[],isLoading:!1,error:null,addNote:async t=>{try{e({isLoading:!0,error:null});const r=zt.getState().user,s=null==r?void 0:r.id,o=(new Date).toISOString(),i=await Ut.addNote({...t,createdAt:o,updatedAt:o},s);e(e=>({notes:[i,...e.notes],isLoading:!1}))}catch(r){throw e({error:r instanceof Error?r.message:"Failed to add note",isLoading:!1}),r}},updateNote:async(t,r)=>{try{e({isLoading:!0,error:null});const s=zt.getState().user,o=null==s?void 0:s.id;await Ut.updateNote(t,r,o),e(e=>({notes:e.notes.map(e=>e.id===t?{...e,...r,updatedAt:(new Date).toISOString()}:e).sort((e,t)=>new Date(t.updatedAt).getTime()-new Date(e.updatedAt).getTime()),isLoading:!1}))}catch(s){throw e({error:s instanceof Error?s.message:"Failed to update note",isLoading:!1}),s}},deleteNote:async t=>{try{e({isLoading:!0,error:null});const r=zt.getState().user,s=null==r?void 0:r.id;await Ut.deleteNote(t,s),e(e=>({notes:e.notes.filter(e=>e.id!==t),isLoading:!1}))}catch(r){throw e({error:r instanceof Error?r.message:"Failed to delete note",isLoading:!1}),r}},loadNotes:async()=>{try{e({isLoading:!0,error:null});const t=zt.getState().user,r=null==t?void 0:t.id,s=await Ut.getAllNotes(r);e({notes:s,isLoading:!1})}catch(t){e({error:t instanceof Error?t.message:"Failed to load notes",isLoading:!1})}},hydrate:async()=>{await t().loadNotes()},clearError:()=>{e({error:null})}}));function No({note:e}){const[t,r]=i.useState(!1),[s,o]=i.useState(!1),[a,n]=i.useState(e.title),[l,c]=i.useState(e.content),{updateNote:m,deleteNote:u}=ho(),d=async()=>{if(a.trim())try{await m(e.id,{title:a.trim(),content:l.trim()}),o(!1)}catch(t){}},p=()=>{n(e.title),c(e.content),o(!1)},h=De({onSwipedLeft:()=>{s||window.confirm(`Delete note: "${e.title}"?`)&&u(e.id)},preventScrollOnSwipe:!0,trackMouse:!0});return s?ze.jsxDEV(Kt,{className:"border bg-card",children:ze.jsxDEV(tr,{className:"p-4",children:[ze.jsxDEV("input",{type:"text",value:a,onChange:e=>n(e.target.value),className:"mb-3 w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-ring",placeholder:"Note title..."},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/components/NoteRow.tsx",lineNumber:70,columnNumber:11},this),ze.jsxDEV("textarea",{value:l,onChange:e=>c(e.target.value),className:"mb-3 w-full resize-none rounded-md border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-ring",rows:4,placeholder:"Note content..."},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/components/NoteRow.tsx",lineNumber:77,columnNumber:11},this),ze.jsxDEV("div",{className:"flex justify-end gap-2",children:[ze.jsxDEV("button",{onClick:p,className:"rounded-md border border-input px-3 py-1 text-sm transition-colors hover:bg-muted",children:"Cancel"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/components/NoteRow.tsx",lineNumber:85,columnNumber:13},this),ze.jsxDEV("button",{onClick:d,disabled:!a.trim(),className:"rounded-md bg-primary px-3 py-1 text-sm text-primary-foreground transition-colors hover:bg-primary/90 disabled:opacity-50",children:"Save"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/components/NoteRow.tsx",lineNumber:91,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/components/NoteRow.tsx",lineNumber:84,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/components/NoteRow.tsx",lineNumber:69,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/components/NoteRow.tsx",lineNumber:68,columnNumber:7},this):ze.jsxDEV(Kt,{...h,className:"cursor-pointer transition-all duration-150 "+(t?"scale-95 bg-muted":"hover:bg-muted/50"),onTouchStart:()=>r(!0),onTouchEnd:()=>r(!1),onMouseDown:()=>r(!0),onMouseUp:()=>r(!1),onMouseLeave:()=>r(!1),onClick:()=>o(!0),children:ze.jsxDEV(tr,{className:"px-4 py-3",children:ze.jsxDEV("div",{className:"flex items-start justify-between",children:[ze.jsxDEV("div",{className:"mr-3 min-w-0 flex-1",children:[ze.jsxDEV("h3",{className:"mb-1 truncate text-sm font-medium",children:e.title},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/components/NoteRow.tsx",lineNumber:120,columnNumber:13},this),e.content&&ze.jsxDEV("p",{className:"line-clamp-2 text-sm text-muted-foreground",children:e.content},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/components/NoteRow.tsx",lineNumber:122,columnNumber:15},this),ze.jsxDEV("div",{className:"mt-2 flex items-center gap-2 text-xs text-muted-foreground",children:[ze.jsxDEV(y,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/components/NoteRow.tsx",lineNumber:127,columnNumber:15},this),ze.jsxDEV("span",{children:(e=>{const t=new Date(e);return t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:t.getFullYear()!==(new Date).getFullYear()?"numeric":void 0})})(e.updatedAt)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/components/NoteRow.tsx",lineNumber:128,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/components/NoteRow.tsx",lineNumber:126,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/components/NoteRow.tsx",lineNumber:119,columnNumber:11},this),ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(L,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/components/NoteRow.tsx",lineNumber:133,columnNumber:13},this),ze.jsxDEV("div",{className:"text-xs text-muted-foreground opacity-50",children:"Swipe to delete"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/components/NoteRow.tsx",lineNumber:134,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/components/NoteRow.tsx",lineNumber:132,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/components/NoteRow.tsx",lineNumber:118,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/components/NoteRow.tsx",lineNumber:117,columnNumber:7},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/components/NoteRow.tsx",lineNumber:105,columnNumber:5},this)}function fo(){const[e,t]=i.useState(""),[r,s]=i.useState(""),[o,a]=i.useState(""),[n,l]=i.useState(!1),{notes:c,addNote:m,loadNotes:u,isLoading:d}=ho();i.useEffect(()=>{0===c.length&&u()},[c.length,u]);const p=c.filter(e=>e.title.toLowerCase().includes(o.toLowerCase())||e.content.toLowerCase().includes(o.toLowerCase()));return ze.jsxDEV("div",{className:"container mx-auto px-4 pb-24 pt-4",children:[ze.jsxDEV("h2",{className:"mb-4 text-lg font-semibold",children:"Notes"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/pages/NotesPage.tsx",lineNumber:57,columnNumber:7},this),ze.jsxDEV("div",{className:"relative mb-4",children:[ze.jsxDEV(ue,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-muted-foreground"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/pages/NotesPage.tsx",lineNumber:61,columnNumber:9},this),ze.jsxDEV(ir,{placeholder:"Search notes...",value:o,onChange:e=>a(e.target.value),className:"pl-10"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/pages/NotesPage.tsx",lineNumber:62,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/pages/NotesPage.tsx",lineNumber:60,columnNumber:7},this),n?ze.jsxDEV("div",{className:"mb-6 rounded-lg border bg-card p-4",children:[ze.jsxDEV(ir,{placeholder:"Note title...",value:e,onChange:e=>t(e.target.value),className:"mb-3",disabled:d},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/pages/NotesPage.tsx",lineNumber:73,columnNumber:11},this),ze.jsxDEV(Ss,{placeholder:"Write your note...",value:r,onChange:e=>s(e.target.value),className:"mb-3 min-h-[120px]",disabled:d},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/pages/NotesPage.tsx",lineNumber:80,columnNumber:11},this),ze.jsxDEV("div",{className:"flex justify-end gap-2",children:[ze.jsxDEV(Qt,{variant:"outline",onClick:()=>{t(""),s(""),l(!1)},disabled:d,children:"Cancel"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/pages/NotesPage.tsx",lineNumber:90,columnNumber:13},this),ze.jsxDEV(Qt,{onClick:async()=>{if(e.trim())try{await m({title:e.trim(),content:r.trim(),createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()}),t(""),s(""),l(!1)}catch(o){}},disabled:d||!e.trim(),children:"Save Note"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/pages/NotesPage.tsx",lineNumber:97,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/pages/NotesPage.tsx",lineNumber:89,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/pages/NotesPage.tsx",lineNumber:72,columnNumber:9},this):ze.jsxDEV(Qt,{onClick:()=>l(!0),className:"mb-6 w-full",disabled:d,children:[ze.jsxDEV(T,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/pages/NotesPage.tsx",lineNumber:111,columnNumber:11},this),"Add New Note"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/pages/NotesPage.tsx",lineNumber:106,columnNumber:9},this),d&&ze.jsxDEV("p",{className:"text-muted-foreground",children:"Loading..."},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/pages/NotesPage.tsx",lineNumber:116,columnNumber:21},this),!d&&ze.jsxDEV(ze.Fragment,{children:p.length>0?ze.jsxDEV("div",{className:"space-y-3",children:p.map(e=>ze.jsxDEV(No,{note:e},e.id,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/pages/NotesPage.tsx",lineNumber:124,columnNumber:17},this))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/pages/NotesPage.tsx",lineNumber:122,columnNumber:13},this):o?ze.jsxDEV("div",{className:"text-center text-muted-foreground",children:[ze.jsxDEV("p",{className:"mb-2 text-4xl",children:""},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/pages/NotesPage.tsx",lineNumber:129,columnNumber:15},this),ze.jsxDEV("p",{children:"No notes found"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/pages/NotesPage.tsx",lineNumber:130,columnNumber:15},this),ze.jsxDEV("p",{className:"text-sm",children:"Try a different search term"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/pages/NotesPage.tsx",lineNumber:131,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/pages/NotesPage.tsx",lineNumber:128,columnNumber:13},this):ze.jsxDEV("div",{className:"text-center text-muted-foreground",children:[ze.jsxDEV("p",{className:"mb-2 text-4xl",children:""},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/pages/NotesPage.tsx",lineNumber:135,columnNumber:15},this),ze.jsxDEV("p",{children:"No notes yet"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/pages/NotesPage.tsx",lineNumber:136,columnNumber:15},this),ze.jsxDEV("p",{className:"text-sm",children:"Create your first note above"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/pages/NotesPage.tsx",lineNumber:137,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/pages/NotesPage.tsx",lineNumber:134,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/pages/NotesPage.tsx",lineNumber:120,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/notes/pages/NotesPage.tsx",lineNumber:56,columnNumber:5},this)}function go(){var e;const t=c(),{weights:r,isLoading:s}=wr(),{isMobile:o}=Lr(),i=Fr({scale:.98,haptic:!0}),a=new Date;a.setDate(a.getDate()-30);const n=r.filter(e=>new Date(e.dateISO)>=a).slice(0,30),l=()=>{t("/health")},m=(()=>{if(n.length<2)return null;const e=n[n.length-1],t=n[0].kg-e.kg;return Math.abs(t)<.1?{type:"stable",diff:0}:{type:t>0?"up":"down",diff:Math.abs(t),days:n.length}})();return s?ze.jsxDEV("div",{className:"cyber-card cursor-pointer mobile-card mobile-responsive",children:[ze.jsxDEV("div",{className:"mb-4 flex items-center gap-3 mobile-layout",children:[ze.jsxDEV("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-600 bg-gray-700 touch-target",children:ze.jsxDEV(P,{className:"text-ki-green cyber-icon h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:55,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:54,columnNumber:11},this),ze.jsxDEV("div",{children:[ze.jsxDEV("h3",{className:"font-semibold text-white mobile-heading",children:"Weight Trend"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:58,columnNumber:13},this),ze.jsxDEV("p",{className:"font-mono text-xs text-gray-400 mobile-caption",children:"Loading..."},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:59,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:57,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:53,columnNumber:9},this),ze.jsxDEV("div",{className:"flex h-16 items-center justify-center",children:ze.jsxDEV("div",{className:"shimmer h-8 w-full rounded bg-gray-700"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:63,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:62,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:52,columnNumber:7},this):ze.jsxDEV("div",{ref:i.elementRef,className:"cyber-card flex h-full cursor-pointer flex-col transition-all duration-200 mobile-card mobile-responsive touch-friendly "+(o?"galaxy-s24-ultra-optimized":""),onClick:l,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),l())},role:"button",tabIndex:0,"aria-label":"Weight trend card - view full weight history",children:[ze.jsxDEV("div",{className:"mb-4 flex items-center gap-3 mobile-layout",children:[ze.jsxDEV("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-600 bg-gray-700 touch-target",children:ze.jsxDEV(P,{className:"text-ki-green cyber-icon glow-ki h-5 w-5 transition-all duration-200"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:86,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:85,columnNumber:9},this),ze.jsxDEV("div",{children:[ze.jsxDEV("h3",{className:"font-semibold text-white mobile-heading",children:"Weight Trend"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:89,columnNumber:11},this),ze.jsxDEV("p",{className:"font-mono text-xs text-gray-400 mobile-caption",children:"30-day analysis"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:90,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:88,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:84,columnNumber:7},this),ze.jsxDEV("div",{className:"flex flex-1 flex-col",children:n.length>0?ze.jsxDEV("div",{className:"flex flex-1 flex-col space-y-4",children:[ze.jsxDEV("div",{className:"relative h-12 overflow-hidden rounded-lg border border-gray-700 bg-gray-900",children:ze.jsxDEV("div",{className:"absolute inset-0 p-2",children:ze.jsxDEV("svg",{viewBox:"0 0 100 20",className:"h-full w-full",children:[ze.jsxDEV("defs",{children:ze.jsxDEV("linearGradient",{id:"sparklineGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[ze.jsxDEV("stop",{offset:"0%",stopColor:"var(--ki-green)"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:109,columnNumber:23},this),ze.jsxDEV("stop",{offset:"100%",stopColor:"var(--plasma-cyan)"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:110,columnNumber:23},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:102,columnNumber:21},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:101,columnNumber:19},this),n.length>1&&ze.jsxDEV("polyline",{points:n.slice(0,10).map((e,t)=>{const r=t/(Math.min(n.length,10)-1)*100,s=Math.min(...n.slice(0,10).map(e=>e.kg)),o=Math.max(...n.slice(0,10).map(e=>e.kg))-s||1;return`${r},${20-(e.kg-s)/o*16}`}).join(" "),fill:"none",stroke:"url(#sparklineGradient)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"cyber-glow"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:115,columnNumber:21},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:100,columnNumber:17},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:99,columnNumber:15},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:98,columnNumber:13},this),ze.jsxDEV("div",{className:"flex items-center justify-between rounded-lg border border-gray-700 bg-gray-900 p-3",children:[ze.jsxDEV("div",{className:"flex items-center gap-2",children:[m&&"up"===m.type&&ze.jsxDEV(W,{className:"cyber-icon h-4 w-4 text-red-400"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:148,columnNumber:19},this),m&&"down"===m.type&&ze.jsxDEV(_,{className:"text-ki-green cyber-icon glow-ki h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:151,columnNumber:19},this),m&&"stable"===m.type&&ze.jsxDEV(M,{className:"text-plasma-cyan cyber-icon glow-cyan h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:154,columnNumber:19},this),ze.jsxDEV("div",{children:[ze.jsxDEV("div",{className:"font-mono text-sm text-white mobile-small",children:m?"stable"===m.type?"Stable":`${"up"===m.type?"+":"-"}${Tr(m.diff).toFixed(1)}lbs`:"No trend data"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:158,columnNumber:19},this),ze.jsxDEV("div",{className:"text-xs text-gray-400 mobile-caption",children:[n.length," entries"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:165,columnNumber:19},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:157,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:146,columnNumber:15},this),ze.jsxDEV("div",{className:"text-right",children:[ze.jsxDEV("div",{className:"gradient-text-ki font-mono text-sm font-semibold mobile-small",children:[Tr((null==(e=n[0])?void 0:e.kg)||0).toFixed(1),"lbs"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:172,columnNumber:17},this),ze.jsxDEV("div",{className:"text-xs text-gray-400 mobile-caption",children:"current"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:175,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:171,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:145,columnNumber:13},this),ze.jsxDEV("div",{className:"mt-auto text-center font-mono text-xs text-gray-400",children:" Tap to view full weight history"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:179,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:96,columnNumber:11},this):ze.jsxDEV("div",{className:"flex flex-1 flex-col justify-center space-y-4 text-center",children:[ze.jsxDEV("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-lg border border-gray-700 bg-gray-900",children:ze.jsxDEV(P,{className:"cyber-icon h-8 w-8 text-gray-600"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:186,columnNumber:15},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:185,columnNumber:13},this),ze.jsxDEV("div",{children:[ze.jsxDEV("div",{className:"font-inter mb-2 text-gray-400",children:"No weight data available"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:189,columnNumber:15},this),ze.jsxDEV("div",{className:"text-ki-green cursor-pointer font-mono text-sm",children:" Start tracking to see trends"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:192,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:188,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:184,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:94,columnNumber:7},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/WeightSparkCard.tsx",lineNumber:70,columnNumber:5},this)}function bo(){const e=c(),{weights:t,isLoading:r}=wr(),{isMobile:s}=Lr(),o=Fr({scale:.98,haptic:!0}),i=()=>{e("/health")},a=(new Date).toISOString().split("T")[0],n=t.find(e=>e.dateISO===a),l=new Date;l.setDate(l.getDate()-1);const m=l.toISOString().split("T")[0],u=t.find(e=>e.dateISO===m),d=(()=>{if(!n||!u)return null;const e=n.kg-u.kg;return Math.abs(e)<.1?{type:"stable",diff:0}:{type:e>0?"up":"down",diff:Math.abs(e)}})();return r?ze.jsxDEV("div",{className:"cyber-card flex h-full cursor-pointer flex-col mobile-card mobile-responsive",children:[ze.jsxDEV("div",{className:"mb-4 flex items-center gap-3 mobile-layout",children:[ze.jsxDEV("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-600 bg-gray-700 touch-target",children:ze.jsxDEV(S,{className:"text-ki-green cyber-icon h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:50,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:49,columnNumber:11},this),ze.jsxDEV("div",{children:[ze.jsxDEV("h3",{className:"font-semibold text-white mobile-body",children:"Today's Weight"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:53,columnNumber:13},this),ze.jsxDEV("p",{className:"font-mono text-xs text-gray-400 mobile-caption",children:"Loading..."},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:54,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:52,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:48,columnNumber:9},this),ze.jsxDEV("div",{className:"flex flex-1 items-center justify-center",children:ze.jsxDEV("div",{className:"shimmer h-8 w-full rounded bg-gray-700"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:58,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:57,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:47,columnNumber:7},this):ze.jsxDEV("div",{ref:o.elementRef,className:"cyber-card transition-cyber flex h-full cursor-pointer flex-col mobile-card mobile-responsive touch-friendly "+(s?"galaxy-s24-ultra-optimized":""),onClick:i,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),i())},role:"button",tabIndex:0,"aria-label":"Today's weight card - navigate to health hub",children:[ze.jsxDEV("div",{className:"mb-4 flex items-center gap-3 mobile-layout",children:[ze.jsxDEV("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-600 bg-gray-700 touch-target",children:ze.jsxDEV(S,{className:"text-ki-green cyber-icon glow-ki h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:81,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:80,columnNumber:9},this),ze.jsxDEV("div",{children:[ze.jsxDEV("h3",{className:"font-semibold text-white mobile-heading",children:"Today's Weight"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:84,columnNumber:11},this),ze.jsxDEV("p",{className:"font-mono text-xs text-gray-400 mobile-caption",children:"Current status"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:85,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:83,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:79,columnNumber:7},this),ze.jsxDEV("div",{className:"flex flex-1 flex-col",children:n?ze.jsxDEV("div",{className:"flex flex-1 flex-col justify-center space-y-4",children:[ze.jsxDEV("div",{className:"text-center",children:ze.jsxDEV("div",{className:"metric-large gradient-text-ki metric-display mobile-large",children:[Tr(n.kg).toFixed(1),ze.jsxDEV("span",{className:"font-inter ml-1 text-lg text-gray-400 mobile-body",children:"lbs"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:96,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:94,columnNumber:15},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:93,columnNumber:13},this),d&&ze.jsxDEV("div",{className:"flex items-center justify-center gap-2 rounded-lg border border-gray-700 bg-gray-900 p-3 mobile-card",children:["up"===d.type&&ze.jsxDEV(ze.Fragment,{children:[ze.jsxDEV(W,{className:"cyber-icon h-4 w-4 text-red-400"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:107,columnNumber:21},this),ze.jsxDEV("span",{className:"font-mono text-sm text-red-400 mobile-small",children:["+",Tr(d.diff).toFixed(1),"lbs from yesterday"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:108,columnNumber:21},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:106,columnNumber:19},this),"down"===d.type&&ze.jsxDEV(ze.Fragment,{children:[ze.jsxDEV(_,{className:"text-ki-green cyber-icon glow-ki h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:115,columnNumber:21},this),ze.jsxDEV("span",{className:"text-ki-green font-mono text-sm mobile-small",children:["-",Tr(d.diff).toFixed(1),"lbs from yesterday"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:116,columnNumber:21},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:114,columnNumber:19},this),"stable"===d.type&&ze.jsxDEV(ze.Fragment,{children:[ze.jsxDEV(M,{className:"text-plasma-cyan cyber-icon glow-cyan h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:123,columnNumber:21},this),ze.jsxDEV("span",{className:"text-plasma-cyan font-mono text-sm mobile-small",children:"No change from yesterday"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:124,columnNumber:21},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:122,columnNumber:19},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:104,columnNumber:15},this),ze.jsxDEV("div",{className:"mt-auto text-center font-mono text-xs text-gray-400 mobile-caption",children:["Recorded on ",new Date(n.dateISO).toLocaleDateString()]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:132,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:91,columnNumber:11},this):ze.jsxDEV("div",{className:"flex flex-1 flex-col justify-center space-y-4 text-center mobile-layout",children:[ze.jsxDEV("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-lg border border-gray-700 bg-gray-900 touch-target",children:ze.jsxDEV(S,{className:"cyber-icon h-8 w-8 text-gray-600"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:139,columnNumber:15},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:138,columnNumber:13},this),ze.jsxDEV("div",{children:[ze.jsxDEV("div",{className:"font-inter mb-2 text-gray-400 mobile-body",children:"No weight logged today"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:142,columnNumber:15},this),ze.jsxDEV("div",{className:"text-ki-green cursor-pointer font-mono text-sm mobile-small touch-friendly",children:" Tap to log your weight"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:145,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:141,columnNumber:13},this),u&&ze.jsxDEV("div",{className:"mt-auto rounded-lg border border-gray-700 bg-gray-900 p-3 mobile-card",children:ze.jsxDEV("div",{className:"font-mono text-xs text-gray-500 mobile-caption",children:["Yesterday:"," ",ze.jsxDEV("span",{className:"text-gray-300",children:[Tr(u.kg).toFixed(1),"lbs"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:154,columnNumber:19},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:152,columnNumber:17},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:151,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:137,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:89,columnNumber:7},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodayWeightCard.tsx",lineNumber:65,columnNumber:5},this)}i.lazy(()=>Ze(()=>import("./WeightPage-B9yFmb2g.js"),__vite__mapDeps([7,1,2,3,4,5,6])));const xo={success:{icon:Z,color:"text-ki-green",border:"border-ki-green",bg:"bg-ki-green/10",glow:"ki-glow-soft"},warning:{icon:D,color:"text-yellow-400",border:"border-yellow-400",bg:"bg-yellow-400/10",glow:"shadow-[0_0_8px_rgba(251,191,36,0.3)]"},error:{icon:V,color:"text-red-400",border:"border-red-400",bg:"bg-red-400/10",glow:"shadow-[0_0_8px_rgba(239,68,68,0.3)]"},info:{icon:w,color:"text-plasma-cyan",border:"border-plasma-cyan",bg:"bg-plasma-cyan/10",glow:"cyan-glow"},pending:{icon:B,color:"text-gray-400",border:"border-gray-400",bg:"bg-gray-400/10",glow:""},active:{icon:z,color:"text-hyper-magenta",border:"border-hyper-magenta",bg:"bg-hyper-magenta/10",glow:"magenta-glow"}},Po=i.forwardRef(({className:e,variant:t="info",size:r="md",showIcon:s=!0,children:o,...i},a)=>{const n=xo[t],l=n.icon;return ze.jsxDEV("div",{className:qt("inline-flex items-center rounded-full border font-mono font-medium transition-all duration-200",{sm:"px-2 py-1 text-xs gap-1",md:"px-3 py-1.5 text-sm gap-1.5",lg:"px-4 py-2 text-base gap-2"}[r],n.color,n.border,n.bg,n.glow,"hover:scale-105",e),ref:a,...i,children:[s&&ze.jsxDEV(l,{className:{sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"}[r]},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/status-chip.tsx",lineNumber:106,columnNumber:22},void 0),ze.jsxDEV("span",{children:o},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/status-chip.tsx",lineNumber:107,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/status-chip.tsx",lineNumber:92,columnNumber:7},void 0)});function vo(){const e=c(),{todos:t,isLoading:r}=Gs(),{isMobile:s}=Lr(),o=Fr({scale:.98,haptic:!0}),i=t.length,a=t.filter(e=>e.done).length,n=i-a,l=i>0?a/i*100:0,m=()=>{e("/todo")};if(r)return ze.jsxDEV("div",{className:"cyber-card flex h-full cursor-pointer flex-col mobile-card mobile-responsive",children:[ze.jsxDEV("div",{className:"mb-4 flex items-center gap-3 mobile-layout",children:[ze.jsxDEV("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-600 bg-gray-700 touch-target",children:ze.jsxDEV(B,{className:"text-ki-green cyber-icon h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:34,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:33,columnNumber:11},this),ze.jsxDEV("div",{children:[ze.jsxDEV("h3",{className:"font-semibold text-white mobile-heading",children:"Quest Progress"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:37,columnNumber:13},this),ze.jsxDEV("p",{className:"font-mono text-xs text-gray-400 mobile-caption",children:"Loading..."},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:38,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:36,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:32,columnNumber:9},this),ze.jsxDEV("div",{className:"flex flex-1 items-center justify-center",children:ze.jsxDEV("div",{className:"shimmer h-20 w-20 rounded-full bg-gray-700"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:42,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:41,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:31,columnNumber:7},this);return ze.jsxDEV("div",{ref:o.elementRef,className:"cyber-card transition-cyber flex h-full cursor-pointer flex-col mobile-card mobile-responsive touch-friendly "+(s?"galaxy-s24-ultra-optimized":""),onClick:m,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),m())},role:"button",tabIndex:0,"aria-label":"Quest progress card - view todo list",children:[ze.jsxDEV("div",{className:"mb-4 flex items-center gap-3 mobile-layout",children:[ze.jsxDEV("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-600 bg-gray-700 touch-target",children:ze.jsxDEV(B,{className:"text-ki-green cyber-icon glow-ki h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:73,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:72,columnNumber:9},this),ze.jsxDEV("div",{children:[ze.jsxDEV("h3",{className:"font-semibold text-white mobile-heading",children:"Quest Progress"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:76,columnNumber:11},this),ze.jsxDEV("p",{className:"font-mono text-xs text-gray-400 mobile-caption",children:"Today's missions"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:77,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:75,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:71,columnNumber:7},this),ze.jsxDEV("div",{className:"flex flex-1 flex-col",children:i>0?ze.jsxDEV("div",{className:"flex flex-1 flex-col justify-center space-y-4",children:[ze.jsxDEV("div",{className:"flex items-center justify-center",children:ze.jsxDEV(Mr,{value:l,variant:"ring",size:"lg",className:"h-24 w-24"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:86,columnNumber:15},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:85,columnNumber:13},this),ze.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[ze.jsxDEV("div",{className:"rounded-lg border border-gray-700 bg-gray-900 p-3 text-center",children:[ze.jsxDEV("div",{className:"mb-1 flex items-center justify-center gap-1.5",children:[ze.jsxDEV(v,{className:"text-ki-green cyber-icon h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:98,columnNumber:19},this),ze.jsxDEV("span",{className:"text-ki-green font-mono text-sm",children:"Done"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:99,columnNumber:19},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:97,columnNumber:17},this),ze.jsxDEV("div",{className:"metric-medium gradient-text-ki",children:a},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:101,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:96,columnNumber:15},this),ze.jsxDEV("div",{className:"rounded-lg border border-gray-700 bg-gray-900 p-3 text-center",children:[ze.jsxDEV("div",{className:"mb-1 flex items-center justify-center gap-1.5",children:[ze.jsxDEV(de,{className:"cyber-icon h-4 w-4 text-gray-400"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:108,columnNumber:19},this),ze.jsxDEV("span",{className:"font-mono text-sm text-gray-400",children:"Left"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:109,columnNumber:19},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:107,columnNumber:17},this),ze.jsxDEV("div",{className:"metric-medium text-gray-300",children:n},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:111,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:106,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:95,columnNumber:13},this),ze.jsxDEV("div",{className:"mt-auto flex justify-center",children:ze.jsxDEV(Po,{variant:0===i?"pending":100===l?"success":l>=75?"active":l>=50?"info":"warning",size:"md",children:100===l?"Complete!":l>=75?"Almost done":l>=50?"Making progress":l>0?"Getting started":"Ready to begin"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:119,columnNumber:15},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:118,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:83,columnNumber:11},this):ze.jsxDEV("div",{className:"flex flex-1 flex-col justify-center space-y-4 text-center",children:[ze.jsxDEV("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-lg border border-gray-700 bg-gray-900",children:ze.jsxDEV(B,{className:"cyber-icon h-8 w-8 text-gray-600"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:135,columnNumber:15},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:134,columnNumber:13},this),ze.jsxDEV("div",{children:[ze.jsxDEV("div",{className:"font-inter mb-2 text-gray-400",children:"No quests active"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:138,columnNumber:15},this),ze.jsxDEV("div",{className:"text-ki-green cursor-pointer font-mono text-sm",children:" Tap to create your first quest"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:141,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:137,columnNumber:13},this),ze.jsxDEV("div",{className:"mt-auto",children:ze.jsxDEV(Po,{variant:"pending",size:"md",children:"Awaiting missions"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:147,columnNumber:15},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:146,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:133,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:81,columnNumber:7},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/TodoSummaryCard.tsx",lineNumber:57,columnNumber:5},this)}function jo(){const{isMobile:e}=Lr(),t=Fr({scale:.98,haptic:!0}),r=()=>{},s=H;return ze.jsxDEV("div",{ref:t.elementRef,className:"cyber-card transition-cyber flex h-full cursor-pointer flex-col mobile-card mobile-responsive touch-friendly "+(e?"galaxy-s24-ultra-optimized":""),onClick:r,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||e.preventDefault()},role:"button",tabIndex:0,"aria-label":"Momentum streak card",children:[ze.jsxDEV("div",{className:"mb-4 flex items-center gap-3 mobile-layout",children:[ze.jsxDEV("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-600 bg-gray-700 touch-target",children:ze.jsxDEV(s,{className:"h-5 w-5 text-ki-green"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/StreakCard.tsx",lineNumber:59,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/StreakCard.tsx",lineNumber:58,columnNumber:9},this),ze.jsxDEV("div",{children:[ze.jsxDEV("h3",{className:"font-semibold text-white mobile-heading",children:"Momentum"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/StreakCard.tsx",lineNumber:62,columnNumber:11},this),ze.jsxDEV("p",{className:"font-mono text-xs text-gray-400 mobile-caption",children:"Daily streak"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/StreakCard.tsx",lineNumber:63,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/StreakCard.tsx",lineNumber:61,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/StreakCard.tsx",lineNumber:57,columnNumber:7},this),ze.jsxDEV("div",{className:"flex flex-1 flex-col justify-center space-y-4 text-center",children:[ze.jsxDEV("div",{className:"relative",children:[ze.jsxDEV("div",{className:"gradient-text-ki font-cyber mb-2 text-4xl font-bold",children:0},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/StreakCard.tsx",lineNumber:70,columnNumber:11},this),ze.jsxDEV("div",{className:"font-mono text-sm text-gray-400",children:"DAYS"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/StreakCard.tsx",lineNumber:73,columnNumber:11},this),!1]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/StreakCard.tsx",lineNumber:69,columnNumber:9},this),ze.jsxDEV("div",{className:"space-y-2",children:[ze.jsxDEV("div",{className:"font-inter text-sm text-gray-300",children:"Begin your cyber journey"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/StreakCard.tsx",lineNumber:95,columnNumber:11},this),ze.jsxDEV("div",{className:"flex justify-center gap-1",children:[1,7,14,21,30].map(e=>ze.jsxDEV("div",{className:"h-2 w-2 rounded-full transition-all duration-300 "+(0>=e?"bg-ki-green ki-glow-soft":"bg-gray-700")},e,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/StreakCard.tsx",lineNumber:102,columnNumber:15},this))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/StreakCard.tsx",lineNumber:100,columnNumber:11},this),ze.jsxDEV("div",{className:"font-mono text-xs text-gray-500",children:["Next milestone:"," ","1 day"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/StreakCard.tsx",lineNumber:113,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/StreakCard.tsx",lineNumber:94,columnNumber:9},this),ze.jsxDEV("div",{className:"mt-4 rounded-lg border border-gray-700 bg-gray-900 p-3",children:ze.jsxDEV("div",{className:"text-ki-green font-mono text-xs",children:"Log weight or complete tasks daily to build your streak"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/StreakCard.tsx",lineNumber:131,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/StreakCard.tsx",lineNumber:130,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/StreakCard.tsx",lineNumber:67,columnNumber:7},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/StreakCard.tsx",lineNumber:43,columnNumber:5},this)}Po.displayName="StatusChip";function yo(){const[e,t]=i.useState(!1),[r,s]=i.useState("idle"),[o,a]=i.useState(null),{isMobile:n}=Lr(),l=Fr({scale:.95,haptic:!0}),c=o?{totalWeights:(m=o).data.weights.length,totalTasks:m.data.tasks.length,totalNotes:m.data.notes.length,exportDate:new Date(m.exportDate).toLocaleDateString(),appVersion:m.appVersion}:null;var m;return ze.jsxDEV("div",{className:"cyber-card transition-cyber flex h-full flex-col mobile-card mobile-responsive "+(n?"galaxy-s24-ultra-optimized":""),children:[ze.jsxDEV("div",{className:"mb-4 flex items-center gap-3 mobile-layout",children:[ze.jsxDEV("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-600 bg-gray-700 touch-target",children:ze.jsxDEV(pe,{className:"text-plasma-cyan cyber-icon glow-cyan h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:57,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:56,columnNumber:9},this),ze.jsxDEV("div",{children:[ze.jsxDEV("h3",{className:"font-semibold text-white mobile-heading",children:"Data Backup"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:60,columnNumber:11},this),ze.jsxDEV("p",{className:"font-mono text-xs text-gray-400 mobile-caption",children:"System export"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:61,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:59,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:55,columnNumber:7},this),ze.jsxDEV("div",{className:"flex flex-1 flex-col space-y-4",children:[ze.jsxDEV("div",{className:"flex items-center justify-between",children:[ze.jsxDEV("div",{className:"font-inter text-sm text-gray-300",children:"Export all training data"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:68,columnNumber:11},this),"success"===r&&ze.jsxDEV(Po,{variant:"success",size:"sm",children:"Complete"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:73,columnNumber:13},this),"error"===r&&ze.jsxDEV(Po,{variant:"error",size:"sm",children:"Failed"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:78,columnNumber:13},this),e&&ze.jsxDEV(Po,{variant:"active",size:"sm",children:"Processing"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:83,columnNumber:13},this),"idle"===r&&!e&&ze.jsxDEV(Po,{variant:"info",size:"sm",showIcon:!1,children:"Ready"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:88,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:67,columnNumber:9},this),c&&ze.jsxDEV("div",{className:"rounded-lg border border-gray-700 bg-gray-900 p-3",children:[ze.jsxDEV("div",{className:"mb-2 font-mono text-xs text-gray-400",children:["Last Export: ",new Date(c.exportDate).toLocaleDateString()]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:97,columnNumber:13},this),ze.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:[ze.jsxDEV("div",{className:"text-center",children:[ze.jsxDEV("div",{className:"text-ki-green font-mono text-sm font-bold",children:c.totalWeights},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:102,columnNumber:17},this),ze.jsxDEV("div",{className:"text-xs text-gray-500",children:"Weights"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:105,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:101,columnNumber:15},this),ze.jsxDEV("div",{className:"text-center",children:[ze.jsxDEV("div",{className:"text-plasma-cyan font-mono text-sm font-bold",children:c.totalTasks},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:108,columnNumber:17},this),ze.jsxDEV("div",{className:"text-xs text-gray-500",children:"Quests"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:111,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:107,columnNumber:15},this),ze.jsxDEV("div",{className:"text-center",children:[ze.jsxDEV("div",{className:"text-hyper-magenta font-mono text-sm font-bold",children:c.totalNotes},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:114,columnNumber:17},this),ze.jsxDEV("div",{className:"text-xs text-gray-500",children:"Notes"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:117,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:113,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:100,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:96,columnNumber:11},this),ze.jsxDEV(Qt,{ref:l.elementRef,onClick:async()=>{try{t(!0),s("idle");const e=await(async()=>{try{const[e,t,r]=await Promise.all([At.getAllWeights(),Lt.getAllTodos(),Ot.getAllNotes()]);return{exportDate:(new Date).toISOString(),appVersion:"1.0.0",data:{weights:e,tasks:t,notes:r}}}catch(e){throw new Error("Failed to export app data")}})();(e=>{const t=JSON.stringify(e,null,2),r=new Blob([t],{type:"application/json"}),s=URL.createObjectURL(r),o=document.createElement("a");o.href=s,o.download=`perfect-zenkai-backup-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(s)})(e),a(e),s("success"),setTimeout(()=>s("idle"),3e3)}catch(e){s("error"),setTimeout(()=>s("idle"),3e3)}finally{t(!1)}},disabled:e,className:`\n            neon-button transition-cyber bg-plasma-cyan\n            hover:bg-plasma-cyan text-dark-navy\n            cyan-glow w-full font-mono\n            font-semibold touch-target mobile-button\n            disabled:cursor-not-allowed disabled:opacity-50\n            ${n?"mobile-responsive":""}\n          `,"aria-label":"Export all data as backup file",children:[ze.jsxDEV(A,{className:"cyber-icon mr-2 h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:138,columnNumber:11},this),e?"EXPORTING...":"EXPORT DATA"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:124,columnNumber:9},this),"success"===r&&ze.jsxDEV("div",{className:"bg-ki-green/10 border-ki-green rounded-lg border p-2 text-center",children:[ze.jsxDEV("div",{className:"text-ki-green font-mono text-sm",children:" Data exported successfully!"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:145,columnNumber:13},this),ze.jsxDEV("div",{className:"mt-1 text-xs text-gray-400",children:"Backup file downloaded to your device"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:148,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:144,columnNumber:11},this),"error"===r&&ze.jsxDEV("div",{className:"rounded-lg border border-red-400 bg-red-400/10 p-2 text-center",children:[ze.jsxDEV("div",{className:"font-mono text-sm text-red-400",children:" Export failed. Please try again."},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:156,columnNumber:13},this),ze.jsxDEV("div",{className:"mt-1 text-xs text-gray-400",children:"Check console for error details"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:159,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:155,columnNumber:11},this),!c&&"idle"===r&&ze.jsxDEV("div",{className:"text-center font-mono text-xs text-gray-500",children:"Secure backup for app updates and migrations"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:166,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:65,columnNumber:7},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/components/DataExportCard.tsx",lineNumber:54,columnNumber:5},this)}function ko({className:e,variant:t="default",...r}){return ze.jsxDEV("div",{className:qt({default:"animate-pulse rounded-md bg-gray-700",cyber:"animate-pulse rounded-lg bg-gray-700 border border-gray-600 shimmer",text:"animate-pulse rounded bg-gray-700 h-4",circle:"animate-pulse rounded-full bg-gray-700"}[t],e),...r},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/skeleton.tsx",lineNumber:16,columnNumber:10},this)}function Eo(){return ze.jsxDEV("div",{className:"cyber-card",children:[ze.jsxDEV("div",{className:"mb-4 flex items-center gap-3",children:[ze.jsxDEV(ko,{variant:"circle",className:"h-10 w-10"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/skeleton.tsx",lineNumber:24,columnNumber:9},this),ze.jsxDEV("div",{className:"flex-1 space-y-2",children:[ze.jsxDEV(ko,{variant:"text",className:"h-4 w-24"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/skeleton.tsx",lineNumber:26,columnNumber:11},this),ze.jsxDEV(ko,{variant:"text",className:"h-3 w-16"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/skeleton.tsx",lineNumber:27,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/skeleton.tsx",lineNumber:25,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/skeleton.tsx",lineNumber:23,columnNumber:7},this),ze.jsxDEV("div",{className:"space-y-3",children:[ze.jsxDEV(ko,{variant:"cyber",className:"h-16 w-full"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/skeleton.tsx",lineNumber:31,columnNumber:9},this),ze.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[ze.jsxDEV(ko,{variant:"cyber",className:"h-12"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/skeleton.tsx",lineNumber:33,columnNumber:11},this),ze.jsxDEV(ko,{variant:"cyber",className:"h-12"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/skeleton.tsx",lineNumber:34,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/skeleton.tsx",lineNumber:32,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/skeleton.tsx",lineNumber:30,columnNumber:7},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/skeleton.tsx",lineNumber:22,columnNumber:5},this)}function Ao({count:e=3}){return ze.jsxDEV("div",{className:"space-y-3",children:Array.from({length:e}).map((e,t)=>ze.jsxDEV("div",{className:"cyber-card py-3",children:ze.jsxDEV("div",{className:"flex items-center gap-3",children:[ze.jsxDEV(ko,{variant:"circle",className:"h-8 w-8"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/skeleton.tsx",lineNumber:48,columnNumber:13},this),ze.jsxDEV("div",{className:"flex-1 space-y-2",children:[ze.jsxDEV(ko,{variant:"text",className:"h-4 w-32"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/skeleton.tsx",lineNumber:50,columnNumber:15},this),ze.jsxDEV(ko,{variant:"text",className:"h-3 w-24"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/skeleton.tsx",lineNumber:51,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/skeleton.tsx",lineNumber:49,columnNumber:13},this),ze.jsxDEV(ko,{variant:"text",className:"h-6 w-16"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/skeleton.tsx",lineNumber:53,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/skeleton.tsx",lineNumber:47,columnNumber:11},this)},t,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/skeleton.tsx",lineNumber:46,columnNumber:9},this))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/skeleton.tsx",lineNumber:44,columnNumber:5},this)}function Co(){return ze.jsxDEV("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((e,t)=>ze.jsxDEV(Eo,{},t,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/skeleton.tsx",lineNumber:66,columnNumber:9},this))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/shared/ui/skeleton.tsx",lineNumber:64,columnNumber:5},this)}function wo(){const{loadWeights:e,isLoading:t}=wr(),{loadTodos:r,isLoading:s}=Gs(),{loadGoals:o,isLoading:a}=no(),[n,l]=i.useState(!0),{isMobile:c}=Lr();return i.useEffect(()=>{(async()=>{try{l(!0),await Promise.all([r(),e(),o()])}catch(t){}finally{l(!1)}})()},[r,e,o]),n||t&&s&&a?ze.jsxDEV("div",{className:"container mx-auto px-4 pb-24 pt-4",children:[ze.jsxDEV("div",{className:"mb-6",children:ze.jsxDEV("div",{className:"shimmer mb-6 h-8 w-32 rounded bg-gray-700"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:48,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:47,columnNumber:9},this),ze.jsxDEV("div",{className:"shimmer mb-8 h-48 overflow-hidden rounded-lg border border-gray-700 bg-gray-800"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:52,columnNumber:9},this),ze.jsxDEV(Co,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:54,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:46,columnNumber:7},this):ze.jsxDEV("div",{className:"container mx-auto px-4 pb-24 pt-4 mobile-safe-area "+(c?"mobile-layout":""),children:[ze.jsxDEV("div",{className:"mb-6 sm:mb-8 mobile-layout",children:[ze.jsxDEV("h1",{className:"cyber-title gradient-text-ki mb-2 text-xl sm:text-2xl mobile-heading",children:"CONTROL NEXUS"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:63,columnNumber:9},this),ze.jsxDEV("p",{className:"font-mono text-sm text-gray-400 mobile-body",children:"Mission Status Overview"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:64,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:62,columnNumber:7},this),ze.jsxDEV("div",{className:"relative mb-6 sm:mb-8 overflow-hidden rounded-xl border border-gray-700 bg-gray-900 shadow-2xl",children:[ze.jsxDEV("video",{className:"h-auto max-h-[200px] sm:max-h-[300px] w-full object-cover",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,src:"/assets/header-DHEPENJi.webm",children:"Your browser does not support the video tag."},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:71,columnNumber:9},this),ze.jsxDEV("div",{className:"border-ki-green/20 pointer-events-none absolute inset-0 rounded-xl border-2"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:83,columnNumber:9},this),ze.jsxDEV("div",{className:"border-ki-green absolute left-2 sm:left-4 top-2 sm:top-4 h-3 w-3 sm:h-4 sm:w-4 border-l-2 border-t-2"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:84,columnNumber:9},this),ze.jsxDEV("div",{className:"border-ki-green absolute right-2 sm:right-4 top-2 sm:top-4 h-3 w-3 sm:h-4 sm:w-4 border-r-2 border-t-2"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:85,columnNumber:9},this),ze.jsxDEV("div",{className:"border-ki-green absolute bottom-2 sm:bottom-4 left-2 sm:left-4 h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-l-2"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:86,columnNumber:9},this),ze.jsxDEV("div",{className:"border-ki-green absolute bottom-2 sm:bottom-4 right-2 sm:right-4 h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-r-2"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:87,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:70,columnNumber:7},this),ze.jsxDEV("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 2xl:grid-cols-4 sm:gap-6 mobile-grid "+(c?"mobile-stack":""),children:[ze.jsxDEV("div",{className:`${c?"min-h-80":"h-80"} mobile-card ${c?"mobile-responsive":""}`,children:ze.jsxDEV(bo,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:94,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:93,columnNumber:9},this),ze.jsxDEV("div",{className:`${c?"min-h-80":"h-80"} mobile-card ${c?"mobile-responsive":""}`,children:ze.jsxDEV(vo,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:98,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:97,columnNumber:9},this),ze.jsxDEV("div",{className:`${c?"min-h-80":"h-80"} sm:col-span-1 lg:col-span-1 mobile-card ${c?"mobile-responsive":""}`,children:ze.jsxDEV(go,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:103,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:102,columnNumber:9},this),ze.jsxDEV("div",{className:`${c?"min-h-80":"h-80"} sm:col-span-1 lg:col-span-1 xl:col-span-1 mobile-card ${c?"mobile-responsive":""}`,children:ze.jsxDEV(jo,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:107,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:106,columnNumber:9},this),ze.jsxDEV("div",{className:`${c?"min-h-80":"h-80"} sm:col-span-2 lg:col-span-1 xl:col-span-1 2xl:col-span-1 mobile-card ${c?"mobile-responsive":""}`,children:ze.jsxDEV(yo,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:112,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:111,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:91,columnNumber:7},this),ze.jsxDEV("div",{className:"via-ki-green/20 mt-8 sm:mt-12 h-px bg-gradient-to-r from-transparent to-transparent hidden sm:block"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:117,columnNumber:7},this),ze.jsxDEV("div",{className:"mt-4 sm:mt-6 text-center",children:ze.jsxDEV("p",{className:"font-mono text-xs text-gray-500",children:["System Status: ",ze.jsxDEV("span",{className:"text-ki-green",children:"OPERATIONAL"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:122,columnNumber:26},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:121,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:120,columnNumber:7},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/dashboard/pages/DashboardPage.tsx",lineNumber:60,columnNumber:5},this)}const Do=e=>{const t="string"==typeof e?Fe(e):e;return Le(t)?"Today":Ie(t)?"Yesterday":Se(t,"MMM d, yyyy")},Vo=()=>Se(new Date,"yyyy-MM-dd"),Zo=e=>({id:e.id,entryDate:e.entry_date,entryType:e.entry_type,morningEntry:e.morning_entry||void 0,eveningEntry:e.evening_entry||void 0,createdAt:e.created_at,updatedAt:e.updated_at}),So=e=>({entry_date:e.entryDate,entry_type:e.entryType,morning_entry:e.morningEntry||null,evening_entry:e.eveningEntry||null}),To=e=>({1:"Very Low",2:"Low",3:"Moderate",4:"Good",5:"Excellent"}[e]||"Unknown"),Wo=(e=new Date)=>Te(e,{weekStartsOn:1}),Fo=(e=new Date)=>We(e),Lo=e=>{const t=new Date,r=Wo(t),s=Fo(t),o=e.filter(e=>Me(new Date(e.entryDate),r)||Se(new Date(e.entryDate),"yyyy-MM-dd")===Se(r,"yyyy-MM-dd")),i=e.filter(e=>Me(new Date(e.entryDate),s)||Se(new Date(e.entryDate),"yyyy-MM-dd")===Se(s,"yyyy-MM-dd")),a=Io(e,o,i),n=Mo(e),l=_o(e),c=(e=>{if(0===e.length)return{current:0,longest:0};const t=[...e].sort((e,t)=>new Date(t.entryDate).getTime()-new Date(e.entryDate).getTime());let r=0,s=0,o=0;const i=new Date,a=new Set(t.map(e=>e.entryDate));for(let l=0;l<30;l++){const e=new Date(i);e.setDate(i.getDate()-l);const t=Se(e,"yyyy-MM-dd");if(a.has(t))(0===l||r>0)&&r++;else if(l>0)break}const n=t.map(e=>new Date(e.entryDate)).sort((e,t)=>e.getTime()-t.getTime());for(let l=0;l<n.length;l++)0===l?o=1:1===Math.floor((n[l].getTime()-n[l-1].getTime())/864e5)?o++:o=1,s=Math.max(s,o);return{current:r,longest:s}})(e),m=e.length>0?e.sort((e,t)=>new Date(t.entryDate).getTime()-new Date(e.entryDate).getTime())[0]:null;return{completionRate:a,trends:n,insights:l,streaks:{currentStreak:c.current,longestStreak:c.longest,lastEntryDate:(null==m?void 0:m.entryDate)||""}}},Io=(e,t,r)=>{const s=new Date,o=Math.min(7,Math.floor((s.getTime()-Wo(s).getTime())/864e5)+1),i=Math.min(31,Math.floor((s.getTime()-Fo(s).getTime())/864e5)+1),a=e.filter(e=>e.morningEntry).length,n=e.filter(e=>e.eveningEntry).length;return{weekly:Math.round(t.length/o*100),monthly:Math.round(r.length/i*100),morningEntries:a,eveningEntries:n}},Mo=e=>{const t=Array.from({length:30},(e,t)=>{const r=_e(new Date,t);return Se(r,"yyyy-MM-dd")}).reverse(),r=[],s=[],o=[],i=[];return t.forEach(t=>{var a,n,l,c;const m=e.find(e=>e.entryDate===t);r.push((null==(a=null==m?void 0:m.morningEntry)?void 0:a.mood)||0),s.push((null==(n=null==m?void 0:m.morningEntry)?void 0:n.energy)||0),i.push((null==(l=null==m?void 0:m.morningEntry)?void 0:l.sleepQuality)||0),o.push((null==(c=null==m?void 0:m.eveningEntry)?void 0:c.productivity)||0)}),{moodTrend:r,energyTrend:s,productivityTrend:o,sleepQualityTrend:i}},_o=e=>{const t=[],r=[],s=[],o={};e.forEach(e=>{var i,a,n,l;if((null==(i=e.morningEntry)?void 0:i.blockers)&&t.push(...e.morningEntry.blockers),(null==(a=e.eveningEntry)?void 0:a.gratitude)&&r.push(...e.eveningEntry.gratitude),(null==(n=e.eveningEntry)?void 0:n.improvements)&&s.push(...e.eveningEntry.improvements),null==(l=e.eveningEntry)?void 0:l.productivity){const t=Se(new Date(e.entryDate),"EEEE");o[t]||(o[t]=[]),o[t].push(e.eveningEntry.productivity)}});const i=Ro(t,5),a=Ro(r,5),n=Ro(s,5);return{commonBlockers:i,topGratitudeThemes:a,mostProductiveDays:Object.entries(o).map(([e,t])=>({day:e,avgScore:t.reduce((e,t)=>e+t,0)/t.length})).sort((e,t)=>t.avgScore-e.avgScore).slice(0,3).map(e=>e.day),improvementAreas:n}},Ro=(e,t)=>{const r={};return e.forEach(e=>{const t=e.toLowerCase().trim();t.length>2&&(r[t]=(r[t]||0)+1)}),Object.entries(r).sort(([,e],[,t])=>t-e).slice(0,t).map(([e])=>e)},Go=Ce((e,t)=>({entries:[],analytics:null,formState:{selectedDate:Vo(),activeTab:"morning",isDraft:!1,hasUnsavedChanges:!1},isLoading:!1,error:null,loadEntries:async()=>{e({isLoading:!0,error:null});try{const t=await st();if(!t)throw new Error("Supabase client not available");const{data:r,error:s}=await t.from("journal_entries").select("*").order("entry_date",{ascending:!1});if(s)throw s;const o=(r||[]).map(e=>Zo(e));e({entries:o,isLoading:!1})}catch(t){e({error:t.message,isLoading:!1})}},loadAnalytics:async()=>{const{entries:r}=t();if(0!==r.length)try{const t=Lo(r);e({analytics:t})}catch(s){e({error:s.message})}else e({analytics:null})},addEntry:async r=>{e({isLoading:!0,error:null});try{const s=await st();if(!s)throw new Error("Supabase client not available");const o=So(r),{data:i,error:a}=await s.from("journal_entries").insert([{user_id:"",entry_date:o.entry_date||(new Date).toISOString().split("T")[0],entry_type:o.entry_type||"both",morning_entry:o.morning_entry,evening_entry:o.evening_entry,created_at:o.created_at,updated_at:o.updated_at}]).select().single();if(a)throw a;const n=Zo(i),{entries:l}=t(),c=[n,...l].sort((e,t)=>new Date(t.entryDate).getTime()-new Date(e.entryDate).getTime());e({entries:c,isLoading:!1}),t().loadAnalytics()}catch(s){e({error:s.message,isLoading:!1})}},updateEntry:async(r,s)=>{e({isLoading:!0,error:null});try{const o=await st();if(!o)throw new Error("Supabase client not available");const i=So(s),{data:a,error:n}=await o.from("journal_entries").update({entry_date:i.entry_date,entry_type:i.entry_type,morning_entry:i.morning_entry,evening_entry:i.evening_entry,updated_at:i.updated_at}).eq("id",r).select().single();if(n)throw n;const l=Zo(a),{entries:c}=t(),m=c.map(e=>e.id===r?l:e);e({entries:m,isLoading:!1}),t().loadAnalytics()}catch(o){e({error:o.message,isLoading:!1})}},deleteEntry:async r=>{e({isLoading:!0,error:null});try{const s=await st();if(!s)throw new Error("Supabase client not available");const{error:o}=await s.from("journal_entries").delete().eq("id",r);if(o)throw o;const{entries:i}=t(),a=i.filter(e=>e.id!==r);e({entries:a,isLoading:!1}),t().loadAnalytics()}catch(s){e({error:s.message,isLoading:!1})}},getEntryByDate:e=>{const{entries:r}=t();return r.find(t=>t.entryDate===e)||null},createOrUpdateMorningEntry:async(e,r)=>{const s=t().getEntryByDate(e);s?await t().updateEntry(s.id,{morningEntry:r,entryType:s.eveningEntry?"both":"morning"}):await t().addEntry({entryDate:e,entryType:"morning",morningEntry:r})},createOrUpdateEveningEntry:async(e,r)=>{const s=t().getEntryByDate(e);s?await t().updateEntry(s.id,{eveningEntry:r,entryType:s.morningEntry?"both":"evening"}):await t().addEntry({entryDate:e,entryType:"evening",eveningEntry:r})},setSelectedDate:t=>{e(e=>({formState:{...e.formState,selectedDate:t}}))},setActiveTab:t=>{e(e=>({formState:{...e.formState,activeTab:t}}))},setHasUnsavedChanges:t=>{e(e=>({formState:{...e.formState,hasUnsavedChanges:t}}))},getTodayEntry:()=>{const e=Vo();return t().getEntryByDate(e)},getRecentEntries:(e=7)=>{const{entries:r}=t();return r.slice(0,e)},clearError:()=>{e({error:null})}}));function Oo({label:e,value:t,onChange:r,icon:s,description:o,required:i=!1}){return ze.jsxDEV("div",{className:"space-y-3",children:[ze.jsxDEV("div",{className:"flex items-center gap-2",children:[s&&ze.jsxDEV("span",{className:"text-green-500",children:s},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MoodEnergySelector.tsx",lineNumber:26,columnNumber:18},this),ze.jsxDEV("label",{className:"text-sm font-medium text-white",children:[e,i&&ze.jsxDEV("span",{className:"text-red-400 ml-1",children:"*"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MoodEnergySelector.tsx",lineNumber:29,columnNumber:24},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MoodEnergySelector.tsx",lineNumber:27,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MoodEnergySelector.tsx",lineNumber:25,columnNumber:7},this),o&&ze.jsxDEV("p",{className:"text-xs text-gray-400",children:o},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MoodEnergySelector.tsx",lineNumber:34,columnNumber:9},this),ze.jsxDEV("div",{className:"flex items-center justify-between",children:[1,2,3,4,5].map(e=>ze.jsxDEV("button",{type:"button",onClick:()=>r(e),className:`\n              flex flex-col items-center p-3 rounded-lg border-2 transition-all\n              ${t===e?"border-green-500 bg-green-500/20 text-green-400":"border-gray-600 bg-gray-800 text-gray-400 hover:border-gray-500 hover:text-gray-300"}\n            `,children:[ze.jsxDEV("span",{className:"text-lg font-bold",children:e},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MoodEnergySelector.tsx",lineNumber:51,columnNumber:13},this),ze.jsxDEV("span",{className:"text-xs mt-1 text-center leading-tight",children:To(e)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MoodEnergySelector.tsx",lineNumber:52,columnNumber:13},this)]},e,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MoodEnergySelector.tsx",lineNumber:39,columnNumber:11},this))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MoodEnergySelector.tsx",lineNumber:37,columnNumber:7},this),t>0&&ze.jsxDEV("div",{className:"text-center",children:ze.jsxDEV("span",{className:`text-sm font-medium ${a=t,{1:"text-red-500",2:"text-orange-500",3:"text-yellow-500",4:"text-green-500",5:"text-emerald-500"}[a]||"text-gray-500"}`,children:["Current: ",To(t)," (",t,"/5)"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MoodEnergySelector.tsx",lineNumber:61,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MoodEnergySelector.tsx",lineNumber:60,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MoodEnergySelector.tsx",lineNumber:24,columnNumber:5},this);var a}function Uo({priorities:e,onChange:t,maxItems:r=3,required:s=!1}){const[o,a]=i.useState(""),[n,l]=i.useState(!1),c=()=>{o.trim()&&e.length<r&&(t([...e,o.trim()]),a(""),l(!1))},m=e.length<r;return ze.jsxDEV("div",{className:"space-y-4",children:[ze.jsxDEV("div",{className:"flex items-center justify-between",children:[ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(j,{className:"h-4 w-4 text-green-500"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:50,columnNumber:11},this),ze.jsxDEV("label",{className:"text-sm font-medium text-white",children:["Top ",r," Priorities",s&&ze.jsxDEV("span",{className:"text-red-400 ml-1",children:"*"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:53,columnNumber:26},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:51,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:49,columnNumber:9},this),ze.jsxDEV("span",{className:"text-xs text-gray-400",children:[e.length,"/",r]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:56,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:48,columnNumber:7},this),s&&0===e.length&&ze.jsxDEV("div",{className:"flex items-center gap-2 p-2 bg-red-500/20 border border-red-500/50 rounded-lg",children:[ze.jsxDEV(ce,{className:"h-4 w-4 text-red-400"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:64,columnNumber:11},this),ze.jsxDEV("span",{className:"text-xs text-red-400",children:"At least one priority is required"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:65,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:63,columnNumber:9},this),ze.jsxDEV("div",{className:"space-y-2",children:e.map((r,s)=>ze.jsxDEV("div",{className:"flex items-center gap-3 p-3 bg-gray-800 border border-gray-600 rounded-lg",children:[ze.jsxDEV("div",{className:"flex items-center justify-center w-6 h-6 bg-green-500 text-black text-xs font-bold rounded-full",children:s+1},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:76,columnNumber:13},this),ze.jsxDEV("span",{className:"flex-1 text-sm text-white",children:r},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:79,columnNumber:13},this),ze.jsxDEV("button",{type:"button",onClick:()=>(r=>{const s=e.filter((e,t)=>t!==r);t(s)})(s),className:"text-red-400 hover:text-red-300 p-1",children:ze.jsxDEV(I,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:85,columnNumber:15},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:80,columnNumber:13},this)]},s,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:72,columnNumber:11},this))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:70,columnNumber:7},this),n?ze.jsxDEV("div",{className:"p-3 bg-gray-800 border border-gray-600 rounded-lg space-y-3",children:[ze.jsxDEV("input",{type:"text",value:o,onChange:e=>a(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),c()),"Escape"===e.key&&(l(!1),a(""))},placeholder:"What's your priority for today?",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400",autoFocus:!0},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:94,columnNumber:11},this),ze.jsxDEV("div",{className:"flex gap-2",children:[ze.jsxDEV("button",{type:"button",onClick:c,disabled:!o.trim(),className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Priority"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:104,columnNumber:13},this),ze.jsxDEV("button",{type:"button",onClick:()=>{l(!1),a("")},className:"px-4 py-2 bg-gray-600 text-white rounded-lg text-sm font-medium hover:bg-gray-700",children:"Cancel"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:112,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:103,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:93,columnNumber:9},this):m?ze.jsxDEV("button",{type:"button",onClick:()=>l(!0),className:"w-full p-3 border-2 border-dashed border-gray-600 rounded-lg text-gray-400 hover:border-gray-500 hover:text-gray-300 transition-colors flex items-center justify-center gap-2",children:[ze.jsxDEV(T,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:130,columnNumber:11},this),"Add Priority (",e.length,"/",r,")"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:125,columnNumber:9},this):ze.jsxDEV("div",{className:"text-center p-3 bg-gray-800/50 rounded-lg",children:ze.jsxDEV("span",{className:"text-xs text-gray-500",children:["Maximum ",r," priorities reached"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:135,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:134,columnNumber:9},this),0===e.length&&!n&&ze.jsxDEV("p",{className:"text-xs text-gray-500 text-center py-4",children:["No priorities set yet. What are your top ",r," goals for today?"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:142,columnNumber:9},this),e.length>0&&ze.jsxDEV("div",{className:"text-xs text-gray-500 space-y-1",children:[ze.jsxDEV("p",{children:[" ",ze.jsxDEV("strong",{children:"Tip:"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:150,columnNumber:17},this)," Focus on completing these priorities first"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:150,columnNumber:11},this),ze.jsxDEV("p",{children:" Keep them specific and actionable for better results"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:151,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:149,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/PriorityList.tsx",lineNumber:47,columnNumber:5},this)}function Bo({timeBlocks:e,onChange:t}){const[r,s]=i.useState(!1),[o,a]=i.useState({startTime:"09:00",endTime:"10:00",activity:"",priority:"medium"}),n=(()=>{const e=[];for(let t=0;t<24;t++)for(let r=0;r<60;r+=30){const s=`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`;e.push(s)}return e})(),l=e=>{switch(e){case"high":return"border-red-500 bg-red-500/20 text-red-400";case"medium":return"border-yellow-500 bg-yellow-500/20 text-yellow-400";case"low":return"border-green-500 bg-green-500/20 text-green-400";default:return"border-gray-500 bg-gray-500/20 text-gray-400"}};return ze.jsxDEV("div",{className:"space-y-4",children:[ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(B,{className:"h-4 w-4 text-green-500"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:59,columnNumber:9},this),ze.jsxDEV("label",{className:"text-sm font-medium text-white",children:"Time Blocks"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:60,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:58,columnNumber:7},this),ze.jsxDEV("div",{className:"space-y-2",children:e.map((r,s)=>{return ze.jsxDEV("div",{className:`p-3 rounded-lg border ${l(r.priority)}`,children:ze.jsxDEV("div",{className:"flex items-center justify-between",children:[ze.jsxDEV("div",{className:"flex-1",children:[ze.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[ze.jsxDEV("span",{className:"text-sm font-medium text-white",children:(o=r.startTime,i=r.endTime,`${o} - ${i}`)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:73,columnNumber:19},this),ze.jsxDEV("span",{className:`text-xs px-2 py-1 rounded-full ${l(r.priority)}`,children:r.priority},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:76,columnNumber:19},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:72,columnNumber:17},this),ze.jsxDEV("p",{className:"text-sm text-gray-300",children:r.activity},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:80,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:71,columnNumber:15},this),ze.jsxDEV("button",{type:"button",onClick:()=>(r=>{const s=e.filter((e,t)=>t!==r);t(s)})(s),className:"text-red-400 hover:text-red-300 p-1",children:ze.jsxDEV(I,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:87,columnNumber:17},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:82,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:70,columnNumber:13},this)},s,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:66,columnNumber:11},this);var o,i})},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:64,columnNumber:7},this),r?ze.jsxDEV("div",{className:"p-4 bg-gray-800 rounded-lg border border-gray-600 space-y-3",children:[ze.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[ze.jsxDEV("div",{children:[ze.jsxDEV("label",{className:"block text-xs text-gray-400 mb-1",children:"Start Time"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:99,columnNumber:15},this),ze.jsxDEV("select",{value:o.startTime,onChange:e=>a({...o,startTime:e.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white text-sm",children:n.map(e=>ze.jsxDEV("option",{value:e,children:e},e,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:106,columnNumber:19},this))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:100,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:98,columnNumber:13},this),ze.jsxDEV("div",{children:[ze.jsxDEV("label",{className:"block text-xs text-gray-400 mb-1",children:"End Time"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:111,columnNumber:15},this),ze.jsxDEV("select",{value:o.endTime,onChange:e=>a({...o,endTime:e.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white text-sm",children:n.map(e=>ze.jsxDEV("option",{value:e,children:e},e,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:118,columnNumber:19},this))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:112,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:110,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:97,columnNumber:11},this),ze.jsxDEV("div",{children:[ze.jsxDEV("label",{className:"block text-xs text-gray-400 mb-1",children:"Activity"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:125,columnNumber:13},this),ze.jsxDEV("input",{type:"text",value:o.activity,onChange:e=>a({...o,activity:e.target.value}),placeholder:"What will you be doing?",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:126,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:124,columnNumber:11},this),ze.jsxDEV("div",{children:[ze.jsxDEV("label",{className:"block text-xs text-gray-400 mb-1",children:"Priority"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:136,columnNumber:13},this),ze.jsxDEV("select",{value:o.priority,onChange:e=>a({...o,priority:e.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white text-sm",children:[ze.jsxDEV("option",{value:"low",children:"Low Priority"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:142,columnNumber:15},this),ze.jsxDEV("option",{value:"medium",children:"Medium Priority"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:143,columnNumber:15},this),ze.jsxDEV("option",{value:"high",children:"High Priority"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:144,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:137,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:135,columnNumber:11},this),ze.jsxDEV("div",{className:"flex gap-2",children:[ze.jsxDEV("button",{type:"button",onClick:()=>{if(o.activity&&o.startTime&&o.endTime){const r={startTime:o.startTime,endTime:o.endTime,activity:o.activity,priority:o.priority};t([...e,r]),a({startTime:"09:00",endTime:"10:00",activity:"",priority:"medium"}),s(!1)}},disabled:!o.activity,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Block"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:149,columnNumber:13},this),ze.jsxDEV("button",{type:"button",onClick:()=>s(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg text-sm font-medium hover:bg-gray-700",children:"Cancel"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:157,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:148,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:96,columnNumber:9},this):ze.jsxDEV("button",{type:"button",onClick:()=>s(!0),className:"w-full p-3 border-2 border-dashed border-gray-600 rounded-lg text-gray-400 hover:border-gray-500 hover:text-gray-300 transition-colors flex items-center justify-center gap-2",children:[ze.jsxDEV(T,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:172,columnNumber:11},this),"Add Time Block"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:167,columnNumber:9},this),0===e.length&&!r&&ze.jsxDEV("p",{className:"text-xs text-gray-500 text-center py-4",children:"No time blocks planned yet. Add some to organize your day!"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:178,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/TimeBlockPlanner.tsx",lineNumber:57,columnNumber:5},this)}function Ho({entry:e,onSave:t,isLoading:r=!1}){const[s,o]=i.useState(e||{yesterdayAccomplishments:[],todayPlans:[],blockers:[],mood:3,energy:3,sleepQuality:3,topPriorities:[],timeBlocks:[],notes:""}),[a,n]=i.useState([]),[l,c]=i.useState(!1);i.useEffect(()=>{e&&(o(e),c(!1))},[e]);const m=(e,t)=>{o(r=>({...r,[e]:t})),c(!0),a.length>0&&n([])},u=(e,t)=>{m(e,t)};return ze.jsxDEV("div",{className:"space-y-6",children:[ze.jsxDEV("div",{className:"flex items-center gap-3",children:[ze.jsxDEV("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:ze.jsxDEV(he,{className:"h-6 w-6 text-yellow-500"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:62,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:61,columnNumber:9},this),ze.jsxDEV("div",{children:[ze.jsxDEV("h2",{className:"text-xl font-bold text-white",children:"Morning Standup"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:65,columnNumber:11},this),ze.jsxDEV("p",{className:"text-sm text-gray-400",children:"Plan your day and check in with yourself"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:66,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:64,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:60,columnNumber:7},this),a.length>0&&ze.jsxDEV("div",{className:"p-4 bg-red-500/20 border border-red-500/50 rounded-lg space-y-2",children:[ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(ce,{className:"h-4 w-4 text-red-400"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:74,columnNumber:13},this),ze.jsxDEV("span",{className:"text-sm font-medium text-red-400",children:"Please fix the following issues:"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:75,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:73,columnNumber:11},this),ze.jsxDEV("ul",{className:"text-sm text-red-300 space-y-1",children:a.map((e,t)=>ze.jsxDEV("li",{children:[" ",e]},t,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:79,columnNumber:15},this))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:77,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:72,columnNumber:9},this),ze.jsxDEV("div",{className:"space-y-3",children:[ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(Ne,{className:"h-4 w-4 text-green-500"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:88,columnNumber:11},this),ze.jsxDEV("label",{className:"text-sm font-medium text-white",children:"What did I accomplish yesterday?"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:89,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:87,columnNumber:9},this),ze.jsxDEV("textarea",{value:s.yesterdayAccomplishments.join("\n"),onChange:e=>u("yesterdayAccomplishments",e.target.value.split("\n").filter(Boolean)),placeholder:"List your accomplishments from yesterday (one per line)",rows:3,className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400 resize-none"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:91,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:86,columnNumber:7},this),ze.jsxDEV("div",{className:"space-y-3",children:[ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(fe,{className:"h-4 w-4 text-blue-500"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:103,columnNumber:11},this),ze.jsxDEV("label",{className:"text-sm font-medium text-white",children:"What do I plan to do today?"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:104,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:102,columnNumber:9},this),ze.jsxDEV("textarea",{value:s.todayPlans.join("\n"),onChange:e=>u("todayPlans",e.target.value.split("\n").filter(Boolean)),placeholder:"List your plans for today (one per line)",rows:3,className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400 resize-none"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:106,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:101,columnNumber:7},this),ze.jsxDEV("div",{className:"space-y-3",children:[ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(ce,{className:"h-4 w-4 text-red-500"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:118,columnNumber:11},this),ze.jsxDEV("label",{className:"text-sm font-medium text-white",children:"Any blockers or challenges?"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:119,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:117,columnNumber:9},this),ze.jsxDEV("textarea",{value:s.blockers.join("\n"),onChange:e=>u("blockers",e.target.value.split("\n").filter(Boolean)),placeholder:"List any obstacles or challenges you're facing (one per line)",rows:2,className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400 resize-none"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:121,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:116,columnNumber:7},this),ze.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[ze.jsxDEV(Oo,{label:"Mood",value:s.mood,onChange:e=>m("mood",e),icon:ze.jsxDEV(he,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:136,columnNumber:17},this),description:"How are you feeling right now?",required:!0},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:132,columnNumber:9},this),ze.jsxDEV(Oo,{label:"Energy Level",value:s.energy,onChange:e=>m("energy",e),icon:ze.jsxDEV(z,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:145,columnNumber:17},this),description:"How energetic do you feel?",required:!0},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:141,columnNumber:9},this),ze.jsxDEV(Oo,{label:"Sleep Quality",value:s.sleepQuality,onChange:e=>m("sleepQuality",e),icon:ze.jsxDEV(ge,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:154,columnNumber:17},this),description:"How well did you sleep?",required:!0},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:150,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:131,columnNumber:7},this),ze.jsxDEV(Uo,{priorities:s.topPriorities,onChange:e=>m("topPriorities",e),maxItems:3,required:!0},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:161,columnNumber:7},this),ze.jsxDEV(Bo,{timeBlocks:s.timeBlocks,onChange:e=>m("timeBlocks",e)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:169,columnNumber:7},this),ze.jsxDEV("div",{className:"space-y-3",children:[ze.jsxDEV("label",{className:"text-sm font-medium text-white",children:"Additional Notes"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:176,columnNumber:9},this),ze.jsxDEV("textarea",{value:s.notes,onChange:e=>m("notes",e.target.value),placeholder:"Any additional thoughts, ideas, or notes for the day...",rows:3,className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400 resize-none"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:177,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:175,columnNumber:7},this),ze.jsxDEV("div",{className:"flex items-center justify-between pt-4 border-t border-gray-700",children:[ze.jsxDEV("div",{className:"text-xs text-gray-500",children:l&&" Unsaved changes"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:188,columnNumber:9},this),ze.jsxDEV("button",{onClick:async()=>{const e=(e=>{const t=[];return(!e.mood||e.mood<1||e.mood>5)&&t.push("Mood rating is required (1-5)"),(!e.energy||e.energy<1||e.energy>5)&&t.push("Energy rating is required (1-5)"),(!e.sleepQuality||e.sleepQuality<1||e.sleepQuality>5)&&t.push("Sleep quality rating is required (1-5)"),e.topPriorities&&0!==e.topPriorities.length||t.push("At least one priority is required"),e.topPriorities&&e.topPriorities.length>3&&t.push("Maximum 3 priorities allowed"),t})(s);if(e.length>0)n(e);else try{await t(s),c(!1),n([])}catch(r){n(["Failed to save morning entry. Please try again."])}},disabled:r,className:"flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[ze.jsxDEV(F,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:196,columnNumber:11},this),r?"Saving...":"Save Morning Entry"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:191,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:187,columnNumber:7},this),ze.jsxDEV("div",{className:"text-xs text-gray-500 bg-gray-800/50 p-4 rounded-lg space-y-2",children:[ze.jsxDEV("p",{children:ze.jsxDEV("strong",{children:" Morning Success Tips:"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:203,columnNumber:12},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:203,columnNumber:9},this),ze.jsxDEV("p",{children:" Review yesterday's wins to build momentum"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:204,columnNumber:9},this),ze.jsxDEV("p",{children:" Set 1-3 clear priorities to stay focused"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:205,columnNumber:9},this),ze.jsxDEV("p",{children:" Plan time blocks to structure your day"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:206,columnNumber:9},this),ze.jsxDEV("p",{children:" Identify blockers early to find solutions"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:207,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:202,columnNumber:7},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/MorningStandup.tsx",lineNumber:58,columnNumber:5},this)}function $o({gratitude:e,onChange:t,maxItems:r=3,required:s=!1}){const[o,a]=i.useState(""),[n,l]=i.useState(!1),c=()=>{o.trim()&&e.length<r&&(t([...e,o.trim()]),a(""),l(!1))},m=e.length<r,u=["Something that made me smile today","A person who helped or supported me","A small moment of joy or peace","Something I learned or discovered","A challenge that helped me grow","Something beautiful I noticed","A comfort or convenience I enjoyed","Progress I made on a goal"];return ze.jsxDEV("div",{className:"space-y-4",children:[ze.jsxDEV("div",{className:"flex items-center justify-between",children:[ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(be,{className:"h-4 w-4 text-pink-500"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:65,columnNumber:11},this),ze.jsxDEV("label",{className:"text-sm font-medium text-white",children:["Gratitude (",r," items)",s&&ze.jsxDEV("span",{className:"text-red-400 ml-1",children:"*"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:68,columnNumber:26},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:66,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:64,columnNumber:9},this),ze.jsxDEV("span",{className:"text-xs text-gray-400",children:[e.length,"/",r]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:71,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:63,columnNumber:7},this),s&&0===e.length&&ze.jsxDEV("div",{className:"flex items-center gap-2 p-2 bg-red-500/20 border border-red-500/50 rounded-lg",children:[ze.jsxDEV(ce,{className:"h-4 w-4 text-red-400"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:79,columnNumber:11},this),ze.jsxDEV("span",{className:"text-xs text-red-400",children:"At least one gratitude item is required"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:80,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:78,columnNumber:9},this),ze.jsxDEV("div",{className:"space-y-2",children:e.map((r,s)=>ze.jsxDEV("div",{className:"flex items-start gap-3 p-3 bg-pink-500/10 border border-pink-500/30 rounded-lg",children:[ze.jsxDEV("div",{className:"flex items-center justify-center w-6 h-6 bg-pink-500 text-white text-xs font-bold rounded-full mt-0.5",children:s+1},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:91,columnNumber:13},this),ze.jsxDEV("span",{className:"flex-1 text-sm text-white leading-relaxed",children:r},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:94,columnNumber:13},this),ze.jsxDEV("button",{type:"button",onClick:()=>(r=>{const s=e.filter((e,t)=>t!==r);t(s)})(s),className:"text-red-400 hover:text-red-300 p-1",children:ze.jsxDEV(I,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:100,columnNumber:15},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:95,columnNumber:13},this)]},s,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:87,columnNumber:11},this))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:85,columnNumber:7},this),n?ze.jsxDEV("div",{className:"p-4 bg-gray-800 border border-gray-600 rounded-lg space-y-3",children:[ze.jsxDEV("div",{className:"text-xs text-gray-400 mb-2",children:[" ",ze.jsxDEV("strong",{children:"Prompt:"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:110,columnNumber:16},this)," ",u[Math.floor(Math.random()*u.length)]]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:109,columnNumber:11},this),ze.jsxDEV("textarea",{value:o,onChange:e=>a(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),c()),"Escape"===e.key&&(l(!1),a(""))},placeholder:"What are you grateful for today?",rows:2,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400 resize-none",autoFocus:!0},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:112,columnNumber:11},this),ze.jsxDEV("div",{className:"flex gap-2",children:[ze.jsxDEV("button",{type:"button",onClick:c,disabled:!o.trim(),className:"flex-1 px-4 py-2 bg-pink-600 text-white rounded-lg text-sm font-medium hover:bg-pink-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Gratitude"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:122,columnNumber:13},this),ze.jsxDEV("button",{type:"button",onClick:()=>{l(!1),a("")},className:"px-4 py-2 bg-gray-600 text-white rounded-lg text-sm font-medium hover:bg-gray-700",children:"Cancel"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:130,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:121,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:108,columnNumber:9},this):m?ze.jsxDEV("button",{type:"button",onClick:()=>l(!0),className:"w-full p-3 border-2 border-dashed border-pink-500/50 rounded-lg text-pink-400 hover:border-pink-500 hover:text-pink-300 transition-colors flex items-center justify-center gap-2",children:[ze.jsxDEV(T,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:148,columnNumber:11},this),"Add Gratitude (",e.length,"/",r,")"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:143,columnNumber:9},this):ze.jsxDEV("div",{className:"text-center p-3 bg-pink-500/10 rounded-lg",children:ze.jsxDEV("span",{className:"text-xs text-pink-400",children:["All ",r," gratitude items completed! "]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:153,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:152,columnNumber:9},this),0===e.length&&!n&&ze.jsxDEV("div",{className:"text-center py-6 space-y-2",children:[ze.jsxDEV("p",{className:"text-xs text-gray-500",children:"Take a moment to reflect on what you're grateful for today"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:161,columnNumber:11},this),ze.jsxDEV("div",{className:"text-xs text-gray-600 space-y-1",children:[ze.jsxDEV("p",{children:" Big wins or small moments"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:165,columnNumber:13},this),ze.jsxDEV("p",{children:" People who made a difference"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:166,columnNumber:13},this),ze.jsxDEV("p",{children:" Lessons learned or growth experienced"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:167,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:164,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:160,columnNumber:9},this),e.length>0&&ze.jsxDEV("div",{className:"text-xs text-gray-500 bg-pink-500/5 p-3 rounded-lg space-y-1",children:[ze.jsxDEV("p",{children:[" ",ze.jsxDEV("strong",{children:"Benefits of gratitude:"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:175,columnNumber:16},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:175,columnNumber:11},this),ze.jsxDEV("p",{children:" Improves mood and mental well-being"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:176,columnNumber:11},this),ze.jsxDEV("p",{children:" Enhances sleep quality and reduces stress"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:177,columnNumber:11},this),ze.jsxDEV("p",{children:" Strengthens relationships and social connections"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:178,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:174,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/GratitudeList.tsx",lineNumber:62,columnNumber:5},this)}function zo({entry:e,onSave:t,isLoading:r=!1}){const[s,o]=i.useState(e||{accomplishments:[],challenges:[],learnings:[],tomorrowFocus:[],unfinishedTasks:[],gratitude:[],improvements:[],productivity:3,stressLevel:3,satisfaction:3,notes:""}),[a,n]=i.useState([]),[l,c]=i.useState(!1);i.useEffect(()=>{e&&(o(e),c(!1))},[e]);const m=(e,t)=>{o(r=>({...r,[e]:t})),c(!0),a.length>0&&n([])},u=(e,t)=>{m(e,t)};return ze.jsxDEV("div",{className:"space-y-6",children:[ze.jsxDEV("div",{className:"flex items-center gap-3",children:[ze.jsxDEV("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:ze.jsxDEV(ge,{className:"h-6 w-6 text-purple-500"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:61,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:60,columnNumber:9},this),ze.jsxDEV("div",{children:[ze.jsxDEV("h2",{className:"text-xl font-bold text-white",children:"Evening Reflection"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:64,columnNumber:11},this),ze.jsxDEV("p",{className:"text-sm text-gray-400",children:"Review your day and prepare for tomorrow"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:65,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:63,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:59,columnNumber:7},this),a.length>0&&ze.jsxDEV("div",{className:"p-4 bg-red-500/20 border border-red-500/50 rounded-lg space-y-2",children:[ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(ce,{className:"h-4 w-4 text-red-400"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:73,columnNumber:13},this),ze.jsxDEV("span",{className:"text-sm font-medium text-red-400",children:"Please fix the following issues:"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:74,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:72,columnNumber:11},this),ze.jsxDEV("ul",{className:"text-sm text-red-300 space-y-1",children:a.map((e,t)=>ze.jsxDEV("li",{children:[" ",e]},t,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:78,columnNumber:15},this))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:76,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:71,columnNumber:9},this),ze.jsxDEV("div",{className:"space-y-3",children:[ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(Z,{className:"h-4 w-4 text-green-500"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:87,columnNumber:11},this),ze.jsxDEV("label",{className:"text-sm font-medium text-white",children:"What did I accomplish today?"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:88,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:86,columnNumber:9},this),ze.jsxDEV("textarea",{value:s.accomplishments.join("\n"),onChange:e=>u("accomplishments",e.target.value.split("\n").filter(Boolean)),placeholder:"List your accomplishments from today (one per line)",rows:3,className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400 resize-none"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:90,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:85,columnNumber:7},this),ze.jsxDEV("div",{className:"space-y-3",children:[ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(D,{className:"h-4 w-4 text-orange-500"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:102,columnNumber:11},this),ze.jsxDEV("label",{className:"text-sm font-medium text-white",children:"What challenges did I face and how did I handle them?"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:103,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:101,columnNumber:9},this),ze.jsxDEV("textarea",{value:s.challenges.join("\n"),onChange:e=>u("challenges",e.target.value.split("\n").filter(Boolean)),placeholder:"Describe challenges you faced and how you dealt with them (one per line)",rows:3,className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400 resize-none"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:105,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:100,columnNumber:7},this),ze.jsxDEV("div",{className:"space-y-3",children:[ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(xe,{className:"h-4 w-4 text-yellow-500"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:117,columnNumber:11},this),ze.jsxDEV("label",{className:"text-sm font-medium text-white",children:"What did I learn today?"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:118,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:116,columnNumber:9},this),ze.jsxDEV("textarea",{value:s.learnings.join("\n"),onChange:e=>u("learnings",e.target.value.split("\n").filter(Boolean)),placeholder:"What insights, skills, or knowledge did you gain? (one per line)",rows:3,className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400 resize-none"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:120,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:115,columnNumber:7},this),ze.jsxDEV("div",{className:"space-y-3",children:[ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(Pe,{className:"h-4 w-4 text-blue-500"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:132,columnNumber:11},this),ze.jsxDEV("label",{className:"text-sm font-medium text-white",children:"What should I focus on tomorrow?"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:133,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:131,columnNumber:9},this),ze.jsxDEV("textarea",{value:s.tomorrowFocus.join("\n"),onChange:e=>u("tomorrowFocus",e.target.value.split("\n").filter(Boolean)),placeholder:"What are your key focus areas for tomorrow? (one per line)",rows:3,className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400 resize-none"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:135,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:130,columnNumber:7},this),ze.jsxDEV("div",{className:"space-y-3",children:[ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(ce,{className:"h-4 w-4 text-red-500"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:147,columnNumber:11},this),ze.jsxDEV("label",{className:"text-sm font-medium text-white",children:"Unfinished tasks to carry over"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:148,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:146,columnNumber:9},this),ze.jsxDEV("textarea",{value:s.unfinishedTasks.join("\n"),onChange:e=>u("unfinishedTasks",e.target.value.split("\n").filter(Boolean)),placeholder:"Tasks that didn't get completed today (one per line)",rows:2,className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400 resize-none"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:150,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:145,columnNumber:7},this),ze.jsxDEV($o,{gratitude:s.gratitude,onChange:e=>m("gratitude",e),maxItems:3,required:!0},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:160,columnNumber:7},this),ze.jsxDEV("div",{className:"space-y-3",children:[ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(Pe,{className:"h-4 w-4 text-purple-500"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:170,columnNumber:11},this),ze.jsxDEV("label",{className:"text-sm font-medium text-white",children:"Areas for improvement"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:171,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:169,columnNumber:9},this),ze.jsxDEV("textarea",{value:s.improvements.join("\n"),onChange:e=>u("improvements",e.target.value.split("\n").filter(Boolean)),placeholder:"What could you do better or differently? (one per line)",rows:2,className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400 resize-none"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:173,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:168,columnNumber:7},this),ze.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[ze.jsxDEV(Oo,{label:"Productivity",value:s.productivity,onChange:e=>m("productivity",e),icon:ze.jsxDEV(Z,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:188,columnNumber:17},this),description:"How productive were you today?",required:!0},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:184,columnNumber:9},this),ze.jsxDEV(Oo,{label:"Stress Level",value:s.stressLevel,onChange:e=>m("stressLevel",e),icon:ze.jsxDEV(D,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:197,columnNumber:17},this),description:"How stressed did you feel?",required:!0},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:193,columnNumber:9},this),ze.jsxDEV(Oo,{label:"Satisfaction",value:s.satisfaction,onChange:e=>m("satisfaction",e),icon:ze.jsxDEV(ge,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:206,columnNumber:17},this),description:"How satisfied are you with today?",required:!0},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:202,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:183,columnNumber:7},this),ze.jsxDEV("div",{className:"space-y-3",children:[ze.jsxDEV("label",{className:"text-sm font-medium text-white",children:"Additional Notes"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:214,columnNumber:9},this),ze.jsxDEV("textarea",{value:s.notes,onChange:e=>m("notes",e.target.value),placeholder:"Any additional thoughts, reflections, or notes about your day...",rows:3,className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400 resize-none"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:215,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:213,columnNumber:7},this),ze.jsxDEV("div",{className:"flex items-center justify-between pt-4 border-t border-gray-700",children:[ze.jsxDEV("div",{className:"text-xs text-gray-500",children:l&&" Unsaved changes"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:226,columnNumber:9},this),ze.jsxDEV("button",{onClick:async()=>{const e=(e=>{const t=[];return(!e.productivity||e.productivity<1||e.productivity>5)&&t.push("Productivity rating is required (1-5)"),(!e.stressLevel||e.stressLevel<1||e.stressLevel>5)&&t.push("Stress level rating is required (1-5)"),(!e.satisfaction||e.satisfaction<1||e.satisfaction>5)&&t.push("Satisfaction rating is required (1-5)"),e.gratitude&&0!==e.gratitude.length||t.push("At least one gratitude item is required"),e.gratitude&&e.gratitude.length>3&&t.push("Maximum 3 gratitude items allowed"),t})(s);if(e.length>0)n(e);else try{await t(s),c(!1),n([])}catch(r){n(["Failed to save evening entry. Please try again."])}},disabled:r,className:"flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[ze.jsxDEV(F,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:234,columnNumber:11},this),r?"Saving...":"Save Evening Entry"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:229,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:225,columnNumber:7},this),ze.jsxDEV("div",{className:"text-xs text-gray-500 bg-gray-800/50 p-4 rounded-lg space-y-2",children:[ze.jsxDEV("p",{children:ze.jsxDEV("strong",{children:" Evening Reflection Tips:"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:241,columnNumber:12},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:241,columnNumber:9},this),ze.jsxDEV("p",{children:" Celebrate your wins, no matter how small"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:242,columnNumber:9},this),ze.jsxDEV("p",{children:" Learn from challenges without self-judgment"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:243,columnNumber:9},this),ze.jsxDEV("p",{children:" Practice gratitude to end the day positively"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:244,columnNumber:9},this),ze.jsxDEV("p",{children:" Set clear intentions for tomorrow"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:245,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:240,columnNumber:7},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/components/EveningReflection.tsx",lineNumber:57,columnNumber:5},this)}function Jo(){const{loadEntries:e,getEntryByDate:t,createOrUpdateMorningEntry:r,createOrUpdateEveningEntry:s,setSelectedDate:o,setActiveTab:a,clearError:n}=Go(),l=Go(e=>e.formState),c=Go(e=>e.isLoading),m=Go(e=>e.error),[u,d]=i.useState(!1);i.useEffect(()=>{(async()=>{await e(),d(!0)})()},[e]);const p=t(l.selectedDate),h=l.selectedDate===Vo(),N=new Date(l.selectedDate)>new Date;return u?ze.jsxDEV("div",{className:"min-h-screen bg-gray-900 pb-20 pt-16",children:ze.jsxDEV("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[ze.jsxDEV("div",{className:"flex items-center gap-3 mb-6",children:[ze.jsxDEV("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:ze.jsxDEV(ve,{className:"h-6 w-6 text-blue-500"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:84,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:83,columnNumber:11},this),ze.jsxDEV("div",{children:[ze.jsxDEV("h1",{className:"text-2xl font-bold text-white",children:"Daily Journal"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:87,columnNumber:13},this),ze.jsxDEV("p",{className:"text-sm text-gray-400",children:"Reflect, plan, and grow every day"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:88,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:86,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:82,columnNumber:9},this),m&&ze.jsxDEV("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-lg",children:ze.jsxDEV("div",{className:"flex items-center justify-between",children:[ze.jsxDEV("span",{className:"text-red-400",children:m},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:96,columnNumber:15},this),ze.jsxDEV("button",{onClick:n,className:"text-red-400 hover:text-red-300 text-sm",children:"Dismiss"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:97,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:95,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:94,columnNumber:11},this),ze.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:ze.jsxDEV("div",{className:"flex items-center justify-between",children:[ze.jsxDEV("button",{onClick:()=>{const e=Se(_e(new Date(l.selectedDate),1),"yyyy-MM-dd");o(e)},className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition-colors",children:ze.jsxDEV(je,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:114,columnNumber:15},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:110,columnNumber:13},this),ze.jsxDEV("div",{className:"flex items-center gap-4",children:[ze.jsxDEV("div",{className:"text-center",children:[ze.jsxDEV("div",{className:"flex items-center gap-2 text-white font-medium",children:[ze.jsxDEV(y,{className:"h-4 w-4 text-green-500"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:120,columnNumber:19},this),Do(l.selectedDate)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:119,columnNumber:17},this),ze.jsxDEV("div",{className:"text-xs text-gray-400 mt-1",children:Se(new Date(l.selectedDate),"EEEE")},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:123,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:118,columnNumber:15},this),!h&&ze.jsxDEV("button",{onClick:()=>{o(Vo())},className:"px-3 py-1 bg-green-600 text-white text-xs rounded-lg hover:bg-green-700 transition-colors",children:"Today"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:129,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:117,columnNumber:13},this),ze.jsxDEV("button",{onClick:()=>{const e=Se(Re(new Date(l.selectedDate),1),"yyyy-MM-dd");o(e)},disabled:N,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:ze.jsxDEV(oe,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:143,columnNumber:15},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:138,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:109,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:108,columnNumber:9},this),ze.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:ze.jsxDEV("div",{className:"flex items-center justify-between",children:[ze.jsxDEV("div",{className:"text-sm text-gray-400",children:["Entry Status for ",Do(l.selectedDate)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:151,columnNumber:13},this),ze.jsxDEV("div",{className:"flex gap-2",children:[ze.jsxDEV("div",{className:"px-2 py-1 rounded-full text-xs "+((null==p?void 0:p.morningEntry)?"bg-green-500/20 text-green-400":"bg-gray-600/20 text-gray-500"),children:["Morning ",(null==p?void 0:p.morningEntry)?"":""]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:155,columnNumber:15},this),ze.jsxDEV("div",{className:"px-2 py-1 rounded-full text-xs "+((null==p?void 0:p.eveningEntry)?"bg-purple-500/20 text-purple-400":"bg-gray-600/20 text-gray-500"),children:["Evening ",(null==p?void 0:p.eveningEntry)?"":""]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:162,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:154,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:150,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:149,columnNumber:9},this),ze.jsxDEV("div",{className:"flex bg-gray-800 rounded-lg p-1 mb-6",children:[ze.jsxDEV("button",{onClick:()=>a("morning"),className:"flex-1 py-3 px-4 rounded-lg text-sm font-medium transition-colors "+("morning"===l.activeTab?"bg-yellow-500/20 text-yellow-400":"text-gray-400 hover:text-white"),children:" Morning Standup"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:175,columnNumber:11},this),ze.jsxDEV("button",{onClick:()=>a("evening"),className:"flex-1 py-3 px-4 rounded-lg text-sm font-medium transition-colors "+("evening"===l.activeTab?"bg-purple-500/20 text-purple-400":"text-gray-400 hover:text-white"),children:" Evening Reflection"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:185,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:174,columnNumber:9},this),N&&ze.jsxDEV("div",{className:"bg-yellow-500/20 border border-yellow-500/50 rounded-lg p-4 mb-6",children:ze.jsxDEV("p",{className:"text-yellow-400 text-sm",children:" You're viewing a future date. Journal entries are typically made for today or past dates."},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:200,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:199,columnNumber:11},this),ze.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-6",children:"morning"===l.activeTab?ze.jsxDEV(Ho,{entry:null==p?void 0:p.morningEntry,onSave:async e=>{await r(l.selectedDate,e)},isLoading:c},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:209,columnNumber:13},this):ze.jsxDEV(zo,{entry:null==p?void 0:p.eveningEntry,onSave:async e=>{await s(l.selectedDate,e)},isLoading:c},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:215,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:207,columnNumber:9},this),p&&ze.jsxDEV("div",{className:"mt-6 bg-gray-800 rounded-lg p-4",children:[ze.jsxDEV("h3",{className:"text-sm font-medium text-white mb-3",children:"Entry Summary"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:226,columnNumber:13},this),ze.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[p.morningEntry&&ze.jsxDEV(ze.Fragment,{children:[ze.jsxDEV("div",{children:[ze.jsxDEV("div",{className:"text-lg font-bold text-yellow-400",children:[p.morningEntry.mood,"/5"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:231,columnNumber:21},this),ze.jsxDEV("div",{className:"text-xs text-gray-400",children:"Morning Mood"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:234,columnNumber:21},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:230,columnNumber:19},this),ze.jsxDEV("div",{children:[ze.jsxDEV("div",{className:"text-lg font-bold text-blue-400",children:[p.morningEntry.energy,"/5"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:237,columnNumber:21},this),ze.jsxDEV("div",{className:"text-xs text-gray-400",children:"Energy Level"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:240,columnNumber:21},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:236,columnNumber:19},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:229,columnNumber:17},this),p.eveningEntry&&ze.jsxDEV(ze.Fragment,{children:[ze.jsxDEV("div",{children:[ze.jsxDEV("div",{className:"text-lg font-bold text-green-400",children:[p.eveningEntry.productivity,"/5"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:247,columnNumber:21},this),ze.jsxDEV("div",{className:"text-xs text-gray-400",children:"Productivity"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:250,columnNumber:21},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:246,columnNumber:19},this),ze.jsxDEV("div",{children:[ze.jsxDEV("div",{className:"text-lg font-bold text-purple-400",children:[p.eveningEntry.satisfaction,"/5"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:253,columnNumber:21},this),ze.jsxDEV("div",{className:"text-xs text-gray-400",children:"Satisfaction"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:256,columnNumber:21},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:252,columnNumber:19},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:245,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:227,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:225,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:80,columnNumber:7},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:79,columnNumber:5},this):ze.jsxDEV("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:ze.jsxDEV("div",{className:"text-center",children:[ze.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500 mx-auto mb-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:71,columnNumber:11},this),ze.jsxDEV("p",{className:"text-gray-400",children:"Loading journal..."},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:72,columnNumber:11},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:70,columnNumber:9},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/journal/pages/JournalPage.tsx",lineNumber:69,columnNumber:7},this)}const qo=()=>{const[e,t]=i.useState("standup"),[r,s]=i.useState(new Date),[o,a]=i.useState(!1),{isMobile:n}=Lr(),[l,c]=i.useState({date:r.toISOString().split("T")[0],yesterdayAccomplishments:[""],yesterdayBlockers:[""],yesterdayLessons:"",todayPriorities:[{text:"",category:"work"}],energyLevel:7,mood:"",availableHours:8,motivationLevel:7});i.useEffect(()=>{u(r.toISOString().split("T")[0])},[r]),i.useEffect(()=>{const e=e=>{const{date:t,data:s}=e.detail;t===r.toISOString().split("T")[0]&&c(s)};return window.addEventListener("standupDataUpdated",e),()=>{window.removeEventListener("standupDataUpdated",e)}},[r]);const m=e=>{const t=new Date(r);t.setDate(t.getDate()+("next"===e?1:-1)),s(t),u(t.toISOString().split("T")[0])},u=e=>{const t=`standup_${e}`,r=localStorage.getItem(t);if(r){const e=JSON.parse(r);c(e)}else c({date:e,yesterdayAccomplishments:[""],yesterdayBlockers:[""],yesterdayLessons:"",todayPriorities:[{text:"",category:"work"}],energyLevel:7,mood:"",availableHours:8,motivationLevel:7})},d=()=>{const e=`standup_${l.date}`;localStorage.setItem(e,JSON.stringify({...l,updatedAt:(new Date).toISOString()}))},p=(e,t,r)=>{c(s=>({...s,todayPriorities:s.todayPriorities.map((s,o)=>o===e?{...s,[t]:r}:s)}))},h=({view:e,icon:r,label:s,isActive:o})=>ze.jsxDEV("button",{onClick:()=>t(e),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-mono text-sm transition-all duration-200 "+(o?"bg-ki-green text-black border border-ki-green shadow-lg shadow-ki-green/20":"bg-gray-800 text-gray-300 border border-gray-700 hover:border-ki-green/50 hover:text-ki-green"),children:[ze.jsxDEV(r,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:176,columnNumber:7},void 0),ze.jsxDEV("span",{className:n?"hidden":"block",children:s},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:177,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:168,columnNumber:5},void 0);return ze.jsxDEV("div",{className:"container mx-auto px-4 pb-24 pt-4 mobile-safe-area "+(n?"mobile-layout":""),children:[ze.jsxDEV("div",{className:"mb-6 sm:mb-8",children:[ze.jsxDEV("h1",{className:"cyber-title gradient-text-ki mb-2 text-xl sm:text-2xl",children:"DAILY STANDUP PROTOCOL"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:185,columnNumber:9},void 0),ze.jsxDEV("p",{className:"font-mono text-sm text-gray-400",children:"Mission Planning & Reflection Interface"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:186,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:184,columnNumber:7},void 0),ze.jsxDEV("div",{className:"mb-6 bg-gray-900 rounded-xl border border-gray-700 p-4",children:ze.jsxDEV("div",{className:"flex items-center justify-between",children:[ze.jsxDEV("button",{onClick:()=>m("prev"),className:"p-2 rounded-lg bg-gray-800 border border-gray-700 text-gray-300 hover:border-ki-green/50 hover:text-ki-green transition-colors",children:ze.jsxDEV(je,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:198,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:194,columnNumber:11},void 0),ze.jsxDEV("div",{className:"flex items-center gap-3",children:[ze.jsxDEV(y,{className:"h-5 w-5 text-ki-green"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:202,columnNumber:13},void 0),ze.jsxDEV("div",{className:"text-center",children:[ze.jsxDEV("div",{className:"font-mono text-ki-green text-lg",children:(N=r,N.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:204,columnNumber:15},void 0),ze.jsxDEV("div",{className:"text-xs text-gray-400 font-mono",children:r.toISOString().split("T")[0]},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:207,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:203,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:201,columnNumber:11},void 0),ze.jsxDEV("button",{onClick:()=>m("next"),className:"p-2 rounded-lg bg-gray-800 border border-gray-700 text-gray-300 hover:border-ki-green/50 hover:text-ki-green transition-colors",children:ze.jsxDEV(oe,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:217,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:213,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:193,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:192,columnNumber:7},void 0),ze.jsxDEV("div",{className:"mb-6 flex gap-2 overflow-x-auto",children:[ze.jsxDEV(h,{view:"standup",icon:j,label:"STANDUP",isActive:"standup"===e},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:224,columnNumber:9},void 0),ze.jsxDEV(h,{view:"reflection",icon:fe,label:"REFLECTION",isActive:"reflection"===e},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:225,columnNumber:9},void 0),ze.jsxDEV(h,{view:"insights",icon:z,label:"INSIGHTS",isActive:"insights"===e},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:226,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:223,columnNumber:7},void 0),ze.jsxDEV("div",{className:"space-y-6",children:["standup"===e&&ze.jsxDEV("div",{className:"bg-gray-900 rounded-xl border border-gray-700 overflow-hidden",children:[ze.jsxDEV("div",{className:"border-b border-gray-700 p-4 bg-gray-800/50",children:ze.jsxDEV("div",{className:"flex items-center justify-between",children:[ze.jsxDEV("h2",{className:"font-mono text-ki-green text-lg",children:"MORNING STANDUP"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:236,columnNumber:17},void 0),ze.jsxDEV("div",{className:"flex items-center gap-3",children:[ze.jsxDEV("div",{className:"text-xs text-gray-400 font-mono text-right hidden sm:block",children:' Use AI Chat: "Fill my standup form"'},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:238,columnNumber:19},void 0),ze.jsxDEV("button",{onClick:async()=>{a(!0);try{const e=window.SpeechRecognition||window.webkitSpeechRecognition;if(!e)return alert("Speech recognition not supported in this browser. Please use the AI Chat to fill your standup via voice."),void a(!1);const t=new e;t.continuous=!0,t.interimResults=!1,t.lang="en-US",t.onresult=e=>{const t=e.results[e.results.length-1][0].transcript;alert(`Voice captured: "${t}"\n\nFor better results, go to AI Chat and say:\n"Fill my standup form with: ${t}"`),a(!1)},t.onerror=()=>{alert("Speech recognition error. Please try the AI Chat for voice input."),a(!1)},t.start(),setTimeout(()=>{t.stop(),a(!1)},1e4)}catch(e){alert("Voice input error. Please use the AI Chat to fill your standup via voice."),a(!1)}},disabled:o,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-mono text-sm transition-all "+(o?"bg-red-600 text-white animate-pulse":"bg-ki-green text-black hover:bg-ki-green/90"),children:[ze.jsxDEV(ye,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:250,columnNumber:21},void 0),o?"RECORDING...":"VOICE INPUT"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:241,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:237,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:235,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:234,columnNumber:13},void 0),ze.jsxDEV("div",{className:"p-6 space-y-8",children:[ze.jsxDEV("div",{className:"space-y-4",children:[ze.jsxDEV("h3",{className:"font-mono text-gray-300 text-sm border-l-2 border-ki-green pl-3",children:"YESTERDAY'S MISSION REPORT"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:260,columnNumber:17},void 0),ze.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[ze.jsxDEV("div",{children:[ze.jsxDEV("label",{className:"block text-sm font-mono text-gray-400 mb-2",children:"ACCOMPLISHMENTS"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:266,columnNumber:21},void 0),ze.jsxDEV("textarea",{className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg text-gray-100 font-mono text-sm focus:outline-none focus:border-ki-green focus:ring-1 focus:ring-ki-green/50 resize-none",rows:4,placeholder:"What objectives were completed...",value:l.yesterdayAccomplishments[0]||"",onChange:e=>c(t=>({...t,yesterdayAccomplishments:[e.target.value]}))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:269,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:265,columnNumber:19},void 0),ze.jsxDEV("div",{children:[ze.jsxDEV("label",{className:"block text-sm font-mono text-gray-400 mb-2",children:"BLOCKERS & OBSTACLES"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:282,columnNumber:21},void 0),ze.jsxDEV("textarea",{className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg text-gray-100 font-mono text-sm focus:outline-none focus:border-ki-green focus:ring-1 focus:ring-ki-green/50 resize-none",rows:4,placeholder:"What prevented progress...",value:l.yesterdayBlockers[0]||"",onChange:e=>c(t=>({...t,yesterdayBlockers:[e.target.value]}))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:285,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:281,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:264,columnNumber:17},void 0),ze.jsxDEV("div",{children:[ze.jsxDEV("label",{className:"block text-sm font-mono text-gray-400 mb-2",children:"KEY LEARNINGS"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:299,columnNumber:19},void 0),ze.jsxDEV("textarea",{className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg text-gray-100 font-mono text-sm focus:outline-none focus:border-ki-green focus:ring-1 focus:ring-ki-green/50 resize-none",rows:2,placeholder:"Insights gained from yesterday's operations...",value:l.yesterdayLessons,onChange:e=>c(t=>({...t,yesterdayLessons:e.target.value}))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:302,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:298,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:259,columnNumber:15},void 0),ze.jsxDEV("div",{className:"space-y-4",children:[ze.jsxDEV("h3",{className:"font-mono text-gray-300 text-sm border-l-2 border-ki-green pl-3",children:"TODAY'S MISSION STATUS"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:317,columnNumber:17},void 0),ze.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[ze.jsxDEV("div",{children:[ze.jsxDEV("label",{className:"block text-sm font-mono text-gray-400 mb-2",children:["ENERGY LEVEL: ",l.energyLevel,"/10"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:323,columnNumber:21},void 0),ze.jsxDEV("input",{type:"range",min:"1",max:"10",value:l.energyLevel,onChange:e=>c(t=>({...t,energyLevel:parseInt(e.target.value)})),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:326,columnNumber:21},void 0),ze.jsxDEV("div",{className:"flex justify-between text-xs text-gray-500 font-mono mt-1",children:[ze.jsxDEV("span",{children:"LOW"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:338,columnNumber:23},void 0),ze.jsxDEV("span",{children:"OPTIMAL"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:339,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:337,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:322,columnNumber:19},void 0),ze.jsxDEV("div",{children:[ze.jsxDEV("label",{className:"block text-sm font-mono text-gray-400 mb-2",children:"CURRENT MOOD"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:344,columnNumber:21},void 0),ze.jsxDEV("select",{className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg text-gray-100 font-mono text-sm focus:outline-none focus:border-ki-green focus:ring-1 focus:ring-ki-green/50",value:l.mood,onChange:e=>c(t=>({...t,mood:e.target.value})),children:[ze.jsxDEV("option",{value:"",children:"SELECT MOOD"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:355,columnNumber:23},void 0),ze.jsxDEV("option",{value:"optimistic",children:" OPTIMISTIC"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:356,columnNumber:23},void 0),ze.jsxDEV("option",{value:"focused",children:" FOCUSED"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:357,columnNumber:23},void 0),ze.jsxDEV("option",{value:"energetic",children:" ENERGETIC"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:358,columnNumber:23},void 0),ze.jsxDEV("option",{value:"calm",children:" CALM"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:359,columnNumber:23},void 0),ze.jsxDEV("option",{value:"neutral",children:" NEUTRAL"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:360,columnNumber:23},void 0),ze.jsxDEV("option",{value:"tired",children:" TIRED"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:361,columnNumber:23},void 0),ze.jsxDEV("option",{value:"stressed",children:" STRESSED"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:362,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:347,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:343,columnNumber:19},void 0),ze.jsxDEV("div",{children:[ze.jsxDEV("label",{className:"block text-sm font-mono text-gray-400 mb-2",children:["AVAILABLE HOURS: ",l.availableHours,"h"]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:367,columnNumber:21},void 0),ze.jsxDEV("input",{type:"range",min:"1",max:"16",value:l.availableHours,onChange:e=>c(t=>({...t,availableHours:parseInt(e.target.value)})),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:370,columnNumber:21},void 0),ze.jsxDEV("div",{className:"flex justify-between text-xs text-gray-500 font-mono mt-1",children:[ze.jsxDEV("span",{children:"1h"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:382,columnNumber:23},void 0),ze.jsxDEV("span",{children:"16h"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:383,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:381,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:366,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:321,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:316,columnNumber:15},void 0),ze.jsxDEV("div",{className:"space-y-4",children:[ze.jsxDEV("div",{className:"flex items-center justify-between",children:[ze.jsxDEV("h3",{className:"font-mono text-gray-300 text-sm border-l-2 border-ki-green pl-3",children:"TODAY'S PRIORITY OBJECTIVES"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:392,columnNumber:19},void 0),ze.jsxDEV("button",{onClick:()=>{c(e=>({...e,todayPriorities:[...e.todayPriorities,{text:"",category:"work"}]}))},className:"px-3 py-1 bg-ki-green text-black rounded font-mono text-xs hover:bg-ki-green/90 transition-colors",children:"+ ADD"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:395,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:391,columnNumber:17},void 0),ze.jsxDEV("div",{className:"space-y-3",children:l.todayPriorities.map((e,t)=>ze.jsxDEV("div",{className:"flex gap-3",children:[ze.jsxDEV("div",{className:"flex-1",children:ze.jsxDEV("input",{type:"text",className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg text-gray-100 font-mono text-sm focus:outline-none focus:border-ki-green focus:ring-1 focus:ring-ki-green/50",placeholder:`Priority ${t+1}: Define objective...`,value:e.text,onChange:e=>p(t,"text",e.target.value)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:407,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:406,columnNumber:23},void 0),ze.jsxDEV("select",{className:"px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg text-gray-100 font-mono text-sm focus:outline-none focus:border-ki-green focus:ring-1 focus:ring-ki-green/50",value:e.category,onChange:e=>p(t,"category",e.target.value),children:[ze.jsxDEV("option",{value:"work",children:"WORK"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:420,columnNumber:25},void 0),ze.jsxDEV("option",{value:"personal",children:"PERSONAL"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:421,columnNumber:25},void 0),ze.jsxDEV("option",{value:"health",children:"HEALTH"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:422,columnNumber:25},void 0),ze.jsxDEV("option",{value:"learning",children:"LEARNING"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:423,columnNumber:25},void 0),ze.jsxDEV("option",{value:"other",children:"OTHER"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:424,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:415,columnNumber:23},void 0)]},t,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:405,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:403,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:390,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:257,columnNumber:13},void 0),ze.jsxDEV("div",{className:"border-t border-gray-700 p-4 bg-gray-800/50",children:ze.jsxDEV("div",{className:"flex justify-end gap-3",children:[ze.jsxDEV("button",{onClick:d,className:"px-6 py-3 bg-gray-700 text-gray-300 rounded-lg font-mono text-sm hover:bg-gray-600 transition-colors",children:"SAVE DRAFT"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:435,columnNumber:17},void 0),ze.jsxDEV("button",{onClick:()=>{d(),alert(" Mission initiated! Your standup has been saved and you're ready to tackle the day!")},className:"px-6 py-3 bg-ki-green text-black rounded-lg font-mono text-sm hover:bg-ki-green/90 transition-colors",children:"INITIATE MISSION "},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:441,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:434,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:433,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:232,columnNumber:11},void 0),"reflection"===e&&ze.jsxDEV("div",{className:"bg-gray-900 rounded-xl border border-gray-700 p-6",children:[ze.jsxDEV("h2",{className:"font-mono text-ki-green text-lg mb-6",children:"EVENING REFLECTION"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:457,columnNumber:13},void 0),ze.jsxDEV("div",{className:"text-center text-gray-400 font-mono",children:"Evening reflection interface will be implemented next..."},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:458,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:456,columnNumber:11},void 0),"insights"===e&&ze.jsxDEV("div",{className:"bg-gray-900 rounded-xl border border-gray-700 p-6",children:[ze.jsxDEV("h2",{className:"font-mono text-ki-green text-lg mb-6",children:"AI INSIGHTS"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:466,columnNumber:13},void 0),ze.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[ze.jsxDEV("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-600",children:[ze.jsxDEV("h3",{className:"font-mono text-ki-green text-sm mb-2",children:" PRODUCTIVITY ANALYSIS"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:469,columnNumber:17},void 0),ze.jsxDEV("p",{className:"text-gray-300 text-sm",children:"Score: 7.8/10 (+0.5 vs avg)"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:472,columnNumber:17},void 0),ze.jsxDEV("p",{className:"text-gray-400 text-xs",children:"Goal Progress: 3 objectives advanced"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:473,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:468,columnNumber:15},void 0),ze.jsxDEV("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-600",children:[ze.jsxDEV("h3",{className:"font-mono text-ki-green text-sm mb-2",children:" AI RECOMMENDATIONS"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:477,columnNumber:17},void 0),ze.jsxDEV("ul",{className:"text-gray-300 text-xs space-y-1",children:[ze.jsxDEV("li",{children:" Schedule deep work during 10-12 AM"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:481,columnNumber:19},void 0),ze.jsxDEV("li",{children:" Break large tasks into 25-min chunks"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:482,columnNumber:19},void 0),ze.jsxDEV("li",{children:" Your focus peaks after morning exercise"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:483,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:480,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:476,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:467,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:465,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:230,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/daily-journal/pages/DailyJournalPage.tsx",lineNumber:182,columnNumber:5},void 0);var N};function Qo(){const e=c(),[t]=i.useState(!0);return ze.jsxDEV("div",{className:"h-screen flex flex-col bg-gray-50 dark:bg-gray-900",children:[ze.jsxDEV("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:ze.jsxDEV("div",{className:"flex items-center gap-3",children:[ze.jsxDEV("button",{onClick:()=>e(-1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors","aria-label":"Go back",children:ze.jsxDEV(ke,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/ai-chat/pages/ChatPage.tsx",lineNumber:30,columnNumber:15},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/ai-chat/pages/ChatPage.tsx",lineNumber:25,columnNumber:13},this),ze.jsxDEV("div",{className:"flex items-center gap-2",children:[ze.jsxDEV(Ee,{className:"w-6 h-6 text-amber-500"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/ai-chat/pages/ChatPage.tsx",lineNumber:33,columnNumber:15},this),ze.jsxDEV("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"AI Chat - Security Notice"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/ai-chat/pages/ChatPage.tsx",lineNumber:34,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/ai-chat/pages/ChatPage.tsx",lineNumber:32,columnNumber:13},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/ai-chat/pages/ChatPage.tsx",lineNumber:24,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/ai-chat/pages/ChatPage.tsx",lineNumber:23,columnNumber:9},this),ze.jsxDEV("div",{className:"flex-1 flex items-center justify-center p-6",children:ze.jsxDEV("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:ze.jsxDEV("div",{className:"text-center",children:[ze.jsxDEV("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:ze.jsxDEV(D,{className:"w-8 h-8 text-amber-600 dark:text-amber-400"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/ai-chat/pages/ChatPage.tsx",lineNumber:46,columnNumber:17},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/ai-chat/pages/ChatPage.tsx",lineNumber:45,columnNumber:15},this),ze.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"AI Chat Temporarily Disabled"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/ai-chat/pages/ChatPage.tsx",lineNumber:49,columnNumber:15},this),ze.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"For security reasons, AI chat functionality has been disabled in this public deployment. API keys cannot be safely exposed in client-side applications."},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/ai-chat/pages/ChatPage.tsx",lineNumber:53,columnNumber:15},this),ze.jsxDEV("div",{className:"space-y-3 text-sm text-gray-500 dark:text-gray-500",children:[ze.jsxDEV("p",{children:" All other app features are fully functional"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/ai-chat/pages/ChatPage.tsx",lineNumber:59,columnNumber:17},this),ze.jsxDEV("p",{children:" Your data remains private and secure"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/ai-chat/pages/ChatPage.tsx",lineNumber:60,columnNumber:17},this),ze.jsxDEV("p",{children:" Todo lists, weight tracking, and notes work offline"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/ai-chat/pages/ChatPage.tsx",lineNumber:61,columnNumber:17},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/ai-chat/pages/ChatPage.tsx",lineNumber:58,columnNumber:15},this),ze.jsxDEV("button",{onClick:()=>e("/dashboard"),className:"mt-6 w-full bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Continue to Dashboard"},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/ai-chat/pages/ChatPage.tsx",lineNumber:64,columnNumber:15},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/ai-chat/pages/ChatPage.tsx",lineNumber:44,columnNumber:13},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/ai-chat/pages/ChatPage.tsx",lineNumber:43,columnNumber:11},this)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/ai-chat/pages/ChatPage.tsx",lineNumber:42,columnNumber:9},this)]},void 0,!0,{fileName:"C:/AppProjects/PerfectZenkai/src/modules/ai-chat/pages/ChatPage.tsx",lineNumber:21,columnNumber:7},this)}new class{constructor(e){t(this,"apiKey"),t(this,"model"),t(this,"voice"),t(this,"speed"),t(this,"audioCache",new Map),t(this,"currentAudio",null),this.apiKey=e.apiKey,this.model=e.model||"tts-1",this.voice=e.voice||"alloy",this.speed=e.speed||1}async textToSpeech(e){try{const t=this.getCacheKey(e);if(this.audioCache.has(t))return{success:!0,audioUrl:this.audioCache.get(t)};if(!e.trim())return{success:!1,error:"No text provided"};if(!this.apiKey)return{success:!1,error:"OpenAI API key not configured"};const r=this.cleanTextForTTS(e);if(r.length>4096)return{success:!1,error:"Text too long (max 4096 characters)"};const s=await fetch("https://api.openai.com/v1/audio/speech",{method:"POST",headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json"},body:JSON.stringify({model:this.model,input:r,voice:this.voice,speed:this.speed,response_format:"mp3"})});if(!s.ok){const e=await s.text();throw new Error(`TTS API error: ${s.status} - ${e}`)}const o=await s.arrayBuffer(),i=new Blob([o],{type:"audio/mpeg"}),a=URL.createObjectURL(i);return this.audioCache.set(t,a),{success:!0,audioUrl:a,audioBuffer:o}}catch(t){return{success:!1,error:t instanceof Error?t.message:"TTS generation failed"}}}async speak(e){try{this.stop();const t=await this.textToSpeech(e);if(!t.success||!t.audioUrl)return t;const r=new Audio(t.audioUrl);return this.currentAudio=r,new Promise(e=>{r.onended=()=>{this.currentAudio=null,e(t)},r.onerror=()=>{this.currentAudio=null,e({success:!1,error:"Audio playback failed"})},r.play().catch(t=>{this.currentAudio=null,e({success:!1,error:`Playback error: ${t.message}`})})})}catch(t){return{success:!1,error:t instanceof Error?t.message:"Speech playback failed"}}}stop(){this.currentAudio&&(this.currentAudio.pause(),this.currentAudio.currentTime=0,this.currentAudio=null)}isPlaying(){return null!==this.currentAudio&&!this.currentAudio.paused}cleanTextForTTS(e){return e.replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*(.*?)\*/g,"$1").replace(/`(.*?)`/g,"$1").replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/\s+/g," ").trim().replace(/[^\w\s\.,!?;:()\-'"]/g,"")}getCacheKey(e){const t=this.cleanTextForTTS(e);return`${this.model}-${this.voice}-${this.speed}-${btoa(t).substring(0,32)}`}clearCache(){this.audioCache.forEach(e=>{URL.revokeObjectURL(e)}),this.audioCache.clear()}updateConfig(e){e.model&&(this.model=e.model),e.voice&&(this.voice=e.voice),void 0!==e.speed&&(this.speed=e.speed),e.apiKey&&(this.apiKey=e.apiKey)}getAvailableVoices(){return["alloy","echo","fable","onyx","nova","shimmer"]}getConfig(){return{apiKey:this.apiKey,model:this.model,voice:this.voice,speed:this.speed}}}({apiKey:"",model:"tts-1",voice:"alloy",speed:1});const Ko=[...cr,{path:"/",element:ze.jsxDEV(nr,{children:ze.jsxDEV(Cr,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/routes.tsx",lineNumber:24,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/routes.tsx",lineNumber:23,columnNumber:7},void 0),children:[{index:!0,element:ze.jsxDEV(wo,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/routes.tsx",lineNumber:28,columnNumber:31},void 0)},{path:"dashboard",element:ze.jsxDEV(wo,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/routes.tsx",lineNumber:29,columnNumber:37},void 0)},{path:"health",element:ze.jsxDEV(Rs,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/routes.tsx",lineNumber:30,columnNumber:34},void 0)},{path:"todo",element:ze.jsxDEV(po,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/routes.tsx",lineNumber:31,columnNumber:32},void 0)},{path:"goals",element:ze.jsxDEV(uo,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/routes.tsx",lineNumber:32,columnNumber:33},void 0)},{path:"journal",element:ze.jsxDEV(Jo,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/routes.tsx",lineNumber:33,columnNumber:35},void 0)},{path:"daily-standup",element:ze.jsxDEV(qo,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/routes.tsx",lineNumber:34,columnNumber:41},void 0)},{path:"notes",element:ze.jsxDEV(fo,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/routes.tsx",lineNumber:35,columnNumber:33},void 0)},{path:"chat",element:ze.jsxDEV(Qo,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/app/routes.tsx",lineNumber:36,columnNumber:32},void 0)}]}];function Yo(){return m(Ko)}xt().catch(e=>{}),(async()=>{await wr.getState().loadWeights(),await wr.getState().loadActiveGoal()})(),(async()=>{await ho.getState().hydrate()})();Qe.createRoot(document.getElementById("root")).render(ze.jsxDEV(u.StrictMode,{children:ze.jsxDEV(d,{basename:"/",children:ze.jsxDEV(Yo,{},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/main.tsx",lineNumber:37,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/main.tsx",lineNumber:36,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/AppProjects/PerfectZenkai/src/main.tsx",lineNumber:35,columnNumber:3},void 0));const Xo=Object.freeze(Object.defineProperty({__proto__:null,initializeTasksDatabase:Tt,initializeTasksStore:async()=>{await Gs.getState().hydrate()},tasksRepo:Lt,useTasksStore:Gs},Symbol.toStringTag,{value:"Module"}));export{sr as A,Qt as B,Kt as C,ir as I,ar as L,Ir as W,tr as a,Yt as b,Xt as c,er as d,or as e,wr as f,Vr as g,Sr as h,Ur as i,ze as j,Tr as k,Wr as l,Or as m,Ao as n,Rr as o,zt as u};
//# sourceMappingURL=index-BToIhzLB.js.map
