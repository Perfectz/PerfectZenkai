{"version":3,"mappings":"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","names":["React","require$$0","REACT_ELEMENT_TYPE","Symbol","for","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_OFFSCREEN_TYPE","MAYBE_ITERATOR_SYMBOL","iterator","ReactSharedInternals","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","error","format","_len2","arguments","length","args","Array","_key2","level","stack","ReactDebugCurrentFrame","getStackAddendum","concat","argsWithFormat","map","item","String","unshift","Function","prototype","apply","call","console","printWarning","REACT_MODULE_REFERENCE","getContextName","type","displayName","getComponentNameFromType","tag","name","$$typeof","_context","outerType","innerType","wrapperName","functionName","getWrappedName","render","outerName","lazyComponent","payload","_payload","init","_init","x","prevLog","prevInfo","prevWarn","prevError","prevGroup","prevGroupCollapsed","prevGroupEnd","assign","Object","disabledDepth","disabledLog","__reactDisabledLog","prefix","ReactCurrentDispatcher","describeBuiltInComponentFrame","source","ownerFn","Error","match","trim","componentFrameCache","reentry","PossiblyWeakMap","WeakMap","Map","describeNativeComponentFrame","fn","construct","control","frame","get","previousDispatcher","previousPrepareStackTrace","prepareStackTrace","current","log","info","warn","group","groupCollapsed","groupEnd","props","configurable","enumerable","value","writable","defineProperties","disableLogs","Fake","defineProperty","set","Reflect","sample","s","sampleLines","split","controlLines","c","_frame","replace","includes","reenableLogs","syntheticFrame","describeUnknownElementTypeFrameInDEV","isReactComponent","hasOwnProperty","loggedTypeFailures","setCurrentlyValidatingElement","element","owner","_owner","_source","setExtraStackFrame","isArrayImpl","isArray","a","testStringCoercion","checkKeyStringCoercion","e","willCoercionThrow","toStringTag","constructor","typeName","specialPropKeyWarningShown","specialPropRefWarningShown","didWarnAboutStringRefs","ReactCurrentOwner","RESERVED_PROPS","key","ref","__self","__source","jsxDEV","config","maybeKey","self","propName","getter","getOwnPropertyDescriptor","isReactWarning","hasValidKey","hasValidRef","stateNode","componentName","warnIfStringRefCannotBeAutoConverted","defaultProps","warnAboutAccessingKey","defineKeyPropWarningGetter","warnAboutAccessingRef","defineRefPropWarningGetter","_store","freeze","ReactElement","propTypesMisspellWarningShown","ReactCurrentOwner$1","ReactDebugCurrentFrame$1","setCurrentlyValidatingElement$1","isValidElement","object","getDeclarationErrorAddendum","ownerHasKeyUseWarning","validateExplicitKey","parentType","validated","currentComponentErrorInfo","parentName","getCurrentComponentErrorInfo","childOwner","validateChildKeys","node","i","child","iteratorFn","maybeIterable","maybeIterator","getIteratorFn","entries","step","next","done","validatePropTypes","propTypes","typeSpecs","values","location","has","bind","typeSpecName","error$1","err","ex","message","checkPropTypes","PropTypes","getDefaultProps","isReactClassApproved","didWarnAboutKeySpread","jsxDEV$1","isStaticChildren","validType","getModuleId","isValidElementType","keys","typeString","sourceInfo","fileName","lineNumber","getSourceInfoErrorAddendum","children","filter","k","beforeExample","join","fragment","validateFragmentProps","reactJsxDevRuntime_development","Fragment","jsxDevRuntimeModule","exports","m","o","usingClientEntryPoint","createRoot","client","hydrateRoot","h","createJSONStorage","getStorage","options","storage","_e","getItem","_a","parse","str2","JSON","str","Promise","then","setItem","newValue","stringify","removeItem","toThenable","input","result","onFulfilled","_onRejected","this","_onFulfilled","catch","onRejected","persist","baseOptions","api","localStorage","serialize","deserialize","partialize","state","version","merge","persistedState","currentState","hasHydrated","hydrationListeners","Set","finishHydrationListeners","thenableSerialize","errorInSync","thenable","serializedValue","savedSetState","setState","configResult","stateFromStorage","hydrate","forEach","cb","postRehydrationCallback","onRehydrateStorage","storageValue","deserializedStorageValue","migrate","migratedState","_a2","setOptions","newOptions","clearStorage","getOptions","rehydrate","onHydrate","add","delete","onFinishHydration","oldImpl","getInitialState","_b","migrationResult","migrated","skipHydration","newImpl","keyVaultService","__publicField","getSecret","secretName","cached","cache","Date","now","timestamp","CACHE_DURATION","envValue","getLocalEnvVar","response","fetch","API_BASE_URL","method","headers","body","ok","status","statusText","data","json","fallbackValue","envVarName","__vite_import_meta_env__","getSupabaseConfig","url","anonKey","all","getOpenAIKey","apiKey","clearCache","clear","getConfigSource","supabaseClient","getSupabaseClient","async","supabaseClient$1","createClient","auth","autoRefreshToken","persistSession","detectSessionInUrl","initializeSupabase","supabase","LOG_LEVELS","currentLogLevel","shouldLog","debug","supabaseAuth","getSupabase","isSupabaseAvailable","getUnavailableError","code","handleNetworkError","errorObj","register","username","email","password","user","existingUser","checkError","from","select","eq","maybeSingle","authData","authError","signUp","emailRedirectTo","id","login","signInWithPassword","profile","single","user_metadata","logError","loginWithUsername","getCurrentUser","timeoutPromise","_","reject","setTimeout","getCurrentUserOperation","authUser","getUser","profilePromise","profileTimeout","race","logout","signOut","onAuthStateChange","_callback","getSession","session","localAuthService","hashPassword","hash","charCodeAt","toString","getStoredUsers","users","USERS_KEY","saveUsers","generateUserId","Math","random","substr","find","newUser","passwordHash","createdAt","toISOString","push","credentials","storedUser","token","CURRENT_USER_KEY","loginTime","currentSession","isTokenValid","getAllUsernames","initializationPromise","initializeSupabaseClient","getSupabaseClientSync","WeightDatabase","Dexie","userId","super","stores","weights","goals","db","initializeWeightDatabase","close","db$2","getDatabase","supabaseWeightRepo","addWeight","entry","insert","user_id","date_iso","dateISO","kg","updateData","updateError","update","deleteWeight","getAllWeights","order","ascending","getWeightById","updateWeight","updates","clearAll","weightRepo","database","existingEntry","where","equals","first","updatedEntry","put","newEntry","uuidv4","orderBy","reverse","toArray","existing","hybridWeightRepo","localResult","cloudResult","localEntry","entryToCreate","createError","localError","syncData","synced","errors","syncedCount","errorCount","cloudWeights","localWeights","localWeightsMap","w","cloudWeight","localWeight","supabaseWeightGoalRepo","addGoal","goal","is_active","goal_type","goalType","target_weight","targetWeight","target_date","targetDate","isActive","created_at","updatedAt","updated_at","updateGoal","getActiveGoal","deactivateGoal","getAllGoals","weightGoalRepo","existingGoals","existingGoal","newGoal","startingWeight","updatedGoal","hybridWeightGoalRepo","TasksDatabase","todos","templates","initializeTasksDatabase","db$1","supabaseTasksRepo","addTodo","todo","todoData","todoError","text","summary","priority","category","due_date","dueDate","subtasks","subtaskData","subtaskError","subtask","todo_id","description","descriptionFormat","points","dueDateTime","completedAt","updateTodo","deleteTodo","getAllTodos","todosError","todoIds","subtasksData","subtasksError","in","subtasksByTodo","reduce","acc","addSubtask","todoId","updateSubtask","subtaskId","deleteSubtask","tasksRepo","newTodo","getTodoById","getTodosByCategory","getTodosByPriority","getOverdueTodos","today","below","and","subtaskText","newSubtask","updatedSubtasks","addTemplate","template","newTemplate","updateTemplate","deleteTemplate","getAllTemplates","getTemplateById","createTodoFromTemplate","templateId","st","hybridTasksRepo","cloudSuccess","localTodo","todoToCreate","filtered","some","todo2","todo1","removeDuplicateContent","todoMap","existingUpdated","getTime","deduplicateTodos","cloudTodo","cloudTodos","localTodos","localTodosMap","t","cloudUpdated","NotesDatabase","notes","supabaseNotesRepo","addNote","note","title","content","updateNote","deleteNote","getAllNotes","getNoteById","notesRepo","newNote","hybridNotesRepo","initializeUserDatabases","initializeNotesDatabase","sanitizeUserId","authStateChangeProvidedUser","useAuthStore","create","isAuthenticated","isLoading","isCheckingAuth","lastAuthCheck","retryCount","supabaseUser","supabaseError","operation","maxAttempts","delay","lastError","attempt","backoffDelay","pow","resolve","withRetry","errorMessage","sanitizedUserId","dbNames","dbName","deleteReq","indexedDB","deleteDatabase","onsuccess","onerror","clearUserDatabases","authService","clearError","checkAuthStatus","validateSessionIntegrity","logoutError","initializeTasksStore","__vitePreload","index","__VITE_PRELOAD__","newRetryCount","setUser","forceLogout","getState","isAuthStateChangeInProgress","cn","inputs","twMerge","clsx","store","Button","React.forwardRef","forwardRef","className","variant","size","jsxDevRuntimeExports","default","destructive","outline","secondary","ghost","link","sm","lg","icon","columnNumber","Card","CardHeader","CardTitle","CardDescription","CardContent","alertVariants","cva","variants","defaultVariants","Alert","role","AlertDescription","Input","Label","ProtectedRoute","hasCheckedAuth","useRef","authCheckTimeout","setAuthCheckTimeout","useState","stableCheckAuthStatus","useCallback","timeout","useEffect","clearTimeout","Loader2","onClick","Navigate","to","SimpleLoginPage","lazy","import","authRoutes","path","NavigationBar","NavItem","Icon","label","NavLink","User","confirm","LogOut","Home","BarChart3","CheckSquare","Target","Calendar","MessageCircle","GlobalFab","OfflineBanner","isOnline","setIsOnline","navigator","onLine","handleOnline","handleOffline","window","addEventListener","removeEventListener","useOnline","WifiOff","Sheet","open","onOpenChange","_onOpenChange","SheetContent","side","basePosition","SheetHeader","SheetTitle","SheetDescription","INSTALL_DECLINED_KEY","FIRST_VISIT_KEY","InstallSheet","showSheet","setShowSheet","isInstallable","showInstallPrompt","declineInstallPrompt","deferredPrompt","setDeferredPrompt","setIsInstallable","isInstallPromptDeclined","setIsInstallPromptDeclined","handleBeforeInstallPrompt","preventDefault","handleAppInstalled","prompt","userChoice","outcome","clearDeclineState","useDeferredInstallPrompt","timer","handleLater","Download","X","ForceInstallButton","isVisible","setIsVisible","installPrompt","setInstallPrompt","serviceWorker","ToastContext","React.createContext","createContext","ToastProvider","toasts","setToasts","React.useState","addToast","React.useCallback","toast","newToast","prev","duration","removeToast","Provider","ToastContainer","ToastComponent","onRemove","React.useEffect","success","CheckCircle","colors","iconColor","XCircle","warning","AlertTriangle","Info","AuthDebugger","AppLayout","Outlet","useWeightStore","activeGoal","isGoalLoading","goalError","existingIndex","findIndex","updatedWeights","sort","b","loadWeights","syncError","clearWeights","refreshWeights","setGoal","loadActiveGoal","useMealStore","meals","analytics","suggestions","isAnalyticsLoading","isSuggestionsLoading","loadMeals","addMeal","mealInput","newMeal","crypto","randomUUID","foods","food","photos","nutrition","calories","sum","protein","macros","carbs","fat","fiber","context","voiceNotes","tags","mood","hunger","satisfaction","currentMeals","updateMeal","mealUpdate","updatedMeals","meal","deleteMeal","filteredMeals","loadAnalytics","totalMeals","totalCalories","averageCalories","weekAgo","monthAgo","weeklyMeals","monthlyMeals","weeklyCalories","monthlyCalories","totalProtein","totalCarbs","totalFat","totalMacros","macroBalance","mealFrequency","freq","streak","loadSuggestions","byTimeOfDay","recentFoods","popularFoods","customFoods","useWeightActions","addWeightStore","updateWeightStore","deleteWeightStore","refreshWeightsStore","React.useContext","useContext","useToast","weightLbs","toFixed","dateStr","toLocaleDateString","refreshError","weight","date","badgeVariants","Badge","kgToLbs","lbsToKg","lbs","useTouchFeedback","haptic","scale","disabled","elementRef","isPressed","setIsPressed","handleTouchStart","vibrate","style","transform","transition","handleTouchEnd","handleTouchCancel","passive","useResponsiveBreakpoint","breakpoint","setBreakpoint","isGalaxyS24Ultra","setIsGalaxyS24Ultra","updateBreakpoint","width","innerWidth","isMobile","isTablet","isDesktop","WeightEntryForm","setDate","setWeight","setErrors","isExpanded","setIsExpanded","submitButtonFeedback","expandButtonFeedback","handleSubmit","newErrors","weightNum","parseFloat","isNaN","validateForm","todayISO","isToday","Scale","min","max","placeholder","onChange","target","onKeyPress","Plus","htmlFor","yesterday","getDate","TrendingUp","Progress","percentage","sizeClasses","md","radius","strokeWidth","circumference","PI","strokeDashoffset","svgSize","height","cx","cy","r","stroke","fill","x1","y1","x2","y2","offset","stopColor","strokeDasharray","strokeLinecap","round","background","boxShadow","WeightEditForm","onCancel","onSave","newKg","abs","handleKeyPress","hasChanges","onSubmit","autoFocus","Save","WeightRow","longPressTimer","setLongPressTimer","isEditing","setIsEditing","showActions","setShowActions","formatDate","weekday","month","day","year","handleLongPress","handleCancelEdit","handleSaveEdit","swipeHandlers","useSwipeable","onSwipedLeft","preventScrollOnSwipe","trackMouse","onTouchStart","onTouchEnd","onMouseDown","onMouseUp","onMouseLeave","stopPropagation","Edit","Trash2","WeightPeriodView","period","onClose","periodWeights","daysAgo","getPeriodWeights","sortedByDate","firstWeight","lastWeight","change","averageWeight","entryCount","firstDate","lastDate","getPeriodAnalytics","Minus","TrendingDown","getTrendIcon","WeightAnalytics","goalWeight","selectedPeriod","setSelectedPeriod","effectiveGoalWeight","effectiveGoalType","sortedWeights","currentWeight","startWeight","totalChange","thirtyDaysAgo","recentWeights","monthlyChange","sevenDaysAgo","weeklyWeights","weeklyChange","goalProgress","remaining","achieved","checkDate","totalEntries","getAnalytics","getTrendColor","WeightGoalForm","formData","setFormData","handleDeactivate","getGoalIcon","getGoalTypeLabel","progress","currentChange","calculateProgress","Edit3","setHours","goalData","copyExifWithoutOrientation","getApp1Segment","Blob","slice","FileReader","DataView","getUint16","getUint32","f","l","setUint16","readAsArrayBuffer","UZIP","bin","readUshort","readUint","Uint8Array","u","d","A","g","p","_readLocal","readUTF8","csize","buffer","inflateRaw","F","inflate","byteOffset","deflate","floor","deflateRaw","adler","encode","writeUint","writeUshort","_noNeed","crc","cpr","usize","file","sizeUTF8","_writeHeader","pop","toLowerCase","indexOf","writeUTF8","table","Uint32Array","readASCII","fromCharCode","writeASCII","pad","decodeURIComponent","U","_goodIndex","_hash","_putsE","_copyExact","lits","strt","v","y","E","_writeBlock","_bestMatch","B","of0","lhst","C","df0","dhst","exb","dxb","_howLong","saved","_putsF","getTrees","contSize","fltree","fdtree","ltree","dtree","itree","ihst","I","makeCodes","revCodes","Q","ordr","_codeTiny","M","S","R","T","_writeLit","O","P","H","L","_hufTree","_lenCodes","getSecond","nonZero","lit","setDepth","restrictDepth","_bitsF","_bitsE","_decodeTiny","codes2map","_get17","_check","flmap","fdmap","imap","lmap","dmap","ttree","_copyOut","ldef","ddef","bl_count","next_code","rev15","_get25","Uint16Array","pushV","__proto__","UPNG","nextZero","readBytes","decodeImage","_getBPP","ceil","ctype","depth","tabs","tRNS","PLTE","_decompress","interlace","CgBI","_inflate","_filterZero","N","n","Z","W","J","V","D","q","j","K","z","$","Y","_paeth","_IHDR","compress","_copyTile","decode","frames","num_frames","num_plays","rect","dispose","blend","toRGBA8","acTL","_bin","addErr","dither","Int16Array","_main","sRGB","pHYs","iCCP","pako","plte","cimg","loop","compressPNG","bpl","img","bpp","_prepareDiff","_updateFrame","quantize","byteLength","est","rgba","inds","abuf","_filterLine","getKDtree","getNearest","ind","left","planeDst","right","i0","i1","bst","tdst","stats","estats","splitPixels","eMq255","eMq","vecDot","multVec","sqrt","dot","sml","Cov","encodeLL","toArrayBuffer","getContext","getImageData","ArrayBuffer","set16","set32","setUint32","seek","convert","_dly","toBlob","CHROME","FIREFOX","DESKTOP_SAFARI","IE","IOS","ETC","WorkerGlobalScope","cordova","require","CustomFile","getOriginalSymbol","File","CustomFileReader","getFilefromDataUrl","globalThis","atob","lastModified","getDataUrlFromFile","onload","readAsDataURL","loadImage","Image","src","getBrowserName","cachedResult","userAgent","test","document","documentMode","approximateBelowMaximumCanvasSizeOfBrowser","getNewCanvasAndCtx","OffscreenCanvas","createElement","drawImageInCanvas","fillStyle","fillRect","drawImage","isIOS","platform","drawFileInCanvas","$Try_2_Post","fileType","$Try_2_Catch","$Try_3_Catch","MOBILE_SAFARI","createImageBitmap","canvasToFile","$If_4","$If_5","$If_6","convertToBlob","quality","toDataURL","cleanupCanvasMemory","isAutoOrientationInBrowser","getExifOrientation","handleMaxWidthOrHeight","maxWidthOrHeight","isFinite","followExifOrientation","incProgress","signal","aborted","reason","onProgress","setProgress","maxIteration","maxSizeMB","exifOrientation","$If_2","initialQuality","$Loop_3","$Loop_3_exit","alwaysKeepResolution","imageCompression","Number","POSITIVE_INFINITY","useWebWorker","Worker","$Try_1_Catch","libURL","URL","createObjectURL","terminate","postMessage","imageCompressionLibUrl","compressOnWebWorker","preserveExif","PhotoUpload","onPhotoCapture","isProcessing","setIsProcessing","isCameraOpen","setIsCameraOpen","fileInputRef","videoRef","canvasRef","streamRef","compressImage","compressedFile","reader","stopCamera","getTracks","track","stop","capturePhoto","canvas","video","videoWidth","videoHeight","blob","compressedImageData","alert","autoPlay","playsInline","muted","stream","mediaDevices","getUserMedia","facingMode","srcObject","play","Camera","click","Upload","accept","event","files","startsWith","NUTRITION_DATABASE","commonPortions","eggs","pasta","carrots","hamburger","apple","banana","orange","NutritionValidator","validateFoods","corrections","totalConfidence","validatedFoods","validation","validateSingleFood","isValid","confidence","overallConfidence","normalizedName","nutritionData","findNutritionData","validatePortion","portion","foodName","foodWords","word","normalizedPortion","common","normalizedCommon","getNutritionData","estimateCalories","portionMultiplier","getPortionMultiplier","numberMatch","baseNumber","FoodAnalysisAgent","maxTokens","temperature","nutritionValidator","analyzePhoto","imageData","retries","startTime","callOpenAIVision","analysisTime","estimates","estimate","estimateCaloriesForFood","validateNutrition","model","messages","image_url","max_tokens","Authorization","choices","parsed","MealEntryForm","mealType","setMealType","hour","getHours","setFoodName","setCalories","showPhotoUpload","setShowPhotoUpload","isAnalyzing","setIsAnalyzing","analysisResult","setAnalysisResult","analysisError","setAnalysisError","buttonFeedback","caloriesNum","quantity","unit","getMealTypeIcon","getMealTypeColor","handleRetryAnalysis","UtensilsCrossed","Clock","agent","primaryFood","estimatedCalories","charAt","toUpperCase","MealAnalytics","dailyCalorieGoal","todayCalories","toDateString","calorieProgress","Flame","count","Textarea","EXERCISE_LIBRARY","muscleGroups","equipment","getExerciseTypeColor","useWorkoutStore","workouts","exercises","loadWorkouts","loadExercises","mappedData","instructions","muscle_groups","isCustom","is_custom","loadTemplates","totalWorkouts","totalDuration","sortedWorkouts","currentStreak","longestStreak","tempStreak","workoutDates","workout","workoutDate","prevWorkoutDate","intensityValues","light","moderate","intense","avgIntensity","intensity","exerciseTypeBreakdown","exerciseType","favoriteExerciseType","weekStart","getDay","weeklyProgress","monthStart","monthlyWorkouts","monthlyStats","averageIntensity","weeklyGoal","loadGoals","addWorkout","workoutData","met","cardio","strength","flexibility","sports","other","calculateCalories","updateWorkout","deleteWorkout","addExercise","exerciseData","dbData","updateExercise","dbUpdates","deleteExercise","templateData","deleteGoal","initializeExerciseLibrary","existingNames","newExercises","exercisesToInsert","exercise","WorkoutEntryForm","selectedExercise","setSelectedExercise","customExerciseName","setCustomExerciseName","setExerciseType","setDuration","setIntensity","setNotes","sets","setSets","reps","setReps","distance","setDistance","selectedExerciseData","currentExerciseType","Dumbbell","exerciseName","finalExerciseType","exerciseId","parseInt","required","Zap","WorkoutAnalytics","Activity","weeklyProgressPercent","DailyCounter","todayData","setTodayData","punches","kicks","total","weeklyTotal","setWeeklyTotal","setStreak","loadTodayData","loadWeeklyStats","newData","weekTotal","dayData","updateCount","increment","incrementButtons","resetData","RotateCcw","HEALTH_TAB_KEY","HealthHubPage","activeTab","setActiveTab","showGoalForm","setShowGoalForm","isWeightLoading","isMealLoading","loadWorkoutAnalytics","isWorkoutLoading","handleTabChange","tab","getElementById","focus","useTasksStore","isSyncing","todoWithTimestamps","updateTodoField","field","updatedTodo","dbUpdate","description_format","due_date_time","completed_at","toggleTodo","repositoryError","loadTodos","refreshTodos","toggleSubtask","getPointsStats","completedTodos","todayCompleted","weekCompleted","totalEarnedPoints","todayPoints","weekPoints","totalPossiblePoints","dailyPoints","weeklyPoints","totalPoints","completedTasks","totalTasks","completionPercentage","averageTaskPoints","PRIORITIES","color","CATEGORIES","isOverdue","isDueToday","formatDueDate","tomorrow","getFullYear","Popover","isOpen","setIsOpen","popoverRef","handleClickOutside","contains","newOpen","PopoverTrigger","PopoverContent","align","start","center","end","PointSelector","showLabel","customValue","setCustomValue","bg","handleCustomSubmit","numValue","renderStars","filledStars","Star","asChild","preset","handlePresetClick","presetValue","onKeyDown","PointsDisplay","showStars","showIcon","borderColor","iconSize","starSize","EnhancedDatePicker","selectedTime","setSelectedTime","selectedDate","setSelectedDate","toTimeString","handleClear","isoString","isTomorrow","toLocaleTimeString","minute","formatDateTime","dateTime","RichTextEditor","maxLength","minHeight","isPreviewMode","setIsPreviewMode","currentValue","setCurrentValue","currentFormat","setCurrentFormat","handleChange","insertMarkdown","wrapper","textarea","querySelector","editorId","selectionStart","selectionEnd","selectedText","substring","textToInsert","newText","newCursorPos","setSelectionRange","renderMarkdownPreview","markdown","html","dangerouslySetInnerHTML","__html","formatButtons","Bold","action","tooltip","Italic","Code","Link","List","fmt","handleFormatChange","newFormat","button","Eye","renderPreview","RichTextPreview","EnhancedTodoRow","isEditingDescription","setIsEditingDescription","isAddingSubtask","setIsAddingSubtask","newSubtaskText","setNewSubtaskText","priorityConfig","categoryConfig","handleAddSubtask","hasDescription","hasEnhancedDueDate","ChevronDown","ChevronRight","viewBox","fillRule","clipRule","FileText","_c","_d","formatEnhancedDueDate","onBlur","GOAL_CATEGORIES","GOAL_COLORS","getCategoryInfo","cat","formatTargetDate","dateString","diffTime","diffDays","mockGoals","useGoalsStore","newGoalData","toggleGoalActive","calculateGoalProgress","goalId","goalTodos","totalTodos","progressPercentage","lastUpdated","getGoalsWithProgress","getActiveGoals","getGoalsByCategory","GoalForm","onSuccess","setTitle","setCategory","setDescription","setTargetDate","selectedColor","setSelectedColor","categoryInfo","rows","backgroundColor","GoalCard","onEdit","MoreHorizontal","Pause","Play","GoalSelector","activeGoals","selectedGoal","href","handleSelect","GoalsPage","showForm","setShowForm","goalsWithProgress","totalGoals","activeGoalsCount","completedGoals","totalProgress","handleFormSuccess","handleEditGoal","handleCancelForm","TodoPage","inputValue","setInputValue","selectedPriority","setSelectedPriority","selectedCategory","setSelectedCategory","selectedPoints","setSelectedPoints","setSelectedGoal","setDueDate","dueDateTimeEnhanced","setDueDateTimeEnhanced","taskDescription","setTaskDescription","showAdvanced","setShowAdvanced","showDescription","setShowDescription","filterPriority","setFilterPriority","filterCategory","setFilterCategory","sortBy","setSortBy","filterPoints","setFilterPoints","filteredTodos","sortedTodos","priorityOrder","high","medium","low","sortTodosByPriority","sortTodosByDueDate","incompleteTodos","overdueTodos","handleAddTodo","AlertCircle","autoComplete","Filter","handleCreateFromTemplate","useNotesStore","loadNotes","NoteRow","editTitle","setEditTitle","editContent","setEditContent","handleEdit","handleCancel","NotesPage","titleInput","setTitleInput","contentInput","setContentInput","searchQuery","setSearchQuery","isAdding","setIsAdding","filteredNotes","Search","WeightSparkCard","navigate","useNavigate","cardFeedback","handleClick","trend","oldest","diff","days","getTrend","tabIndex","minWeight","range","strokeLinejoin","TodayWeightCard","todayWeight","yesterdayISO","yesterdayWeight","statusConfig","border","glow","pending","active","StatusChip","TodoSummaryCard","Circle","StreakCard","StreakIcon","streakDays","milestone","DataExportCard","isExporting","setIsExporting","exportStatus","setExportStatus","lastExport","setLastExport","totalWeights","tasks","totalNotes","exportDate","appVersion","HardDrive","exportData","exportAllData","jsonString","download","appendChild","removeChild","revokeObjectURL","downloadDataAsFile","Skeleton","cyber","circle","CardSkeleton","ListSkeleton","DashboardSkeleton","DashboardPage","weightLoading","todoLoading","goalsLoading","isInitialLoading","setIsInitialLoading","loadData","formatJournalDate","dateObj","parseISO","isYesterday","getCurrentDateString","transformRowToEntry","row","entryDate","entry_date","entryType","entry_type","morningEntry","morning_entry","eveningEntry","evening_entry","transformEntryToRow","getRatingLabel","rating","getWeekStart","startOfWeek","weekStartsOn","getMonthStart","startOfMonth","calculateJournalAnalytics","weeklyEntries","isAfter","monthlyEntries","completionRate","calculateCompletionRates","trends","calculateTrends","insights","calculateInsights","streaks","longest","sortedEntries","entryDates","allDates","calculateStreak","lastEntry","lastEntryDate","allEntries","daysInWeek","daysInMonth","morningEntries","eveningEntries","weekly","monthly","last30Days","subDays","moodTrend","energyTrend","productivityTrend","sleepQualityTrend","dayEntry","energy","sleepQuality","productivity","allBlockers","allGratitude","allImprovements","productivityByDay","blockers","gratitude","improvements","dayOfWeek","commonBlockers","findMostCommon","topGratitudeThemes","improvementAreas","mostProductiveDays","scores","avgScore","score","items","limit","frequency","normalized","useJournalStore","formState","isDraft","hasUnsavedChanges","loadEntries","addEntry","rowData","updatedEntries","updateEntry","deleteEntry","getEntryByDate","createOrUpdateMorningEntry","createOrUpdateEveningEntry","setHasUnsavedChanges","getTodayEntry","getRecentEntries","MoodEnergySelector","PriorityList","priorities","maxItems","newPriority","setNewPriority","handleAddPriority","canAddMore","updatedPriorities","handleRemovePriority","TimeBlockPlanner","timeBlocks","newBlock","setNewBlock","endTime","activity","timeOptions","times","timeString","padStart","generateTimeOptions","getPriorityColor","block","updatedBlocks","handleRemoveBlock","time","MorningStandup","yesterdayAccomplishments","todayPlans","topPriorities","handleFieldChange","handleArrayFieldChange","Sun","Coffee","Boolean","Brain","Moon","validationErrors","validateMorningEntry","GratitudeList","newGratitude","setNewGratitude","handleAddGratitude","gratitudePrompts","Heart","updatedGratitude","handleRemoveGratitude","EveningReflection","accomplishments","challenges","learnings","tomorrowFocus","unfinishedTasks","stressLevel","Lightbulb","ArrowRight","validateEveningEntry","JournalPage","isInitialized","setIsInitialized","initializeJournal","currentEntry","isFuture","BookOpen","prevDate","ChevronLeft","nextDate","addDays","DailyJournalPage","currentView","setCurrentView","isRecording","setIsRecording","standupData","setStandupData","yesterdayBlockers","yesterdayLessons","todayPriorities","energyLevel","availableHours","motivationLevel","loadStandupData","handleStandupUpdate","detail","navigateDate","direction","newDate","saveStandupData","updatePriority","NavTab","view","SpeechRecognition","webkitSpeechRecognition","recognition","continuous","interimResults","lang","onresult","transcript","results","Mic","ChatPage","showSecurityNotice","ArrowLeft","Shield","voice","speed","textToSpeech","cacheKey","getCacheKey","audioCache","audioUrl","cleanText","cleanTextForTTS","response_format","errorText","audioBuffer","arrayBuffer","audioBlob","speak","audio","Audio","currentAudio","onended","pause","currentTime","isPlaying","paused","btoa","updateConfig","getAvailableVoices","getConfig","appRoutes","App","useRoutes","initializeWeightStore","initializeNotesStore","ReactDOM","StrictMode","BrowserRouter","basename"],"ignoreList":[0,1,2,3,49],"sources":["../../node_modules/react/cjs/react-jsx-dev-runtime.development.js","../../node_modules/react/jsx-dev-runtime.js","../../node_modules/react-dom/client.js","../../node_modules/zustand/esm/middleware.mjs","../../src/services/keyVaultService.ts","../../src/lib/supabase.ts","../../src/shared/utils/logging.ts","../../src/modules/auth/services/supabaseAuth.ts","../../src/modules/auth/services/localAuth.ts","../../src/lib/supabase-client.ts","../../src/modules/weight/repo.ts","../../src/modules/tasks/repo.ts","../../src/modules/tasks/utils/deduplicationHelpers.ts","../../src/modules/notes/repo.ts","../../src/modules/auth/utils/dataIsolation.ts","../../src/modules/auth/store/authStore.ts","../../src/shared/utils/cn.ts","../../src/shared/ui/button.tsx","../../src/shared/ui/card.tsx","../../src/shared/ui/alert.tsx","../../src/shared/ui/input.tsx","../../src/shared/ui/label.tsx","../../src/modules/auth/components/ProtectedRoute.tsx","../../src/modules/auth/routes.tsx","../../src/app/NavigationBar.tsx","../../src/app/GlobalFab.tsx","../../src/app/components/OfflineBanner.tsx","../../src/shared/hooks/useOnline.ts","../../src/shared/ui/sheet.tsx","../../src/shared/hooks/useDeferredInstallPrompt.ts","../../src/app/components/InstallSheet.tsx","../../src/app/components/ForceInstallButton.tsx","../../src/shared/hooks/useToast.ts","../../src/shared/ui/toast.tsx","../../src/modules/auth/components/AuthDebugger.tsx","../../src/app/AppLayout.tsx","../../src/modules/weight/store.ts","../../src/modules/meals/store/index.ts","../../src/modules/weight/hooks/useWeightActions.ts","../../src/shared/ui/badge.tsx","../../src/modules/weight/types.ts","../../src/shared/hooks/useMobileInteractions.ts","../../src/modules/weight/components/WeightEntryForm.tsx","../../src/shared/ui/progress.tsx","../../src/modules/weight/components/WeightEditForm.tsx","../../src/modules/weight/components/WeightRow.tsx","../../src/modules/weight/components/WeightPeriodView.tsx","../../src/modules/weight/components/WeightAnalytics.tsx","../../src/modules/weight/components/WeightGoalForm.tsx","../../node_modules/browser-image-compression/dist/browser-image-compression.mjs","../../src/modules/meals/components/PhotoUpload.tsx","../../src/modules/meals/services/NutritionValidator.ts","../../src/modules/meals/services/FoodAnalysisAgent.ts","../../src/modules/meals/components/MealEntryForm.tsx","../../src/modules/meals/components/MealAnalytics.tsx","../../src/shared/ui/textarea.tsx","../../src/modules/workout/types/index.ts","../../src/modules/workout/store/index.ts","../../src/modules/workout/components/WorkoutEntryForm.tsx","../../src/modules/workout/components/WorkoutAnalytics.tsx","../../src/modules/workout/components/DailyCounter.tsx","../../src/modules/health/pages/HealthHubPage.tsx","../../src/modules/tasks/store.ts","../../src/modules/tasks/utils.ts","../../src/shared/ui/popover.tsx","../../src/modules/tasks/components/rich-content/PointSelector.tsx","../../src/modules/tasks/components/rich-content/PointsDisplay.tsx","../../src/modules/tasks/components/rich-content/EnhancedDatePicker.tsx","../../src/modules/tasks/components/rich-content/RichTextEditor.tsx","../../src/modules/tasks/components/EnhancedTodoRow.tsx","../../src/modules/goals/utils.ts","../../src/modules/goals/store.ts","../../src/modules/goals/components/GoalForm.tsx","../../src/modules/goals/components/GoalCard.tsx","../../src/modules/goals/components/GoalSelector.tsx","../../src/modules/goals/pages/GoalsPage.tsx","../../src/modules/tasks/pages/TodoPage.tsx","../../src/modules/notes/store.ts","../../src/modules/notes/components/NoteRow.tsx","../../src/modules/notes/pages/NotesPage.tsx","../../src/modules/dashboard/components/WeightSparkCard.tsx","../../src/modules/dashboard/components/TodayWeightCard.tsx","../../src/modules/weight/routes.tsx","../../src/shared/ui/status-chip.tsx","../../src/modules/dashboard/components/TodoSummaryCard.tsx","../../src/modules/dashboard/components/StreakCard.tsx","../../src/modules/dashboard/components/DataExportCard.tsx","../../src/shared/utils/dataExport.ts","../../src/shared/ui/skeleton.tsx","../../src/modules/dashboard/pages/DashboardPage.tsx","../../src/assets/videos/header.webm","../../src/modules/journal/utils/journalHelpers.ts","../../src/modules/journal/utils/analyticsCalculations.ts","../../src/modules/journal/store/index.ts","../../src/modules/journal/components/MoodEnergySelector.tsx","../../src/modules/journal/components/PriorityList.tsx","../../src/modules/journal/components/TimeBlockPlanner.tsx","../../src/modules/journal/components/MorningStandup.tsx","../../src/modules/journal/components/GratitudeList.tsx","../../src/modules/journal/components/EveningReflection.tsx","../../src/modules/journal/pages/JournalPage.tsx","../../src/modules/daily-journal/pages/DailyJournalPage.tsx","../../src/modules/ai-chat/pages/ChatPage.tsx","../../src/modules/ai-chat/services/TextToSpeechService.ts","../../src/app/routes.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-dev-runtime.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\nvar React = require('react');\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n// The Symbol used to tag the ReactElement-like types.\nvar REACT_ELEMENT_TYPE = Symbol.for('react.element');\nvar REACT_PORTAL_TYPE = Symbol.for('react.portal');\nvar REACT_FRAGMENT_TYPE = Symbol.for('react.fragment');\nvar REACT_STRICT_MODE_TYPE = Symbol.for('react.strict_mode');\nvar REACT_PROFILER_TYPE = Symbol.for('react.profiler');\nvar REACT_PROVIDER_TYPE = Symbol.for('react.provider');\nvar REACT_CONTEXT_TYPE = Symbol.for('react.context');\nvar REACT_FORWARD_REF_TYPE = Symbol.for('react.forward_ref');\nvar REACT_SUSPENSE_TYPE = Symbol.for('react.suspense');\nvar REACT_SUSPENSE_LIST_TYPE = Symbol.for('react.suspense_list');\nvar REACT_MEMO_TYPE = Symbol.for('react.memo');\nvar REACT_LAZY_TYPE = Symbol.for('react.lazy');\nvar REACT_OFFSCREEN_TYPE = Symbol.for('react.offscreen');\nvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\nfunction getIteratorFn(maybeIterable) {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n\n  var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];\n\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n\n  return null;\n}\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\n// -----------------------------------------------------------------------------\n\nvar enableScopeAPI = false; // Experimental Create Event Handle API.\nvar enableCacheElement = false;\nvar enableTransitionTracing = false; // No known bugs, but needs performance testing\n\nvar enableLegacyHidden = false; // Enables unstable_avoidThisFallback feature in Fiber\n// stuff. Intended to enable React core members to more easily debug scheduling\n// issues in DEV builds.\n\nvar enableDebugTracing = false; // Track which Fiber(s) schedule render work.\n\nvar REACT_MODULE_REFERENCE;\n\n{\n  REACT_MODULE_REFERENCE = Symbol.for('react.module.reference');\n}\n\nfunction isValidElementType(type) {\n  if (typeof type === 'string' || typeof type === 'function') {\n    return true;\n  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).\n\n\n  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing  || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden  || type === REACT_OFFSCREEN_TYPE || enableScopeAPI  || enableCacheElement  || enableTransitionTracing ) {\n    return true;\n  }\n\n  if (typeof type === 'object' && type !== null) {\n    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object\n    // types supported by any Flight configuration anywhere since\n    // we don't know which Flight build this will end up being used\n    // with.\n    type.$$typeof === REACT_MODULE_REFERENCE || type.getModuleId !== undefined) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  var displayName = outerType.displayName;\n\n  if (displayName) {\n    return displayName;\n  }\n\n  var functionName = innerType.displayName || innerType.name || '';\n  return functionName !== '' ? wrapperName + \"(\" + functionName + \")\" : wrapperName;\n} // Keep in sync with react-reconciler/getComponentNameFromFiber\n\n\nfunction getContextName(type) {\n  return type.displayName || 'Context';\n} // Note that the reconciler package should generally prefer to use getComponentNameFromFiber() instead.\n\n\nfunction getComponentNameFromType(type) {\n  if (type == null) {\n    // Host root, text node or just invalid type.\n    return null;\n  }\n\n  {\n    if (typeof type.tag === 'number') {\n      error('Received an unexpected object in getComponentNameFromType(). ' + 'This is likely a bug in React. Please file an issue.');\n    }\n  }\n\n  if (typeof type === 'function') {\n    return type.displayName || type.name || null;\n  }\n\n  if (typeof type === 'string') {\n    return type;\n  }\n\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n\n    case REACT_PROFILER_TYPE:\n      return 'Profiler';\n\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_CONTEXT_TYPE:\n        var context = type;\n        return getContextName(context) + '.Consumer';\n\n      case REACT_PROVIDER_TYPE:\n        var provider = type;\n        return getContextName(provider._context) + '.Provider';\n\n      case REACT_FORWARD_REF_TYPE:\n        return getWrappedName(type, type.render, 'ForwardRef');\n\n      case REACT_MEMO_TYPE:\n        var outerName = type.displayName || null;\n\n        if (outerName !== null) {\n          return outerName;\n        }\n\n        return getComponentNameFromType(type.type) || 'Memo';\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            return getComponentNameFromType(init(payload));\n          } catch (x) {\n            return null;\n          }\n        }\n\n      // eslint-disable-next-line no-fallthrough\n    }\n  }\n\n  return null;\n}\n\nvar assign = Object.assign;\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\nvar disabledDepth = 0;\nvar prevLog;\nvar prevInfo;\nvar prevWarn;\nvar prevError;\nvar prevGroup;\nvar prevGroupCollapsed;\nvar prevGroupEnd;\n\nfunction disabledLog() {}\n\ndisabledLog.__reactDisabledLog = true;\nfunction disableLogs() {\n  {\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      prevLog = console.log;\n      prevInfo = console.info;\n      prevWarn = console.warn;\n      prevError = console.error;\n      prevGroup = console.group;\n      prevGroupCollapsed = console.groupCollapsed;\n      prevGroupEnd = console.groupEnd; // https://github.com/facebook/react/issues/19099\n\n      var props = {\n        configurable: true,\n        enumerable: true,\n        value: disabledLog,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        info: props,\n        log: props,\n        warn: props,\n        error: props,\n        group: props,\n        groupCollapsed: props,\n        groupEnd: props\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    disabledDepth++;\n  }\n}\nfunction reenableLogs() {\n  {\n    disabledDepth--;\n\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      var props = {\n        configurable: true,\n        enumerable: true,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        log: assign({}, props, {\n          value: prevLog\n        }),\n        info: assign({}, props, {\n          value: prevInfo\n        }),\n        warn: assign({}, props, {\n          value: prevWarn\n        }),\n        error: assign({}, props, {\n          value: prevError\n        }),\n        group: assign({}, props, {\n          value: prevGroup\n        }),\n        groupCollapsed: assign({}, props, {\n          value: prevGroupCollapsed\n        }),\n        groupEnd: assign({}, props, {\n          value: prevGroupEnd\n        })\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    if (disabledDepth < 0) {\n      error('disabledDepth fell below zero. ' + 'This is a bug in React. Please file an issue.');\n    }\n  }\n}\n\nvar ReactCurrentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;\nvar prefix;\nfunction describeBuiltInComponentFrame(name, source, ownerFn) {\n  {\n    if (prefix === undefined) {\n      // Extract the VM specific prefix used by each line.\n      try {\n        throw Error();\n      } catch (x) {\n        var match = x.stack.trim().match(/\\n( *(at )?)/);\n        prefix = match && match[1] || '';\n      }\n    } // We use the prefix to ensure our stacks line up with native stack frames.\n\n\n    return '\\n' + prefix + name;\n  }\n}\nvar reentry = false;\nvar componentFrameCache;\n\n{\n  var PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap();\n}\n\nfunction describeNativeComponentFrame(fn, construct) {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if ( !fn || reentry) {\n    return '';\n  }\n\n  {\n    var frame = componentFrameCache.get(fn);\n\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  var control;\n  reentry = true;\n  var previousPrepareStackTrace = Error.prepareStackTrace; // $FlowFixMe It does accept undefined.\n\n  Error.prepareStackTrace = undefined;\n  var previousDispatcher;\n\n  {\n    previousDispatcher = ReactCurrentDispatcher.current; // Set the dispatcher in DEV because this might be call in the render function\n    // for warnings.\n\n    ReactCurrentDispatcher.current = null;\n    disableLogs();\n  }\n\n  try {\n    // This should throw.\n    if (construct) {\n      // Something should be setting the props in the constructor.\n      var Fake = function () {\n        throw Error();\n      }; // $FlowFixMe\n\n\n      Object.defineProperty(Fake.prototype, 'props', {\n        set: function () {\n          // We use a throwing setter instead of frozen or non-writable props\n          // because that won't throw in a non-strict mode function.\n          throw Error();\n        }\n      });\n\n      if (typeof Reflect === 'object' && Reflect.construct) {\n        // We construct a different control for this case to include any extra\n        // frames added by the construct call.\n        try {\n          Reflect.construct(Fake, []);\n        } catch (x) {\n          control = x;\n        }\n\n        Reflect.construct(fn, [], Fake);\n      } else {\n        try {\n          Fake.call();\n        } catch (x) {\n          control = x;\n        }\n\n        fn.call(Fake.prototype);\n      }\n    } else {\n      try {\n        throw Error();\n      } catch (x) {\n        control = x;\n      }\n\n      fn();\n    }\n  } catch (sample) {\n    // This is inlined manually because closure doesn't do it for us.\n    if (sample && control && typeof sample.stack === 'string') {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      var sampleLines = sample.stack.split('\\n');\n      var controlLines = control.stack.split('\\n');\n      var s = sampleLines.length - 1;\n      var c = controlLines.length - 1;\n\n      while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n        // We expect at least one stack frame to be shared.\n        // Typically this will be the root most one. However, stack frames may be\n        // cut off due to maximum stack limits. In this case, one maybe cut off\n        // earlier than the other. We assume that the sample is longer or the same\n        // and there for cut off earlier. So we should find the root most frame in\n        // the sample somewhere in the control.\n        c--;\n      }\n\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--; // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                var _frame = '\\n' + sampleLines[s].replace(' at new ', ' at '); // If our component frame is labeled \"<anonymous>\"\n                // but we have a user-provided \"displayName\"\n                // splice it in to make the stack more readable.\n\n\n                if (fn.displayName && _frame.includes('<anonymous>')) {\n                  _frame = _frame.replace('<anonymous>', fn.displayName);\n                }\n\n                {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, _frame);\n                  }\n                } // Return the line we found.\n\n\n                return _frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    {\n      ReactCurrentDispatcher.current = previousDispatcher;\n      reenableLogs();\n    }\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n  } // Fallback to just using the name if we couldn't make it throw.\n\n\n  var name = fn ? fn.displayName || fn.name : '';\n  var syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n\n  {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n\n  return syntheticFrame;\n}\nfunction describeFunctionComponentFrame(fn, source, ownerFn) {\n  {\n    return describeNativeComponentFrame(fn, false);\n  }\n}\n\nfunction shouldConstruct(Component) {\n  var prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nfunction describeUnknownElementTypeFrameInDEV(type, source, ownerFn) {\n\n  if (type == null) {\n    return '';\n  }\n\n  if (typeof type === 'function') {\n    {\n      return describeNativeComponentFrame(type, shouldConstruct(type));\n    }\n  }\n\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type);\n  }\n\n  switch (type) {\n    case REACT_SUSPENSE_TYPE:\n      return describeBuiltInComponentFrame('Suspense');\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return describeBuiltInComponentFrame('SuspenseList');\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_FORWARD_REF_TYPE:\n        return describeFunctionComponentFrame(type.render);\n\n      case REACT_MEMO_TYPE:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(type.type, source, ownerFn);\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            // Lazy may contain any component type so we recursively resolve it.\n            return describeUnknownElementTypeFrameInDEV(init(payload), source, ownerFn);\n          } catch (x) {}\n        }\n    }\n  }\n\n  return '';\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar loggedTypeFailures = {};\nvar ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame.setExtraStackFrame(null);\n    }\n  }\n}\n\nfunction checkPropTypes(typeSpecs, values, location, componentName, element) {\n  {\n    // $FlowFixMe This is okay but Flow doesn't know it.\n    var has = Function.call.bind(hasOwnProperty);\n\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error$1 = void 0; // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            // eslint-disable-next-line react-internal/prod-error-codes\n            var err = Error((componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.' + 'This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.');\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n\n          error$1 = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED');\n        } catch (ex) {\n          error$1 = ex;\n        }\n\n        if (error$1 && !(error$1 instanceof Error)) {\n          setCurrentlyValidatingElement(element);\n\n          error('%s: type specification of %s' + ' `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error$1);\n\n          setCurrentlyValidatingElement(null);\n        }\n\n        if (error$1 instanceof Error && !(error$1.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error$1.message] = true;\n          setCurrentlyValidatingElement(element);\n\n          error('Failed %s type: %s', location, error$1.message);\n\n          setCurrentlyValidatingElement(null);\n        }\n      }\n    }\n  }\n}\n\nvar isArrayImpl = Array.isArray; // eslint-disable-next-line no-redeclare\n\nfunction isArray(a) {\n  return isArrayImpl(a);\n}\n\n/*\n * The `'' + value` pattern (used in in perf-sensitive code) throws for Symbol\n * and Temporal.* types. See https://github.com/facebook/react/pull/22064.\n *\n * The functions in this module will throw an easier-to-understand,\n * easier-to-debug exception with a clear errors message message explaining the\n * problem. (Instead of a confusing exception thrown inside the implementation\n * of the `value` object).\n */\n// $FlowFixMe only called in DEV, so void return is not possible.\nfunction typeName(value) {\n  {\n    // toStringTag is needed for namespaced types like Temporal.Instant\n    var hasToStringTag = typeof Symbol === 'function' && Symbol.toStringTag;\n    var type = hasToStringTag && value[Symbol.toStringTag] || value.constructor.name || 'Object';\n    return type;\n  }\n} // $FlowFixMe only called in DEV, so void return is not possible.\n\n\nfunction willCoercionThrow(value) {\n  {\n    try {\n      testStringCoercion(value);\n      return false;\n    } catch (e) {\n      return true;\n    }\n  }\n}\n\nfunction testStringCoercion(value) {\n  // If you ended up here by following an exception call stack, here's what's\n  // happened: you supplied an object or symbol value to React (as a prop, key,\n  // DOM attribute, CSS property, string ref, etc.) and when React tried to\n  // coerce it to a string using `'' + value`, an exception was thrown.\n  //\n  // The most common types that will cause this exception are `Symbol` instances\n  // and Temporal objects like `Temporal.Instant`. But any object that has a\n  // `valueOf` or `[Symbol.toPrimitive]` method that throws will also cause this\n  // exception. (Library authors do this to prevent users from using built-in\n  // numeric operators like `+` or comparison operators like `>=` because custom\n  // methods are needed to perform accurate arithmetic or comparison.)\n  //\n  // To fix the problem, coerce this object or symbol value to a string before\n  // passing it to React. The most reliable way is usually `String(value)`.\n  //\n  // To find which value is throwing, check the browser or debugger console.\n  // Before this exception was thrown, there should be `console.error` output\n  // that shows the type (Symbol, Temporal.PlainDate, etc.) that caused the\n  // problem and how that type was used: key, atrribute, input value prop, etc.\n  // In most cases, this console output also shows the component and its\n  // ancestor components where the exception happened.\n  //\n  // eslint-disable-next-line react-internal/safe-string-coercion\n  return '' + value;\n}\nfunction checkKeyStringCoercion(value) {\n  {\n    if (willCoercionThrow(value)) {\n      error('The provided key is an unsupported type %s.' + ' This value must be coerced to a string before before using it here.', typeName(value));\n\n      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n    }\n  }\n}\n\nvar ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;\nvar RESERVED_PROPS = {\n  key: true,\n  ref: true,\n  __self: true,\n  __source: true\n};\nvar specialPropKeyWarningShown;\nvar specialPropRefWarningShown;\nvar didWarnAboutStringRefs;\n\n{\n  didWarnAboutStringRefs = {};\n}\n\nfunction hasValidRef(config) {\n  {\n    if (hasOwnProperty.call(config, 'ref')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'ref').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.ref !== undefined;\n}\n\nfunction hasValidKey(config) {\n  {\n    if (hasOwnProperty.call(config, 'key')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'key').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.key !== undefined;\n}\n\nfunction warnIfStringRefCannotBeAutoConverted(config, self) {\n  {\n    if (typeof config.ref === 'string' && ReactCurrentOwner.current && self && ReactCurrentOwner.current.stateNode !== self) {\n      var componentName = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (!didWarnAboutStringRefs[componentName]) {\n        error('Component \"%s\" contains the string ref \"%s\". ' + 'Support for string refs will be removed in a future major release. ' + 'This case cannot be automatically converted to an arrow function. ' + 'We ask you to manually fix this case by using useRef() or createRef() instead. ' + 'Learn more about using refs safely here: ' + 'https://reactjs.org/link/strict-mode-string-ref', getComponentNameFromType(ReactCurrentOwner.current.type), config.ref);\n\n        didWarnAboutStringRefs[componentName] = true;\n      }\n    }\n  }\n}\n\nfunction defineKeyPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingKey = function () {\n      if (!specialPropKeyWarningShown) {\n        specialPropKeyWarningShown = true;\n\n        error('%s: `key` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingKey.isReactWarning = true;\n    Object.defineProperty(props, 'key', {\n      get: warnAboutAccessingKey,\n      configurable: true\n    });\n  }\n}\n\nfunction defineRefPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingRef = function () {\n      if (!specialPropRefWarningShown) {\n        specialPropRefWarningShown = true;\n\n        error('%s: `ref` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingRef.isReactWarning = true;\n    Object.defineProperty(props, 'ref', {\n      get: warnAboutAccessingRef,\n      configurable: true\n    });\n  }\n}\n/**\n * Factory method to create a new React element. This no longer adheres to\n * the class pattern, so do not use new to call it. Also, instanceof check\n * will not work. Instead test $$typeof field against Symbol.for('react.element') to check\n * if something is a React Element.\n *\n * @param {*} type\n * @param {*} props\n * @param {*} key\n * @param {string|object} ref\n * @param {*} owner\n * @param {*} self A *temporary* helper to detect places where `this` is\n * different from the `owner` when React.createElement is called, so that we\n * can warn. We want to get rid of owner and replace string `ref`s with arrow\n * functions, and as long as `this` and owner are the same, there will be no\n * change in behavior.\n * @param {*} source An annotation object (added by a transpiler or otherwise)\n * indicating filename, line number, and/or other information.\n * @internal\n */\n\n\nvar ReactElement = function (type, key, ref, self, source, owner, props) {\n  var element = {\n    // This tag allows us to uniquely identify this as a React Element\n    $$typeof: REACT_ELEMENT_TYPE,\n    // Built-in properties that belong on the element\n    type: type,\n    key: key,\n    ref: ref,\n    props: props,\n    // Record the component responsible for creating this element.\n    _owner: owner\n  };\n\n  {\n    // The validation flag is currently mutative. We put it on\n    // an external backing store so that we can freeze the whole object.\n    // This can be replaced with a WeakMap once they are implemented in\n    // commonly used development environments.\n    element._store = {}; // To make comparing ReactElements easier for testing purposes, we make\n    // the validation flag non-enumerable (where possible, which should\n    // include every environment we run tests in), so the test framework\n    // ignores it.\n\n    Object.defineProperty(element._store, 'validated', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: false\n    }); // self and source are DEV only properties.\n\n    Object.defineProperty(element, '_self', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: self\n    }); // Two elements created in two different places should be considered\n    // equal for testing purposes and therefore we hide it from enumeration.\n\n    Object.defineProperty(element, '_source', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: source\n    });\n\n    if (Object.freeze) {\n      Object.freeze(element.props);\n      Object.freeze(element);\n    }\n  }\n\n  return element;\n};\n/**\n * https://github.com/reactjs/rfcs/pull/107\n * @param {*} type\n * @param {object} props\n * @param {string} key\n */\n\nfunction jsxDEV(type, config, maybeKey, source, self) {\n  {\n    var propName; // Reserved names are extracted\n\n    var props = {};\n    var key = null;\n    var ref = null; // Currently, key can be spread in as a prop. This causes a potential\n    // issue if key is also explicitly declared (ie. <div {...props} key=\"Hi\" />\n    // or <div key=\"Hi\" {...props} /> ). We want to deprecate key spread,\n    // but as an intermediary step, we will use jsxDEV for everything except\n    // <div {...props} key=\"Hi\" />, because we aren't currently able to tell if\n    // key is explicitly declared to be undefined or not.\n\n    if (maybeKey !== undefined) {\n      {\n        checkKeyStringCoercion(maybeKey);\n      }\n\n      key = '' + maybeKey;\n    }\n\n    if (hasValidKey(config)) {\n      {\n        checkKeyStringCoercion(config.key);\n      }\n\n      key = '' + config.key;\n    }\n\n    if (hasValidRef(config)) {\n      ref = config.ref;\n      warnIfStringRefCannotBeAutoConverted(config, self);\n    } // Remaining properties are added to a new props object\n\n\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {\n        props[propName] = config[propName];\n      }\n    } // Resolve default props\n\n\n    if (type && type.defaultProps) {\n      var defaultProps = type.defaultProps;\n\n      for (propName in defaultProps) {\n        if (props[propName] === undefined) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    }\n\n    if (key || ref) {\n      var displayName = typeof type === 'function' ? type.displayName || type.name || 'Unknown' : type;\n\n      if (key) {\n        defineKeyPropWarningGetter(props, displayName);\n      }\n\n      if (ref) {\n        defineRefPropWarningGetter(props, displayName);\n      }\n    }\n\n    return ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);\n  }\n}\n\nvar ReactCurrentOwner$1 = ReactSharedInternals.ReactCurrentOwner;\nvar ReactDebugCurrentFrame$1 = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement$1(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame$1.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame$1.setExtraStackFrame(null);\n    }\n  }\n}\n\nvar propTypesMisspellWarningShown;\n\n{\n  propTypesMisspellWarningShown = false;\n}\n/**\n * Verifies the object is a ReactElement.\n * See https://reactjs.org/docs/react-api.html#isvalidelement\n * @param {?object} object\n * @return {boolean} True if `object` is a ReactElement.\n * @final\n */\n\n\nfunction isValidElement(object) {\n  {\n    return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n  }\n}\n\nfunction getDeclarationErrorAddendum() {\n  {\n    if (ReactCurrentOwner$1.current) {\n      var name = getComponentNameFromType(ReactCurrentOwner$1.current.type);\n\n      if (name) {\n        return '\\n\\nCheck the render method of `' + name + '`.';\n      }\n    }\n\n    return '';\n  }\n}\n\nfunction getSourceInfoErrorAddendum(source) {\n  {\n    if (source !== undefined) {\n      var fileName = source.fileName.replace(/^.*[\\\\\\/]/, '');\n      var lineNumber = source.lineNumber;\n      return '\\n\\nCheck your code at ' + fileName + ':' + lineNumber + '.';\n    }\n\n    return '';\n  }\n}\n/**\n * Warn if there's no key explicitly set on dynamic arrays of children or\n * object keys are not valid. This allows us to keep track of children between\n * updates.\n */\n\n\nvar ownerHasKeyUseWarning = {};\n\nfunction getCurrentComponentErrorInfo(parentType) {\n  {\n    var info = getDeclarationErrorAddendum();\n\n    if (!info) {\n      var parentName = typeof parentType === 'string' ? parentType : parentType.displayName || parentType.name;\n\n      if (parentName) {\n        info = \"\\n\\nCheck the top-level render call using <\" + parentName + \">.\";\n      }\n    }\n\n    return info;\n  }\n}\n/**\n * Warn if the element doesn't have an explicit key assigned to it.\n * This element is in an array. The array could grow and shrink or be\n * reordered. All children that haven't already been validated are required to\n * have a \"key\" property assigned to it. Error statuses are cached so a warning\n * will only be shown once.\n *\n * @internal\n * @param {ReactElement} element Element that requires a key.\n * @param {*} parentType element's parent's type.\n */\n\n\nfunction validateExplicitKey(element, parentType) {\n  {\n    if (!element._store || element._store.validated || element.key != null) {\n      return;\n    }\n\n    element._store.validated = true;\n    var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);\n\n    if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {\n      return;\n    }\n\n    ownerHasKeyUseWarning[currentComponentErrorInfo] = true; // Usually the current owner is the offender, but if it accepts children as a\n    // property, it may be the creator of the child that's responsible for\n    // assigning it a key.\n\n    var childOwner = '';\n\n    if (element && element._owner && element._owner !== ReactCurrentOwner$1.current) {\n      // Give the component that originally created this child.\n      childOwner = \" It was passed a child from \" + getComponentNameFromType(element._owner.type) + \".\";\n    }\n\n    setCurrentlyValidatingElement$1(element);\n\n    error('Each child in a list should have a unique \"key\" prop.' + '%s%s See https://reactjs.org/link/warning-keys for more information.', currentComponentErrorInfo, childOwner);\n\n    setCurrentlyValidatingElement$1(null);\n  }\n}\n/**\n * Ensure that every element either is passed in a static location, in an\n * array with an explicit keys property defined, or in an object literal\n * with valid key property.\n *\n * @internal\n * @param {ReactNode} node Statically passed child of any type.\n * @param {*} parentType node's parent's type.\n */\n\n\nfunction validateChildKeys(node, parentType) {\n  {\n    if (typeof node !== 'object') {\n      return;\n    }\n\n    if (isArray(node)) {\n      for (var i = 0; i < node.length; i++) {\n        var child = node[i];\n\n        if (isValidElement(child)) {\n          validateExplicitKey(child, parentType);\n        }\n      }\n    } else if (isValidElement(node)) {\n      // This element was passed in a valid location.\n      if (node._store) {\n        node._store.validated = true;\n      }\n    } else if (node) {\n      var iteratorFn = getIteratorFn(node);\n\n      if (typeof iteratorFn === 'function') {\n        // Entry iterators used to provide implicit keys,\n        // but now we print a separate warning for them later.\n        if (iteratorFn !== node.entries) {\n          var iterator = iteratorFn.call(node);\n          var step;\n\n          while (!(step = iterator.next()).done) {\n            if (isValidElement(step.value)) {\n              validateExplicitKey(step.value, parentType);\n            }\n          }\n        }\n      }\n    }\n  }\n}\n/**\n * Given an element, validate that its props follow the propTypes definition,\n * provided by the type.\n *\n * @param {ReactElement} element\n */\n\n\nfunction validatePropTypes(element) {\n  {\n    var type = element.type;\n\n    if (type === null || type === undefined || typeof type === 'string') {\n      return;\n    }\n\n    var propTypes;\n\n    if (typeof type === 'function') {\n      propTypes = type.propTypes;\n    } else if (typeof type === 'object' && (type.$$typeof === REACT_FORWARD_REF_TYPE || // Note: Memo only checks outer props here.\n    // Inner props are checked in the reconciler.\n    type.$$typeof === REACT_MEMO_TYPE)) {\n      propTypes = type.propTypes;\n    } else {\n      return;\n    }\n\n    if (propTypes) {\n      // Intentionally inside to avoid triggering lazy initializers:\n      var name = getComponentNameFromType(type);\n      checkPropTypes(propTypes, element.props, 'prop', name, element);\n    } else if (type.PropTypes !== undefined && !propTypesMisspellWarningShown) {\n      propTypesMisspellWarningShown = true; // Intentionally inside to avoid triggering lazy initializers:\n\n      var _name = getComponentNameFromType(type);\n\n      error('Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?', _name || 'Unknown');\n    }\n\n    if (typeof type.getDefaultProps === 'function' && !type.getDefaultProps.isReactClassApproved) {\n      error('getDefaultProps is only used on classic React.createClass ' + 'definitions. Use a static property named `defaultProps` instead.');\n    }\n  }\n}\n/**\n * Given a fragment, validate that it can only be provided with fragment props\n * @param {ReactElement} fragment\n */\n\n\nfunction validateFragmentProps(fragment) {\n  {\n    var keys = Object.keys(fragment.props);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n\n      if (key !== 'children' && key !== 'key') {\n        setCurrentlyValidatingElement$1(fragment);\n\n        error('Invalid prop `%s` supplied to `React.Fragment`. ' + 'React.Fragment can only have `key` and `children` props.', key);\n\n        setCurrentlyValidatingElement$1(null);\n        break;\n      }\n    }\n\n    if (fragment.ref !== null) {\n      setCurrentlyValidatingElement$1(fragment);\n\n      error('Invalid attribute `ref` supplied to `React.Fragment`.');\n\n      setCurrentlyValidatingElement$1(null);\n    }\n  }\n}\n\nvar didWarnAboutKeySpread = {};\nfunction jsxWithValidation(type, props, key, isStaticChildren, source, self) {\n  {\n    var validType = isValidElementType(type); // We warn in this case but don't throw. We expect the element creation to\n    // succeed and there will likely be errors in render.\n\n    if (!validType) {\n      var info = '';\n\n      if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {\n        info += ' You likely forgot to export your component from the file ' + \"it's defined in, or you might have mixed up default and named imports.\";\n      }\n\n      var sourceInfo = getSourceInfoErrorAddendum(source);\n\n      if (sourceInfo) {\n        info += sourceInfo;\n      } else {\n        info += getDeclarationErrorAddendum();\n      }\n\n      var typeString;\n\n      if (type === null) {\n        typeString = 'null';\n      } else if (isArray(type)) {\n        typeString = 'array';\n      } else if (type !== undefined && type.$$typeof === REACT_ELEMENT_TYPE) {\n        typeString = \"<\" + (getComponentNameFromType(type.type) || 'Unknown') + \" />\";\n        info = ' Did you accidentally export a JSX literal instead of a component?';\n      } else {\n        typeString = typeof type;\n      }\n\n      error('React.jsx: type is invalid -- expected a string (for ' + 'built-in components) or a class/function (for composite ' + 'components) but got: %s.%s', typeString, info);\n    }\n\n    var element = jsxDEV(type, props, key, source, self); // The result can be nullish if a mock or a custom function is used.\n    // TODO: Drop this when these are no longer allowed as the type argument.\n\n    if (element == null) {\n      return element;\n    } // Skip key warning if the type isn't valid since our key validation logic\n    // doesn't expect a non-string/function type and can throw confusing errors.\n    // We don't want exception behavior to differ between dev and prod.\n    // (Rendering will throw with a helpful message and as soon as the type is\n    // fixed, the key warnings will appear.)\n\n\n    if (validType) {\n      var children = props.children;\n\n      if (children !== undefined) {\n        if (isStaticChildren) {\n          if (isArray(children)) {\n            for (var i = 0; i < children.length; i++) {\n              validateChildKeys(children[i], type);\n            }\n\n            if (Object.freeze) {\n              Object.freeze(children);\n            }\n          } else {\n            error('React.jsx: Static children should always be an array. ' + 'You are likely explicitly calling React.jsxs or React.jsxDEV. ' + 'Use the Babel transform instead.');\n          }\n        } else {\n          validateChildKeys(children, type);\n        }\n      }\n    }\n\n    {\n      if (hasOwnProperty.call(props, 'key')) {\n        var componentName = getComponentNameFromType(type);\n        var keys = Object.keys(props).filter(function (k) {\n          return k !== 'key';\n        });\n        var beforeExample = keys.length > 0 ? '{key: someKey, ' + keys.join(': ..., ') + ': ...}' : '{key: someKey}';\n\n        if (!didWarnAboutKeySpread[componentName + beforeExample]) {\n          var afterExample = keys.length > 0 ? '{' + keys.join(': ..., ') + ': ...}' : '{}';\n\n          error('A props object containing a \"key\" prop is being spread into JSX:\\n' + '  let props = %s;\\n' + '  <%s {...props} />\\n' + 'React keys must be passed directly to JSX without using spread:\\n' + '  let props = %s;\\n' + '  <%s key={someKey} {...props} />', beforeExample, componentName, afterExample, componentName);\n\n          didWarnAboutKeySpread[componentName + beforeExample] = true;\n        }\n      }\n    }\n\n    if (type === REACT_FRAGMENT_TYPE) {\n      validateFragmentProps(element);\n    } else {\n      validatePropTypes(element);\n    }\n\n    return element;\n  }\n} // These two functions exist to still get child warnings in dev\n\nvar jsxDEV$1 =  jsxWithValidation ;\n\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsxDEV = jsxDEV$1;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-dev-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-dev-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","const reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...a) => api.dispatch(...a), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api) return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (_e) {\n  }\n  if (!extensionConnector) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && enabled) {\n      console.warn(\n        \"[zustand devtools middleware] Please install/enable Redux devtools extension\"\n      );\n    }\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = (state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording) return r;\n    const action = nameOrAction === void 0 ? { type: anonymousActionType || \"anonymous\" } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...a) => {\n      if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && a[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...a);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== \"function\") return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState) return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, f) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0) f(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = (selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  };\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nconst combine = (initialState, create) => (...a) => Object.assign({}, initialState, create(...a));\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (_e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(\n      name,\n      JSON.stringify(newValue, options == null ? void 0 : options.replacer)\n    ),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst oldImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    getStorage: () => localStorage,\n    serialize: JSON.stringify,\n    deserialize: JSON.parse,\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage;\n  try {\n    storage = options.getStorage();\n  } catch (_e) {\n  }\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const thenableSerialize = toThenable(options.serialize);\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    let errorInSync;\n    const thenable = thenableSerialize({ state, version: options.version }).then(\n      (serializedValue) => storage.setItem(options.name, serializedValue)\n    ).catch((e) => {\n      errorInSync = e;\n    });\n    if (errorInSync) {\n      throw errorInSync;\n    }\n    return thenable;\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => cb(get()));\n    const postRehydrationCallback = ((_a = options.onRehydrateStorage) == null ? void 0 : _a.call(options, get())) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((storageValue) => {\n      if (storageValue) {\n        return options.deserialize(storageValue);\n      }\n    }).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return deserializedStorageValue.state;\n        }\n      }\n    }).then((migratedState) => {\n      var _a2;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      return setItem();\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.getStorage) {\n        storage = newOptions.getStorage();\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  hydrate();\n  return stateFromStorage || configResult;\n};\nconst newImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return [\n              true,\n              options.migrate(\n                deserializedStorageValue.state,\n                deserializedStorageValue.version\n              )\n            ];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, void 0];\n    }).then((migrationResult) => {\n      var _a2;\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persistImpl = (config, baseOptions) => {\n  if (\"getStorage\" in baseOptions || \"serialize\" in baseOptions || \"deserialize\" in baseOptions) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead.\"\n      );\n    }\n    return oldImpl(config, baseOptions);\n  }\n  return newImpl(config, baseOptions);\n};\nconst persist = persistImpl;\n\nexport { combine, createJSONStorage, devtools, persist, redux, subscribeWithSelector };\n","// src/services/keyVaultService.ts\r\n// Hybrid configuration service: Local env vars (dev) + Azure App Service config (prod)\r\n\r\nclass ConfigurationService {\r\n  private cache: Map<string, { value: string; timestamp: number }> = new Map();\r\n  private readonly CACHE_DURATION = 5 * 60 * 1000; // 5 minutes\r\n  private readonly API_BASE_URL = 'https://perfectzenkai-api.azurewebsites.net/api';\r\n\r\n  /**\r\n   * Gets configuration value using hybrid approach:\r\n   * - Development: Uses local environment variables\r\n   * - Production: Uses Azure Function App environment variables via API\r\n   */\r\n  async getSecret(secretName: string): Promise<string> {\r\n    // Check cache first\r\n    const cached = this.cache.get(secretName);\r\n    if (cached && Date.now() - cached.timestamp < this.CACHE_DURATION) {\r\n      console.log(` Using cached secret: ${secretName}`);\r\n      return cached.value;\r\n    }\r\n\r\n    // Development: Use local environment variables\r\n    if (import.meta.env.DEV) {\r\n      const envValue = this.getLocalEnvVar(secretName);\r\n      if (envValue) {\r\n        console.log(` Using local environment variable: ${secretName}`);\r\n        this.cache.set(secretName, { value: envValue, timestamp: Date.now() });\r\n        return envValue;\r\n      }\r\n    }\r\n\r\n    // Production: Use Azure Function App environment variables\r\n    try {\r\n      console.log(` Fetching configuration from Azure Function App: ${secretName}`);\r\n      \r\n      const response = await fetch(`${this.API_BASE_URL}/get-secret`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ secretName }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      if (!data.value) {\r\n        throw new Error(`Configuration ${secretName} has no value`);\r\n      }\r\n\r\n      // Cache the secret\r\n      this.cache.set(secretName, {\r\n        value: data.value,\r\n        timestamp: Date.now()\r\n      });\r\n\r\n      console.log(` Successfully retrieved configuration from Azure: ${secretName}`);\r\n      return data.value;\r\n    } catch (error) {\r\n      console.error(` Failed to get configuration ${secretName}:`, error);\r\n      \r\n      // Final fallback: Try local env vars even in production\r\n      const fallbackValue = this.getLocalEnvVar(secretName);\r\n      if (fallbackValue) {\r\n        console.warn(` Using fallback local environment variable: ${secretName}`);\r\n        return fallbackValue;\r\n      }\r\n      \r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Maps secret names to environment variable names\r\n   */\r\n  private getLocalEnvVar(secretName: string): string | undefined {\r\n    const envMap: Record<string, string> = {\r\n      'supabase-url': 'VITE_SUPABASE_URL',\r\n      'supabase-anon-key': 'VITE_SUPABASE_ANON_KEY',\r\n      'openai-direct-api-key': 'VITE_OPENAI_API_KEY'\r\n    };\r\n\r\n    const envVarName = envMap[secretName];\r\n    if (!envVarName) {\r\n      console.warn(` No environment variable mapping for secret: ${secretName}`);\r\n      return undefined;\r\n    }\r\n\r\n    return import.meta.env[envVarName];\r\n  }\r\n\r\n  async getSupabaseConfig(): Promise<{ url: string; anonKey: string }> {\r\n    try {\r\n      console.log(' Loading Supabase configuration...');\r\n      \r\n      const [url, anonKey] = await Promise.all([\r\n        this.getSecret('supabase-url'),\r\n        this.getSecret('supabase-anon-key')\r\n      ]);\r\n\r\n      const configSource = import.meta.env.DEV ? 'local environment' : 'Azure configuration';\r\n      console.log(` Supabase configuration loaded from ${configSource}`);\r\n      return { url, anonKey };\r\n    } catch (error) {\r\n      console.error(' Failed to load Supabase configuration:', error);\r\n      throw new Error('Could not load Supabase configuration. Please check your environment variables or Azure Function deployment.');\r\n    }\r\n  }\r\n\r\n  async getOpenAIKey(): Promise<string> {\r\n    try {\r\n      console.log(' Loading OpenAI API key...');\r\n      const apiKey = await this.getSecret('openai-direct-api-key');\r\n      const configSource = import.meta.env.DEV ? 'local environment' : 'Azure configuration';\r\n      console.log(` OpenAI API key loaded from ${configSource}`);\r\n      return apiKey;\r\n    } catch (error) {\r\n      console.error(' Failed to load OpenAI API key:', error);\r\n      throw new Error('Could not load OpenAI API key. Please check your environment variables or Azure Function deployment.');\r\n    }\r\n  }\r\n\r\n  clearCache(): void {\r\n    this.cache.clear();\r\n    console.log(' Configuration cache cleared');\r\n  }\r\n\r\n  /**\r\n   * Gets current configuration source for debugging\r\n   */\r\n  getConfigSource(): string {\r\n    return import.meta.env.DEV ? 'Local Environment Variables' : 'Azure Function App Settings';\r\n  }\r\n}\r\n\r\n// Export with legacy name for backward compatibility\r\nexport const keyVaultService = new ConfigurationService();\r\nexport const configurationService = keyVaultService; ","import { createClient } from '@supabase/supabase-js'\r\nimport { keyVaultService } from '../services/keyVaultService'\r\nimport type { Database as SupabaseDatabase } from '../types/supabase'\r\n\r\n// Check if we're in a test environment\r\nconst isTestEnvironment =\r\n  import.meta.env.MODE === 'test' || process.env.NODE_ENV === 'test'\r\n\r\n// Initialize Supabase client with Azure Key Vault integration\r\nlet supabaseClient: ReturnType<typeof createClient<SupabaseDatabase>> | null = null\r\n\r\nexport const initializeSupabase = async () => {\r\n  if (supabaseClient || isTestEnvironment) {\r\n    return supabaseClient\r\n  }\r\n\r\n  try {\r\n    console.log(' Initializing Supabase with Azure Key Vault credentials...')\r\n    \r\n    // Get credentials from Azure Key Vault\r\n    const { url, anonKey } = await keyVaultService.getSupabaseConfig()\r\n    \r\n    supabaseClient = createClient<SupabaseDatabase>(url, anonKey, {\r\n      auth: {\r\n        autoRefreshToken: true,\r\n        persistSession: true,\r\n        detectSessionInUrl: true,\r\n      },\r\n    })\r\n    \r\n    console.log(' Supabase client initialized successfully with Azure Key Vault')\r\n    return supabaseClient\r\n  } catch (error) {\r\n    console.error(' Failed to initialize Supabase client with Key Vault:', error)\r\n    console.warn(' Running in offline mode - Key Vault unavailable')\r\n    return null\r\n  }\r\n}\r\n\r\n// Export the promise-based client\r\nexport const getSupabaseClient = async () => {\r\n  if (!supabaseClient && !isTestEnvironment) {\r\n    await initializeSupabase()\r\n  }\r\n  return supabaseClient\r\n}\r\n\r\n// Legacy export for backward compatibility (will be null initially)\r\nexport const supabase = supabaseClient\r\n\r\n// Re-export the Database type for convenience\r\nexport type { Database } from '../types/supabase'\r\n","// src/shared/utils/logging.ts\r\n// MVP 17 - Logging Service for Clean Production Code\r\n\r\ninterface LogLevel {\r\n  DEBUG: 0\r\n  INFO: 1\r\n  WARN: 2\r\n  ERROR: 3\r\n}\r\n\r\nconst LOG_LEVELS: LogLevel = {\r\n  DEBUG: 0,\r\n  INFO: 1,\r\n  WARN: 2,\r\n  ERROR: 3,\r\n}\r\n\r\nconst currentLogLevel = import.meta.env.PROD ? LOG_LEVELS.WARN : LOG_LEVELS.DEBUG\r\n\r\nfunction shouldLog(level: number): boolean {\r\n  return level >= currentLogLevel\r\n}\r\n\r\nexport function debug(message: string, ...args: unknown[]): void {\r\n  if (shouldLog(LOG_LEVELS.DEBUG)) {\r\n    console.log(` [DEBUG] ${message}`, ...args)\r\n  }\r\n}\r\n\r\nexport function info(message: string, ...args: unknown[]): void {\r\n  if (shouldLog(LOG_LEVELS.INFO)) {\r\n    console.log(` [INFO] ${message}`, ...args)\r\n  }\r\n}\r\n\r\nexport function warn(message: string, ...args: unknown[]): void {\r\n  if (shouldLog(LOG_LEVELS.WARN)) {\r\n    console.warn(` [WARN] ${message}`, ...args)\r\n  }\r\n}\r\n\r\nexport function error(message: string, ...args: unknown[]): void {\r\n  if (shouldLog(LOG_LEVELS.ERROR)) {\r\n    console.error(` [ERROR] ${message}`, ...args)\r\n  }\r\n}\r\n\r\n// Development-only helper\r\nexport function devLog(message: string, ...args: unknown[]): void {\r\n  if (import.meta.env.DEV) {\r\n    console.log(` [DEV] ${message}`, ...args)\r\n  }\r\n} ","import { getSupabaseClient } from '@/lib/supabase'\r\nimport type { User, AuthError } from '../types/auth'\r\nimport { debug, info, warn, error as logError } from '@/shared/utils/logging'\r\n\r\nexport class SupabaseAuthService {\r\n\r\n  /**\r\n   * Get Supabase client from Azure Key Vault\r\n   */\r\n  private async getSupabase() {\r\n    try {\r\n      console.log(' Using Azure Key Vault Supabase...')\r\n      const client = await getSupabaseClient()\r\n      return client\r\n    } catch (error) {\r\n      console.error('Failed to get Supabase client:', error)\r\n      return null\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if Supabase client is available and properly configured\r\n   */\r\n  private async isSupabaseAvailable(): Promise<boolean> {\r\n    const client = await this.getSupabase()\r\n    return !!client\r\n  }\r\n\r\n  /**\r\n   * Get error for when service is unavailable\r\n   */\r\n  private getUnavailableError(): AuthError {\r\n    return {\r\n      code: 'SERVICE_UNAVAILABLE',\r\n      message: 'Authentication service is currently unavailable',\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle network/connection errors from Supabase\r\n   */\r\n  private handleNetworkError(error: unknown): AuthError {\r\n    console.error('Network error details:', error)\r\n\r\n    const errorObj = error as Record<string, unknown>\r\n\r\n    // Handle specific Supabase error codes\r\n    if (errorObj?.code === 'invalid_credentials') {\r\n      return { code: 'INVALID_CREDENTIALS', message: 'Invalid email or password' }\r\n    }\r\n    \r\n    if (errorObj?.code === 'email_not_confirmed') {\r\n      return { code: 'EMAIL_NOT_CONFIRMED', message: 'Please check your email and click the confirmation link' }\r\n    }\r\n\r\n    if (errorObj?.code === 'signup_disabled') {\r\n      return { code: 'SIGNUP_DISABLED', message: 'New registrations are currently disabled' }\r\n    }\r\n\r\n    // Handle network/connection errors\r\n    const message = typeof errorObj?.message === 'string' ? errorObj.message : ''\r\n    if (message.includes('fetch') || message.includes('network') || errorObj?.code === 'NETWORK_ERROR') {\r\n      return { code: 'NETWORK_ERROR', message: 'Network connection failed. Please check your internet connection.' }\r\n    }\r\n\r\n    // Handle timeout errors\r\n    if (message.includes('timeout') || errorObj?.name === 'AbortError') {\r\n      return { code: 'TIMEOUT', message: 'Request timed out. Please try again.' }\r\n    }\r\n\r\n    // Handle database connection errors\r\n    if (errorObj?.code === '42P01' || message.includes('does not exist')) {\r\n      return { code: 'DATABASE_ERROR', message: 'Database configuration error. Please contact support.' }\r\n    }\r\n\r\n    // Generic fallback\r\n    return {\r\n      code: 'UNKNOWN_ERROR',\r\n      message: message || 'An unexpected error occurred',\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  /**\r\n   * Register a new user with enhanced error handling and retries\r\n   */\r\n  async register(\r\n    username: string,\r\n    email: string,\r\n    password: string\r\n  ): Promise<{ user: User | null; error: AuthError | null }> {\r\n    if (!(await this.isSupabaseAvailable())) {\r\n      return { user: null, error: this.getUnavailableError() }\r\n    }\r\n\r\n    try {\r\n      console.log(' Starting registration for:', { username, email })\r\n      const supabase = await this.getSupabase()\r\n      if (!supabase) {\r\n        return { user: null, error: this.getUnavailableError() }\r\n      }\r\n\r\n             // Check if username is already taken\r\n       const { data: existingUser, error: checkError } = await supabase\r\n         .from('profiles')\r\n         .select('username')\r\n         .eq('username', username)\r\n         .maybeSingle()\r\n\r\n       if (checkError && checkError.code !== 'PGRST116') { // PGRST116 = no rows returned\r\n         throw checkError\r\n       }\r\n\r\n      if (existingUser) {\r\n        console.log(' Username already taken:', username)\r\n        return {\r\n          user: null,\r\n          error: { code: 'USERNAME_TAKEN', message: 'Username already taken' },\r\n        }\r\n      }\r\n\r\n      console.log(' Username available, proceeding with registration')\r\n\r\n             // Register user with Supabase Auth\r\n       const { data: authData, error: authError } = await supabase.auth.signUp({\r\n         email,\r\n         password,\r\n         options: {\r\n           data: { username },\r\n           emailRedirectTo: undefined,\r\n         },\r\n       })\r\n\r\n       if (authError) throw authError\r\n\r\n      if (!authData.user) {\r\n        return {\r\n          user: null,\r\n          error: { code: 'SIGNUP_FAILED', message: 'Registration failed' },\r\n        }\r\n      }\r\n\r\n      // Profile is created automatically via trigger\r\n      const user: User = {\r\n        id: authData.user.id,\r\n        name: username,\r\n        email: authData.user.email || email,\r\n      }\r\n\r\n      console.log(' Registration successful:', user)\r\n      return { user, error: null }\r\n    } catch (error: unknown) {\r\n      console.error('Registration exception:', error)\r\n      \r\n      // Handle \"User already registered\" error specifically\r\n      const errorObj = error as Record<string, unknown>\r\n      const errorMessage = typeof errorObj?.message === 'string' ? errorObj.message : ''\r\n      if (errorMessage.includes('User already registered')) {\r\n        return {\r\n          user: null,\r\n          error: {\r\n            code: 'USER_ALREADY_EXISTS',\r\n            message: 'An account with this email already exists. Please try logging in instead.',\r\n          }\r\n        }\r\n      }\r\n      \r\n      return {\r\n        user: null,\r\n        error: this.handleNetworkError(error),\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Login user with email and password with enhanced error handling\r\n   */\r\n  async login(\r\n    email: string,\r\n    password: string\r\n  ): Promise<{ user: User | null; error: AuthError | null }> {\r\n    if (!this.isSupabaseAvailable()) {\r\n      return { user: null, error: this.getUnavailableError() }\r\n    }\r\n\r\n    try {\r\n      console.log(' Starting login with email:', email)\r\n\r\n             // Authenticate with Supabase\r\n       const supabase = await this.getSupabase()\r\n       if (!supabase) {\r\n         return { user: null, error: this.getUnavailableError() }\r\n       }\r\n\r\n       const { data: authData, error: authError } = await supabase.auth.signInWithPassword({\r\n         email,\r\n         password,\r\n       })\r\n\r\n       if (authError) throw authError\r\n\r\n      if (!authData.user) {\r\n        return {\r\n          user: null,\r\n          error: { code: 'LOGIN_FAILED', message: 'Login failed' },\r\n        }\r\n      }\r\n\r\n      debug('Auth successful, fetching profile for user:', authData.user.id)\r\n\r\n             // Get user profile with fallback\r\n       let profile: { username: string } | null = null\r\n       try {\r\n         const { data, error } = await supabase!\r\n           .from('profiles')\r\n           .select('username')\r\n           .eq('id', authData.user.id)\r\n           .single()\r\n         \r\n         if (error) throw error\r\n         profile = {\r\n           username: (data as any)?.username as string\r\n         }\r\n       } catch (error) {\r\n         warn('Profile fetch error (using fallback):', error)\r\n       }\r\n\r\n      const user: User = {\r\n        id: authData.user.id,\r\n        name: profile?.username || authData.user.user_metadata?.username || 'User',\r\n        email: authData.user.email || email,\r\n      }\r\n\r\n      info('Login successful:', user)\r\n      return { user, error: null }\r\n    } catch (error) {\r\n      logError('Login error:', error)\r\n      return {\r\n        user: null,\r\n        error: this.handleNetworkError(error),\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Login with username with improved error handling and fallback strategies\r\n   */\r\n  async loginWithUsername(\r\n    username: string,\r\n    password: string\r\n  ): Promise<{ user: User | null; error: AuthError | null }> {\r\n    if (!this.isSupabaseAvailable()) {\r\n      logError('Supabase client not available')\r\n      return { user: null, error: this.getUnavailableError() }\r\n    }\r\n\r\n    try {\r\n      debug('Starting login with username:', username)\r\n\r\n             // Try to find the profile with this username using multiple strategies\r\n       let profile: { id: string; username: string; email?: string } | null = null\r\n       let email: string | null = null\r\n\r\n       const supabase = await this.getSupabase()\r\n       if (!supabase) {\r\n         return { user: null, error: this.getUnavailableError() }\r\n       }\r\n\r\n       // Strategy 1: Try profiles table directly (user_lookup now requires authentication)\r\n       try {\r\n         const { data, error } = await supabase\r\n           .from('profiles')\r\n           .select('id, username, email')\r\n           .eq('username', username)\r\n           .single()\r\n         \r\n         if (error) throw error\r\n         profile = {\r\n           id: data.id as string,\r\n           username: data.username as string,\r\n           email: data.email as string | undefined\r\n         }\r\n         email = profile?.email || null\r\n         debug('Found profile via profiles table:', profile)\r\n       } catch (error: unknown) {\r\n         debug('profiles table lookup failed:', error)\r\n       }\r\n\r\n      if (!profile || !email) {\r\n        warn('Profile not found for username:', username)\r\n        return {\r\n          user: null,\r\n          error: { code: 'USER_NOT_FOUND', message: 'Username not found' },\r\n        }\r\n      }\r\n\r\n      debug('Profile found, attempting login with email:', email)\r\n\r\n      // Now login with the found email\r\n      return await this.login(email, password)\r\n    } catch (error) {\r\n      logError('Username login error:', error)\r\n      return {\r\n        user: null,\r\n        error: this.handleNetworkError(error),\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get current authenticated user with improved error handling\r\n   */\r\n  async getCurrentUser(): Promise<User | null> {\r\n    if (!this.isSupabaseAvailable()) {\r\n      return null\r\n    }\r\n\r\n    try {\r\n      // Add timeout to the entire operation\r\n      const timeoutPromise = new Promise<never>((_, reject) => {\r\n        setTimeout(() => reject(new Error('getCurrentUser timeout')), 3000)\r\n      })\r\n\r\n      const getCurrentUserOperation = async () => {\r\n        const supabase = await this.getSupabase()\r\n        if (!supabase) return null\r\n        \r\n        const { data: { user: authUser }, error } = await supabase.auth.getUser()\r\n\r\n        if (error || !authUser) {\r\n          debug('No authenticated user found')\r\n          return null\r\n        }\r\n\r\n        // Try to get profile data with fallback and timeout\r\n        let profile: { username: string } | null = null\r\n        try {\r\n          const profilePromise = supabase\r\n            .from('profiles')\r\n            .select('username')\r\n            .eq('id', authUser.id)\r\n            .single()\r\n          \r\n          const profileTimeout = new Promise<never>((_, reject) => {\r\n            setTimeout(() => reject(new Error('Profile fetch timeout')), 2000)\r\n          })\r\n\r\n          const { data } = await Promise.race([profilePromise, profileTimeout])\r\n          profile = data ? {\r\n            username: (data as any)?.username as string\r\n          } : null\r\n        } catch (error) {\r\n          warn('Profile fetch failed, using auth metadata:', error)\r\n        }\r\n\r\n        return {\r\n          id: authUser.id,\r\n          name: profile?.username || authUser.user_metadata?.username || 'User',\r\n          email: authUser.email || '',\r\n        }\r\n      }\r\n\r\n      return await Promise.race([getCurrentUserOperation(), timeoutPromise])\r\n    } catch (error) {\r\n      logError('Error getting current user:', error)\r\n      return null\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Logout user with improved error handling\r\n   */\r\n  async logout(): Promise<void> {\r\n    if (!(await this.isSupabaseAvailable())) {\r\n      return\r\n    }\r\n\r\n    try {\r\n      const supabase = await this.getSupabase()\r\n      if (!supabase) return\r\n      \r\n      await supabase.auth.signOut()\r\n      info('Logout successful')\r\n    } catch (error) {\r\n      logError('Logout error:', error)\r\n      // Don't throw on logout errors, just log them\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set up auth state change listener with error handling\r\n   */\r\n  onAuthStateChange(_callback: (user: User | null) => void) {\r\n    // Temporarily disabled due to compilation issues\r\n    console.warn('onAuthStateChange temporarily disabled')\r\n    return () => {}\r\n  }\r\n\r\n  /**\r\n   * Get current session directly without profile fetch (faster)\r\n   */\r\n  async getSession(): Promise<User | null> {\r\n    if (!(await this.isSupabaseAvailable())) {\r\n      return null\r\n    }\r\n\r\n    try {\r\n      const supabase = await this.getSupabase()\r\n      if (!supabase) return null\r\n      \r\n      const { data: { session }, error } = await supabase.auth.getSession()\r\n\r\n      if (error || !session?.user) {\r\n        debug('No active session found')\r\n        return null\r\n      }\r\n\r\n      return {\r\n        id: session.user.id,\r\n        name: session.user.user_metadata?.username || 'User',\r\n        email: session.user.email || '',\r\n      }\r\n    } catch (error) {\r\n      logError('Error getting session:', error)\r\n      return null\r\n    }\r\n  }\r\n}\r\n\r\nexport const supabaseAuth = new SupabaseAuthService()\r\n","import { User } from '../types/auth'\r\n\r\ninterface LoginCredentials {\r\n  username: string\r\n  password: string\r\n}\r\n\r\ninterface RegisterData {\r\n  username: string\r\n  password: string\r\n  email?: string\r\n  name?: string\r\n}\r\n\r\ninterface StoredUser {\r\n  id: string\r\n  username: string\r\n  email?: string\r\n  name?: string\r\n  passwordHash: string\r\n  createdAt: string\r\n}\r\n\r\nexport class LocalAuthService {\r\n  private readonly USERS_KEY = 'zenkai_users'\r\n  private readonly CURRENT_USER_KEY = 'zenkai_current_user'\r\n\r\n  /**\r\n   * Simple hash function for passwords (in production, use bcrypt or similar)\r\n   */\r\n  private hashPassword(password: string): string {\r\n    // Simple hash for demo - in production use proper hashing\r\n    let hash = 0\r\n    for (let i = 0; i < password.length; i++) {\r\n      const char = password.charCodeAt(i)\r\n      hash = (hash << 5) - hash + char\r\n      hash = hash & hash // Convert to 32-bit integer\r\n    }\r\n    return hash.toString()\r\n  }\r\n\r\n  /**\r\n   * Get all stored users\r\n   */\r\n  private getStoredUsers(): StoredUser[] {\r\n    try {\r\n      const users = localStorage.getItem(this.USERS_KEY)\r\n      return users ? JSON.parse(users) : []\r\n    } catch {\r\n      return []\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Save users to localStorage\r\n   */\r\n  private saveUsers(users: StoredUser[]): void {\r\n    localStorage.setItem(this.USERS_KEY, JSON.stringify(users))\r\n  }\r\n\r\n  /**\r\n   * Generate unique user ID\r\n   */\r\n  private generateUserId(): string {\r\n    return 'user_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9)\r\n  }\r\n\r\n  /**\r\n   * Register new user\r\n   */\r\n  async register(data: RegisterData): Promise<User> {\r\n    const users = this.getStoredUsers()\r\n\r\n    // Check if username already exists\r\n    if (users.find((user) => user.username === data.username)) {\r\n      throw new Error('Username already exists')\r\n    }\r\n\r\n    // Create new user\r\n    const newUser: StoredUser = {\r\n      id: this.generateUserId(),\r\n      username: data.username,\r\n      email: data.email,\r\n      name: data.name || data.username,\r\n      passwordHash: this.hashPassword(data.password),\r\n      createdAt: new Date().toISOString(),\r\n    }\r\n\r\n    users.push(newUser)\r\n    this.saveUsers(users)\r\n\r\n    // Return public user info\r\n    const publicUser: User = {\r\n      id: newUser.id,\r\n      email: newUser.email || '',\r\n      name: newUser.name || newUser.username,\r\n      username: newUser.username,\r\n    }\r\n\r\n    return publicUser\r\n  }\r\n\r\n  /**\r\n   * Login user\r\n   */\r\n  async login(\r\n    credentials: LoginCredentials\r\n  ): Promise<{ user: User; token: string }> {\r\n    const users = this.getStoredUsers()\r\n    const passwordHash = this.hashPassword(credentials.password)\r\n\r\n    const storedUser = users.find(\r\n      (user) =>\r\n        user.username === credentials.username &&\r\n        user.passwordHash === passwordHash\r\n    )\r\n\r\n    if (!storedUser) {\r\n      throw new Error('Invalid username or password')\r\n    }\r\n\r\n    // Create session token (simple timestamp-based token)\r\n    const token = `token_${storedUser.id}_${Date.now()}`\r\n\r\n    // Store current user session\r\n    localStorage.setItem(\r\n      this.CURRENT_USER_KEY,\r\n      JSON.stringify({\r\n        user: storedUser,\r\n        token,\r\n        loginTime: Date.now(),\r\n      })\r\n    )\r\n\r\n    const publicUser: User = {\r\n      id: storedUser.id,\r\n      email: storedUser.email || '',\r\n      name: storedUser.name || storedUser.username,\r\n      username: storedUser.username,\r\n    }\r\n\r\n    return { user: publicUser, token }\r\n  }\r\n\r\n  /**\r\n   * Check if user is currently logged in\r\n   */\r\n  getCurrentUser(): { user: User; token: string } | null {\r\n    try {\r\n      const currentSession = localStorage.getItem(this.CURRENT_USER_KEY)\r\n      if (!currentSession) return null\r\n\r\n      const session = JSON.parse(currentSession)\r\n      const loginTime = session.loginTime || 0\r\n      const now = Date.now()\r\n      const sessionAge = now - loginTime\r\n\r\n      // Session expires after 7 days\r\n      if (sessionAge > 7 * 24 * 60 * 60 * 1000) {\r\n        this.logout()\r\n        return null\r\n      }\r\n\r\n      const publicUser: User = {\r\n        id: session.user.id,\r\n        email: session.user.email || '',\r\n        name: session.user.name || session.user.username,\r\n        username: session.user.username,\r\n      }\r\n\r\n      return { user: publicUser, token: session.token }\r\n    } catch {\r\n      return null\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Logout user\r\n   */\r\n  logout(): void {\r\n    localStorage.removeItem(this.CURRENT_USER_KEY)\r\n  }\r\n\r\n  /**\r\n   * Check if token is valid\r\n   */\r\n  isTokenValid(token: string): boolean {\r\n    const session = this.getCurrentUser()\r\n    return session?.token === token\r\n  }\r\n\r\n  /**\r\n   * Get all usernames (for checking availability)\r\n   */\r\n  getAllUsernames(): string[] {\r\n    return this.getStoredUsers().map((user) => user.username)\r\n  }\r\n}\r\n\r\nexport const localAuthService = new LocalAuthService()\r\n","import { createClient, SupabaseClient } from '@supabase/supabase-js'\r\nimport type { Database } from '../types/supabase'\r\nimport { keyVaultService } from '../services/keyVaultService'\r\n\r\ntype TypedSupabaseClient = SupabaseClient<Database>\r\n\r\nlet supabaseClient: TypedSupabaseClient | null = null\r\nlet initializationPromise: Promise<TypedSupabaseClient | null> | null = null\r\n\r\nconst isTestEnvironment = import.meta.env.MODE === 'test' || process.env.NODE_ENV === 'test'\r\n\r\nasync function initializeSupabaseClient(): Promise<TypedSupabaseClient | null> {\r\n  if (supabaseClient || isTestEnvironment) {\r\n    return supabaseClient\r\n  }\r\n\r\n  try {\r\n    console.log(' Initializing Supabase with Azure Key Vault credentials...')\r\n    \r\n    const { url, anonKey } = await keyVaultService.getSupabaseConfig()\r\n    \r\n    supabaseClient = createClient<Database>(url, anonKey, {\r\n      auth: {\r\n        autoRefreshToken: true,\r\n        persistSession: true,\r\n        detectSessionInUrl: true,\r\n      },\r\n    })\r\n    \r\n    console.log(' Supabase client initialized successfully')\r\n    return supabaseClient\r\n  } catch (error) {\r\n    console.error(' Failed to initialize Supabase client:', error)\r\n    console.warn(' Running in offline mode')\r\n    return null\r\n  }\r\n}\r\n\r\nexport async function getSupabaseClient(): Promise<TypedSupabaseClient | null> {\r\n  if (supabaseClient) {\r\n    return supabaseClient\r\n  }\r\n\r\n  if (!initializationPromise) {\r\n    initializationPromise = initializeSupabaseClient()\r\n  }\r\n\r\n  return await initializationPromise\r\n}\r\n\r\n// For repositories that need a synchronous client (temporary fallback)\r\nexport function getSupabaseClientSync(): TypedSupabaseClient | null {\r\n  return supabaseClient\r\n}\r\n\r\nexport type { Database } ","import Dexie, { Table } from 'dexie'\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport { WeightEntry, WeightGoal, WeightGoalInput } from './types'\r\nimport { getSupabaseClientSync } from '@/lib/supabase-client'\r\nimport { supabase } from '@/lib/supabase'\r\n\r\nclass WeightDatabase extends Dexie {\r\n  weights!: Table<WeightEntry>\r\n  goals!: Table<WeightGoal>\r\n\r\n  constructor(userId?: string) {\r\n    // Create user-specific database name\r\n    const dbName = userId ? `WeightDatabase_${userId}` : 'WeightDatabase'\r\n    super(dbName)\r\n    this.version(32).stores({\r\n      weights: 'id, dateISO, kg',\r\n      goals: 'id, targetWeight, goalType, targetDate, startingWeight, isActive, createdAt, updatedAt',\r\n    })\r\n  }\r\n}\r\n\r\n// Global database instance - will be reinitialized per user\r\nlet db: WeightDatabase\r\n\r\n// Initialize database for specific user\r\nexport const initializeWeightDatabase = (userId: string) => {\r\n  if (db) {\r\n    db.close()\r\n  }\r\n  db = new WeightDatabase(userId)\r\n  return db\r\n}\r\n\r\n// Get current database instance\r\nconst getDatabase = (): WeightDatabase => {\r\n  if (!db) {\r\n    // Fallback to anonymous database if no user\r\n    db = new WeightDatabase()\r\n  }\r\n  return db\r\n}\r\n\r\n// Supabase repository for cloud storage\r\nexport const supabaseWeightRepo = {\r\n  async addWeight(entry: Omit<WeightEntry, 'id'>, userId: string): Promise<WeightEntry> {\r\n    const supabase = getSupabaseClientSync()\r\n    if (!supabase) throw new Error('Supabase not available')\r\n\r\n    // First try to insert\r\n    const { data, error } = await supabase\r\n      .from('weight_entries')\r\n      .insert({\r\n        user_id: userId,\r\n        date_iso: entry.dateISO,\r\n        kg: entry.kg,\r\n      })\r\n      .select()\r\n      .single()\r\n\r\n    // If duplicate key error, update the existing entry instead\r\n    if (error && error.code === '23505') {\r\n      const { data: updateData, error: updateError } = await supabase\r\n        .from('weight_entries')\r\n        .update({\r\n          kg: entry.kg,\r\n        })\r\n        .eq('user_id', userId)\r\n        .eq('date_iso', entry.dateISO)\r\n        .select()\r\n        .single()\r\n\r\n      if (updateError) throw updateError\r\n\r\n      return {\r\n        id: updateData.id,\r\n        dateISO: updateData.date_iso ?? '',\r\n        kg: updateData.kg ?? 0,\r\n      }\r\n    }\r\n\r\n    if (error) throw error\r\n\r\n    return {\r\n      id: data.id,\r\n      dateISO: data.date_iso ?? '',\r\n      kg: data.kg ?? 0,\r\n    }\r\n  },\r\n\r\n  async deleteWeight(id: string): Promise<void> {\r\n    const supabase = getSupabaseClientSync()\r\n    if (!supabase) throw new Error('Supabase not available')\r\n\r\n    const { error } = await supabase\r\n      .from('weight_entries')\r\n      .delete()\r\n      .eq('id', id)\r\n\r\n    if (error) throw error\r\n  },\r\n\r\n  async getAllWeights(userId: string): Promise<WeightEntry[]> {\r\n    const supabase = getSupabaseClientSync()\r\n    if (!supabase) throw new Error('Supabase not available')\r\n\r\n    const { data, error } = await supabase\r\n      .from('weight_entries')\r\n      .select('*')\r\n      .eq('user_id', userId)\r\n      .order('date_iso', { ascending: false })\r\n\r\n    if (error) throw error\r\n\r\n    return (data || []).map((item: any) => ({\r\n      id: item.id,\r\n      dateISO: item.date_iso ?? '',\r\n      kg: item.kg ?? 0,\r\n    }))\r\n  },\r\n\r\n  async getWeightById(id: string): Promise<WeightEntry | undefined> {\r\n    const supabase = getSupabaseClientSync()\r\n    if (!supabase) throw new Error('Supabase not available')\r\n\r\n    const { data, error } = await supabase\r\n      .from('weight_entries')\r\n      .select('*')\r\n      .eq('id', id)\r\n      .single()\r\n\r\n    if (error) {\r\n      if (error.code === 'PGRST116') {\r\n        return undefined // Entry not found\r\n      }\r\n      throw error\r\n    }\r\n\r\n    return {\r\n      id: data.id,\r\n      dateISO: data.date_iso ?? '',\r\n      kg: data.kg ?? 0,\r\n    }\r\n  },\r\n\r\n  async updateWeight(id: string, updates: Partial<Omit<WeightEntry, 'id'>>): Promise<WeightEntry> {\r\n    const supabase = getSupabaseClientSync()\r\n    if (!supabase) throw new Error('Supabase not available')\r\n\r\n    const updateData: Record<string, unknown> = {}\r\n    if (updates.dateISO !== undefined) updateData.date_iso = updates.dateISO\r\n    if (updates.kg !== undefined) updateData.kg = updates.kg\r\n\r\n    const { data, error } = await supabase\r\n      .from('weight_entries')\r\n      .update(updateData)\r\n      .eq('id', id)\r\n      .select()\r\n      .single()\r\n\r\n    if (error) {\r\n      // If entry not found, it might be a local-only entry\r\n      if (error.code === 'PGRST116') {\r\n        throw new Error('Weight entry not found in cloud storage')\r\n      }\r\n      throw error\r\n    }\r\n\r\n    return {\r\n      id: data.id,\r\n      dateISO: data.date_iso ?? '',\r\n      kg: data.kg ?? 0,\r\n    }\r\n  },\r\n\r\n  async clearAll(userId: string): Promise<void> {\r\n    const supabase = getSupabaseClientSync()\r\n    if (!supabase) throw new Error('Supabase not available')\r\n\r\n    const { error } = await supabase\r\n      .from('weight_entries')\r\n      .delete()\r\n      .eq('user_id', userId)\r\n\r\n    if (error) throw error\r\n  },\r\n}\r\n\r\n// Original IndexedDB repository (kept for offline functionality)\r\nexport const weightRepo = {\r\n  async addWeight(entry: Omit<WeightEntry, 'id'>): Promise<WeightEntry> {\r\n    const database = getDatabase()\r\n    \r\n    // Check if entry already exists for this date\r\n    const existingEntry = await database.weights\r\n      .where('dateISO')\r\n      .equals(entry.dateISO)\r\n      .first()\r\n\r\n    if (existingEntry) {\r\n      // Update existing entry\r\n      const updatedEntry: WeightEntry = {\r\n        ...existingEntry,\r\n        kg: entry.kg,\r\n      }\r\n      await database.weights.put(updatedEntry)\r\n      return updatedEntry\r\n    } else {\r\n      // Create new entry\r\n      const newEntry: WeightEntry = {\r\n        id: uuidv4(),\r\n        ...entry,\r\n      }\r\n      await database.weights.add(newEntry)\r\n      return newEntry\r\n    }\r\n  },\r\n\r\n  async deleteWeight(id: string): Promise<void> {\r\n    const database = getDatabase()\r\n    await database.weights.delete(id)\r\n  },\r\n\r\n  async getAllWeights(): Promise<WeightEntry[]> {\r\n    const database = getDatabase()\r\n    return await database.weights.orderBy('dateISO').reverse().toArray()\r\n  },\r\n\r\n  async getWeightById(id: string): Promise<WeightEntry | undefined> {\r\n    const database = getDatabase()\r\n    return await database.weights.get(id)\r\n  },\r\n\r\n  async updateWeight(id: string, updates: Partial<Omit<WeightEntry, 'id'>>): Promise<WeightEntry> {\r\n    const database = getDatabase()\r\n    \r\n    // Get the existing entry\r\n    const existing = await database.weights.get(id)\r\n    if (!existing) {\r\n      throw new Error('Weight entry not found')\r\n    }\r\n\r\n    // Create updated entry\r\n    const updatedEntry: WeightEntry = {\r\n      ...existing,\r\n      ...updates,\r\n    }\r\n\r\n    // Update in database\r\n    await database.weights.put(updatedEntry)\r\n    return updatedEntry\r\n  },\r\n\r\n  async clearAll(): Promise<void> {\r\n    const database = getDatabase()\r\n    await database.weights.clear()\r\n  },\r\n}\r\n\r\n// Hybrid repository that uses Supabase when available, falls back to IndexedDB\r\nexport const hybridWeightRepo = {\r\n  async addWeight(entry: Omit<WeightEntry, 'id'>, userId?: string): Promise<WeightEntry> {\r\n    try {\r\n      if (supabase && userId) {\r\n        // Try Supabase first\r\n        const result = await supabaseWeightRepo.addWeight(entry, userId)\r\n        // Also save to local for offline access\r\n        await weightRepo.addWeight(entry)\r\n        return result\r\n      }\r\n    } catch (error) {\r\n      console.warn('Supabase save failed, using local storage:', error)\r\n    }\r\n    \r\n    // Fallback to local storage\r\n    return await weightRepo.addWeight(entry)\r\n  },\r\n\r\n  async deleteWeight(id: string, userId?: string): Promise<void> {\r\n    try {\r\n      if (supabase && userId) {\r\n        await supabaseWeightRepo.deleteWeight(id)\r\n      }\r\n    } catch (error) {\r\n      console.warn('Supabase delete failed:', error)\r\n    }\r\n    \r\n    // Always delete from local\r\n    await weightRepo.deleteWeight(id)\r\n  },\r\n\r\n  async getAllWeights(userId?: string): Promise<WeightEntry[]> {\r\n    try {\r\n      if (supabase && userId) {\r\n        // Try to get from Supabase first\r\n        return await supabaseWeightRepo.getAllWeights(userId)\r\n      }\r\n    } catch (error) {\r\n      console.warn('Supabase fetch failed, using local storage:', error)\r\n    }\r\n    \r\n    // Fallback to local storage\r\n    return await weightRepo.getAllWeights()\r\n  },\r\n\r\n  async getWeightById(id: string, userId?: string): Promise<WeightEntry | undefined> {\r\n    try {\r\n      if (supabase && userId) {\r\n        return await supabaseWeightRepo.getWeightById(id)\r\n      }\r\n    } catch (error) {\r\n      console.warn('Supabase fetch failed, using local storage:', error)\r\n    }\r\n    \r\n    return await weightRepo.getWeightById(id)\r\n  },\r\n\r\n  async updateWeight(id: string, updates: Partial<Omit<WeightEntry, 'id'>>, userId?: string): Promise<WeightEntry> {\r\n    let cloudResult: WeightEntry | null = null\r\n\r\n    // Try Supabase first if available\r\n    if (supabase && userId) {\r\n      try {\r\n        cloudResult = await supabaseWeightRepo.updateWeight(id, updates)\r\n      } catch (error) {\r\n        console.warn('Supabase update failed:', error)\r\n        \r\n        // If the entry doesn't exist in Supabase, try to create it\r\n        if (error instanceof Error && error.message.includes('not found in cloud storage')) {\r\n          try {\r\n            // Get the full entry from local storage first\r\n            const localEntry = await weightRepo.getWeightById(id)\r\n            if (localEntry) {\r\n              // Create the entry in Supabase with the updates applied\r\n              const entryToCreate = { ...localEntry, ...updates }\r\n              // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n              delete (entryToCreate as any).id // Remove id for creation\r\n              cloudResult = await supabaseWeightRepo.addWeight(entryToCreate, userId)\r\n              console.log(' Created missing entry in Supabase:', cloudResult)\r\n            }\r\n          } catch (createError) {\r\n            console.warn('Failed to create entry in Supabase:', createError)\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Try to update local storage, but handle missing entries gracefully\r\n    let localResult: WeightEntry\r\n    try {\r\n      localResult = await weightRepo.updateWeight(id, updates)\r\n    } catch (localError) {\r\n      // If local entry doesn't exist, try to create it (this is normal for cloud sync)\r\n      if (localError instanceof Error && localError.message.includes('Weight entry not found')) {\r\n        console.info(' Local entry not found, syncing from cloud data (normal behavior)')\r\n        \r\n        try {\r\n          // If we have a cloud result, use that to create local entry\r\n          if (cloudResult) {\r\n            await weightRepo.addWeight({\r\n              dateISO: cloudResult.dateISO,\r\n              kg: cloudResult.kg\r\n            })\r\n            localResult = cloudResult\r\n            console.info(' Successfully synced entry to local storage:', { id: cloudResult.id, dateISO: cloudResult.dateISO })\r\n          } else {\r\n            // Create a new entry with the updates (fallback)\r\n            const newEntry = {\r\n              dateISO: updates.dateISO || new Date().toISOString().split('T')[0],\r\n              kg: updates.kg || 0\r\n            }\r\n            localResult = await weightRepo.addWeight(newEntry)\r\n            console.info(' Created new local entry as fallback:', { id: localResult.id, dateISO: localResult.dateISO })\r\n          }\r\n        } catch (createError) {\r\n          console.error(' Failed to sync entry to local storage:', createError)\r\n          // If all else fails, return cloud result or throw\r\n          if (cloudResult) {\r\n            console.info(' Returning cloud result despite local sync failure')\r\n            return cloudResult\r\n          }\r\n          throw localError\r\n        }\r\n      } else {\r\n        // This is an unexpected error, log it properly\r\n        console.error(' Unexpected local storage error:', localError)\r\n        throw localError\r\n      }\r\n    }\r\n    \r\n    // Return cloud result if successful, otherwise local result\r\n    return cloudResult || localResult\r\n  },\r\n\r\n  async clearAll(userId?: string): Promise<void> {\r\n    try {\r\n      if (supabase && userId) {\r\n        await supabaseWeightRepo.clearAll(userId)\r\n      }\r\n    } catch (error) {\r\n      console.warn('Supabase clear failed:', error)\r\n    }\r\n    \r\n    await weightRepo.clearAll()\r\n  },\r\n\r\n  async syncData(userId?: string): Promise<{ synced: number; errors: number }> {\r\n    if (!supabase || !userId) {\r\n      console.info(' Skipping data sync - no cloud storage available')\r\n      return { synced: 0, errors: 0 }\r\n    }\r\n\r\n    console.info(' Starting weight data synchronization...')\r\n    let syncedCount = 0\r\n    let errorCount = 0\r\n\r\n    try {\r\n      // Get all cloud data\r\n      const cloudWeights = await supabaseWeightRepo.getAllWeights(userId)\r\n      console.info(` Found ${cloudWeights.length} entries in cloud storage`)\r\n\r\n      // Get all local data\r\n      const localWeights = await weightRepo.getAllWeights()\r\n      console.info(` Found ${localWeights.length} entries in local storage`)\r\n\r\n      // Create a map of local entries by ID for quick lookup\r\n      const localWeightsMap = new Map(localWeights.map(w => [w.id, w]))\r\n\r\n      // Sync cloud entries to local storage\r\n      for (const cloudWeight of cloudWeights) {\r\n        try {\r\n          const localWeight = localWeightsMap.get(cloudWeight.id)\r\n          \r\n          if (!localWeight) {\r\n            // Entry exists in cloud but not locally - add it\r\n            await weightRepo.addWeight({\r\n              dateISO: cloudWeight.dateISO,\r\n              kg: cloudWeight.kg\r\n            })\r\n            syncedCount++\r\n            console.debug(` Synced entry to local: ${cloudWeight.dateISO}`)\r\n          } else {\r\n            // Entry exists in both - check if they match\r\n            if (localWeight.kg !== cloudWeight.kg || localWeight.dateISO !== cloudWeight.dateISO) {\r\n              // Cloud version is newer, update local\r\n              await weightRepo.updateWeight(cloudWeight.id, {\r\n                dateISO: cloudWeight.dateISO,\r\n                kg: cloudWeight.kg\r\n              })\r\n              syncedCount++\r\n              console.debug(` Updated local entry: ${cloudWeight.dateISO}`)\r\n            }\r\n          }\r\n        } catch (error) {\r\n          console.warn(` Failed to sync entry ${cloudWeight.id}:`, error)\r\n          errorCount++\r\n        }\r\n      }\r\n\r\n      console.info(` Data sync complete: ${syncedCount} entries synced, ${errorCount} errors`)\r\n      return { synced: syncedCount, errors: errorCount }\r\n    } catch (error) {\r\n      console.error(' Data synchronization failed:', error)\r\n      return { synced: syncedCount, errors: errorCount + 1 }\r\n    }\r\n  },\r\n}\r\n\r\n// Supabase repository for weight goals\r\nexport const supabaseWeightGoalRepo = {\r\n  async addGoal(goal: WeightGoalInput, userId: string): Promise<WeightGoal> {\r\n    const supabase = getSupabaseClientSync()\r\n    if (!supabase) throw new Error('Supabase not available')\r\n\r\n    // First, deactivate any existing active goals\r\n    await supabase\r\n      .from('weight_goals')\r\n      .update({ is_active: false })\r\n      .eq('user_id', userId)\r\n      .eq('is_active', true)\r\n\r\n    const { data, error } = await supabase\r\n      .from('weight_goals')\r\n      .insert({\r\n        user_id: userId,\r\n        goal_type: goal.goalType,\r\n        target_weight: goal.targetWeight,\r\n        target_date: goal.targetDate,\r\n        is_active: true,\r\n      })\r\n      .select()\r\n      .single()\r\n\r\n    if (error) throw error\r\n\r\n    return {\r\n      id: data.id,\r\n      goalType: data.goal_type as any,\r\n      targetWeight: data.target_weight ?? 0,\r\n      targetDate: data.target_date ?? '',\r\n      isActive: data.is_active ?? false,\r\n      createdAt: data.created_at ?? new Date().toISOString(),\r\n      updatedAt: data.updated_at ?? new Date().toISOString(),\r\n    }\r\n  },\r\n\r\n  async updateGoal(id: string, goal: Partial<WeightGoalInput>): Promise<WeightGoal> {\r\n    const supabase = getSupabaseClientSync()\r\n    if (!supabase) throw new Error('Supabase not available')\r\n\r\n    const updateData: Record<string, unknown> = {}\r\n    if (goal.goalType !== undefined) updateData.goal_type = goal.goalType\r\n    if (goal.targetWeight !== undefined) updateData.target_weight = goal.targetWeight\r\n    if (goal.targetDate !== undefined) updateData.target_date = goal.targetDate\r\n\r\n    const { data, error } = await supabase\r\n      .from('weight_goals')\r\n      .update(updateData)\r\n      .eq('id', id)\r\n      .select()\r\n      .single()\r\n\r\n    if (error) throw error\r\n\r\n    return {\r\n      id: data.id,\r\n      goalType: data.goal_type as any,\r\n      targetWeight: data.target_weight ?? 0,\r\n      targetDate: data.target_date ?? '',\r\n      isActive: data.is_active ?? false,\r\n      createdAt: data.created_at ?? new Date().toISOString(),\r\n      updatedAt: data.updated_at ?? new Date().toISOString(),\r\n    }\r\n  },\r\n\r\n  async getActiveGoal(userId: string): Promise<WeightGoal | null> {\r\n    const supabase = getSupabaseClientSync()\r\n    if (!supabase) throw new Error('Supabase not available')\r\n\r\n    const { data, error } = await supabase\r\n      .from('weight_goals')\r\n      .select('*')\r\n      .eq('user_id', userId)\r\n      .eq('is_active', true)\r\n      .single()\r\n\r\n    if (error) {\r\n      if (error.code === 'PGRST116') {\r\n        return null // No active goal found\r\n      }\r\n      throw error\r\n    }\r\n\r\n    return {\r\n      id: data.id,\r\n      goalType: data.goal_type as any,\r\n      targetWeight: data.target_weight ?? 0,\r\n      targetDate: data.target_date ?? '',\r\n      isActive: data.is_active ?? false,\r\n      createdAt: data.created_at ?? new Date().toISOString(),\r\n      updatedAt: data.updated_at ?? new Date().toISOString(),\r\n    }\r\n  },\r\n\r\n  async deactivateGoal(id: string): Promise<void> {\r\n    const supabase = getSupabaseClientSync()\r\n    if (!supabase) throw new Error('Supabase not available')\r\n\r\n    const { error } = await supabase\r\n      .from('weight_goals')\r\n      .update({ is_active: false })\r\n      .eq('id', id)\r\n\r\n    if (error) throw error\r\n  },\r\n\r\n  async getAllGoals(userId: string): Promise<WeightGoal[]> {\r\n    const supabase = getSupabaseClientSync()\r\n    if (!supabase) throw new Error('Supabase not available')\r\n\r\n    const { data, error } = await supabase\r\n      .from('weight_goals')\r\n      .select('*')\r\n      .eq('user_id', userId)\r\n      .order('created_at', { ascending: false })\r\n\r\n    if (error) throw error\r\n\r\n    return (data || []).map((item: any) => ({\r\n      id: item.id,\r\n      goalType: item.goal_type,\r\n      targetWeight: item.target_weight ?? 0,\r\n      targetDate: item.target_date ?? '',\r\n      isActive: item.is_active ?? false,\r\n      createdAt: item.created_at ?? new Date().toISOString(),\r\n      updatedAt: item.updated_at ?? new Date().toISOString(),\r\n    }))\r\n  },\r\n}\r\n\r\n// Local IndexedDB repository for goals (offline functionality)\r\nexport const weightGoalRepo = {\r\n  async addGoal(goal: WeightGoalInput): Promise<WeightGoal> {\r\n    const database = getDatabase()\r\n    \r\n    // Deactivate existing active goals\r\n    const existingGoals = await database.goals.where('isActive').equals(1).toArray()\r\n    for (const existingGoal of existingGoals) {\r\n      await database.goals.update(existingGoal.id, { isActive: false, updatedAt: new Date().toISOString() })\r\n    }\r\n\r\n    const newGoal: WeightGoal = {\r\n      id: uuidv4(),\r\n      targetWeight: goal.targetWeight,\r\n      goalType: goal.goalType,\r\n      targetDate: goal.targetDate,\r\n      startingWeight: goal.startingWeight,\r\n      isActive: true,\r\n      createdAt: new Date().toISOString(),\r\n      updatedAt: new Date().toISOString(),\r\n    }\r\n\r\n    await database.goals.add(newGoal)\r\n    return newGoal\r\n  },\r\n\r\n  async updateGoal(id: string, goal: Partial<WeightGoalInput>): Promise<WeightGoal> {\r\n    const database = getDatabase()\r\n    const updateData = {\r\n      ...goal,\r\n      updatedAt: new Date().toISOString(),\r\n    }\r\n    \r\n    await database.goals.update(id, updateData)\r\n    const updatedGoal = await database.goals.get(id)\r\n    if (!updatedGoal) throw new Error('Goal not found')\r\n    \r\n    return updatedGoal\r\n  },\r\n\r\n  async getActiveGoal(): Promise<WeightGoal | null> {\r\n    const database = getDatabase()\r\n    const activeGoal = await database.goals.where('isActive').equals(1).first()\r\n    return activeGoal || null\r\n  },\r\n\r\n  async deactivateGoal(id: string): Promise<void> {\r\n    const database = getDatabase()\r\n    await database.goals.update(id, { \r\n      isActive: false, \r\n      updatedAt: new Date().toISOString() \r\n    })\r\n  },\r\n\r\n  async getAllGoals(): Promise<WeightGoal[]> {\r\n    const database = getDatabase()\r\n    return await database.goals.orderBy('createdAt').reverse().toArray()\r\n  },\r\n}\r\n\r\n// Hybrid repository for goals\r\nexport const hybridWeightGoalRepo = {\r\n  async addGoal(goal: WeightGoalInput, userId?: string): Promise<WeightGoal> {\r\n    try {\r\n      const supabase = getSupabaseClientSync()\r\n      if (supabase && userId) {\r\n        // Try Supabase first\r\n        const result = await supabaseWeightGoalRepo.addGoal(goal, userId)\r\n        // Also save to local for offline access\r\n        await weightGoalRepo.addGoal(goal)\r\n        return result\r\n      }\r\n    } catch (error) {\r\n      console.warn('Supabase goal save failed, using local storage:', error)\r\n    }\r\n    \r\n    // Fallback to local storage\r\n    return await weightGoalRepo.addGoal(goal)\r\n  },\r\n\r\n  async updateGoal(id: string, goal: Partial<WeightGoalInput>, userId?: string): Promise<WeightGoal> {\r\n    try {\r\n      if (supabase && userId) {\r\n        const result = await supabaseWeightGoalRepo.updateGoal(id, goal)\r\n        // Also update local\r\n        await weightGoalRepo.updateGoal(id, goal)\r\n        return result\r\n      }\r\n    } catch (error) {\r\n      console.warn('Supabase goal update failed, using local storage:', error)\r\n    }\r\n    \r\n    return await weightGoalRepo.updateGoal(id, goal)\r\n  },\r\n\r\n  async getActiveGoal(userId?: string): Promise<WeightGoal | null> {\r\n    try {\r\n      if (supabase && userId) {\r\n        return await supabaseWeightGoalRepo.getActiveGoal(userId)\r\n      }\r\n    } catch (error) {\r\n      console.warn('Supabase goal fetch failed, using local storage:', error)\r\n    }\r\n    \r\n    return await weightGoalRepo.getActiveGoal()\r\n  },\r\n\r\n  async deactivateGoal(id: string, userId?: string): Promise<void> {\r\n    try {\r\n      if (supabase && userId) {\r\n        await supabaseWeightGoalRepo.deactivateGoal(id)\r\n      }\r\n    } catch (error) {\r\n      console.warn('Supabase goal deactivation failed:', error)\r\n    }\r\n    \r\n    await weightGoalRepo.deactivateGoal(id)\r\n  },\r\n\r\n  async getAllGoals(userId?: string): Promise<WeightGoal[]> {\r\n    try {\r\n      if (supabase && userId) {\r\n        return await supabaseWeightGoalRepo.getAllGoals(userId)\r\n      }\r\n    } catch (error) {\r\n      console.warn('Supabase goals fetch failed, using local storage:', error)\r\n    }\r\n    \r\n    return await weightGoalRepo.getAllGoals()\r\n  },\r\n}\r\n","import Dexie, { Table } from 'dexie'\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport { Todo, TaskTemplate, Subtask } from './types'\r\nimport { getSupabaseClientSync } from '@/lib/supabase-client'\r\nimport { deduplicateTodos, removeDuplicateContent } from './utils/deduplicationHelpers'\r\n\r\nclass TasksDatabase extends Dexie {\r\n  todos!: Table<Todo>\r\n  templates!: Table<TaskTemplate>\r\n\r\n  constructor(userId?: string) {\r\n    // Create user-specific database name\r\n    const dbName = userId ? `TasksDatabase_${userId}` : 'TasksDatabase'\r\n    super(dbName)\r\n    this.version(31).stores({\r\n      todos:\r\n        'id, text, done, priority, category, dueDate, createdAt, updatedAt',\r\n      templates: 'id, name, createdAt',\r\n    })\r\n  }\r\n}\r\n\r\n// Global database instance - will be reinitialized per user\r\nlet db: TasksDatabase\r\n\r\n// Initialize database for specific user\r\nexport const initializeTasksDatabase = (userId: string) => {\r\n  if (db) {\r\n    db.close()\r\n  }\r\n  db = new TasksDatabase(userId)\r\n  return db\r\n}\r\n\r\n// Get current database instance\r\nconst getDatabase = (): TasksDatabase => {\r\n  if (!db) {\r\n    // Fallback to anonymous database if no user\r\n    db = new TasksDatabase()\r\n  }\r\n  return db\r\n}\r\n\r\n// Supabase repository for cloud storage\r\nexport const supabaseTasksRepo = {\r\n  async addTodo(todo: Omit<Todo, 'id'>, userId: string): Promise<Todo> {\r\n    const supabase = getSupabaseClientSync()\r\n    if (!supabase) throw new Error('Supabase not available')\r\n\r\n    // Insert the main todo\r\n    const { data: todoData, error: todoError } = await supabase\r\n      .from('todos')\r\n      .insert({\r\n        user_id: userId,\r\n        text: todo.summary, // Legacy field still required for compatibility\r\n        summary: todo.summary, // New field for enhanced schema\r\n        done: todo.done,\r\n        priority: todo.priority,\r\n        category: todo.category,\r\n        due_date: todo.dueDate || null,\r\n        created_at: todo.createdAt,\r\n      })\r\n      .select()\r\n      .single()\r\n\r\n    if (todoError) throw todoError\r\n\r\n    // Insert subtasks if any\r\n    const subtasks: Subtask[] = []\r\n    if (todo.subtasks && todo.subtasks.length > 0) {\r\n      const { data: subtaskData, error: subtaskError } = await supabase\r\n        .from('subtasks')\r\n        .insert(\r\n          todo.subtasks.map(subtask => ({\r\n            todo_id: todoData.id,\r\n            text: subtask.text,\r\n            done: subtask.done,\r\n          }))\r\n        )\r\n        .select()\r\n\r\n      if (subtaskError) throw subtaskError\r\n\r\n      subtasks.push(...(subtaskData || []).map(item => ({\r\n        id: item.id,\r\n        text: item.text,\r\n        done: item.done ?? false,\r\n        createdAt: item.created_at ?? new Date().toISOString(),\r\n      })))\r\n    }\r\n\r\n    return {\r\n      id: todoData.id,\r\n      summary: todoData.summary ?? todoData.text ?? '', // Handle null summary with fallback\r\n      description: '', // Default empty description for now\r\n      descriptionFormat: 'plaintext',\r\n      done: todoData.done ?? false,\r\n      priority: (todoData.priority as any) ?? 'medium',\r\n      category: (todoData.category as any) ?? 'other',\r\n      points: 5, // Default points\r\n      dueDate: todoData.due_date ?? undefined,\r\n      dueDateTime: undefined, // Not in current schema\r\n      subtasks,\r\n      completedAt: undefined, // Not in current schema\r\n      createdAt: todoData.created_at ?? new Date().toISOString(),\r\n      updatedAt: todoData.updated_at ?? new Date().toISOString(),\r\n    }\r\n  },\r\n\r\n  async updateTodo(id: string, updates: Partial<Todo>): Promise<void> {\r\n    const supabase = getSupabaseClientSync()\r\n    if (!supabase) throw new Error('Supabase not available')\r\n\r\n    const updateData: Record<string, unknown> = {}\r\n    if (updates.summary !== undefined) {\r\n      updateData.text = updates.summary // Legacy field for compatibility\r\n      updateData.summary = updates.summary // New field for enhanced schema\r\n    }\r\n    if (updates.done !== undefined) updateData.done = updates.done\r\n    if (updates.priority !== undefined) updateData.priority = updates.priority\r\n    if (updates.category !== undefined) updateData.category = updates.category\r\n    if (updates.dueDate !== undefined) updateData.due_date = updates.dueDate\r\n    updateData.updated_at = new Date().toISOString()\r\n\r\n    const { error } = await supabase\r\n      .from('todos')\r\n      .update(updateData)\r\n      .eq('id', id)\r\n\r\n    if (error) throw error\r\n  },\r\n\r\n  async deleteTodo(id: string): Promise<void> {\r\n    const supabase = getSupabaseClientSync()\r\n    if (!supabase) throw new Error('Supabase not available')\r\n\r\n    // Subtasks will be deleted automatically due to CASCADE\r\n    const { error } = await supabase\r\n      .from('todos')\r\n      .delete()\r\n      .eq('id', id)\r\n\r\n    if (error) throw error\r\n  },\r\n\r\n  async getAllTodos(userId: string): Promise<Todo[]> {\r\n    const supabase = getSupabaseClientSync()\r\n    if (!supabase) throw new Error('Supabase not available')\r\n\r\n    // Get todos\r\n    const { data: todos, error: todosError } = await supabase\r\n      .from('todos')\r\n      .select('*')\r\n      .eq('user_id', userId)\r\n      .order('created_at', { ascending: false })\r\n\r\n    if (todosError) throw todosError\r\n\r\n    // Get all subtasks for these todos\r\n    const todoIds = (todos || []).map(todo => todo.id)\r\n    interface SubtaskData {\r\n      id: string\r\n      todo_id: string\r\n      text: string\r\n      done: boolean\r\n      created_at: string\r\n    }\r\n    \r\n    let subtasksData: SubtaskData[] = []\r\n    \r\n    if (todoIds.length > 0) {\r\n      const { data: subtasks, error: subtasksError } = await supabase\r\n        .from('subtasks')\r\n        .select('*')\r\n        .in('todo_id', todoIds)\r\n        .order('created_at', { ascending: true })\r\n\r\n      if (subtasksError) throw subtasksError\r\n      subtasksData = (subtasks || []) as SubtaskData[]\r\n    }\r\n\r\n    // Group subtasks by todo_id\r\n    const subtasksByTodo = subtasksData.reduce((acc, subtask) => {\r\n      if (!acc[subtask.todo_id]) acc[subtask.todo_id] = []\r\n      acc[subtask.todo_id].push({\r\n        id: subtask.id,\r\n        text: subtask.text,\r\n        done: subtask.done,\r\n        createdAt: subtask.created_at,\r\n      })\r\n      return acc\r\n    }, {} as Record<string, Subtask[]>)\r\n\r\n    return (todos || []).map(todo => ({\r\n      id: todo.id,\r\n      summary: todo.summary ?? todo.text ?? '', // Handle null summary with fallback\r\n      description: '', // Default empty description for now\r\n      descriptionFormat: 'plaintext',\r\n      done: todo.done ?? false,\r\n      priority: (todo.priority as any) ?? 'medium',\r\n      category: (todo.category as any) ?? 'other',\r\n      points: 5, // Default points\r\n      dueDate: todo.due_date ?? undefined,\r\n      dueDateTime: undefined, // Not in current schema\r\n      subtasks: subtasksByTodo[todo.id] || [],\r\n      completedAt: undefined, // Not in current schema\r\n      createdAt: todo.created_at ?? new Date().toISOString(),\r\n      updatedAt: todo.updated_at ?? new Date().toISOString(),\r\n    }))\r\n  },\r\n\r\n  async addSubtask(todoId: string, text: string): Promise<Subtask> {\r\n    const supabase = getSupabaseClientSync()\r\n    if (!supabase) throw new Error('Supabase not available')\r\n\r\n    const { data, error } = await supabase\r\n      .from('subtasks')\r\n      .insert({\r\n        todo_id: todoId,\r\n        text,\r\n        done: false,\r\n      })\r\n      .select()\r\n      .single()\r\n\r\n    if (error) throw error\r\n\r\n    return {\r\n      id: data.id,\r\n      text: data.text,\r\n      done: data.done ?? false,\r\n      createdAt: data.created_at ?? new Date().toISOString(),\r\n    }\r\n  },\r\n\r\n  async updateSubtask(subtaskId: string, updates: Partial<Subtask>): Promise<void> {\r\n    const supabase = getSupabaseClientSync()\r\n    if (!supabase) throw new Error('Supabase not available')\r\n\r\n    const { error } = await supabase\r\n      .from('subtasks')\r\n      .update({\r\n        text: updates.text,\r\n        done: updates.done,\r\n      })\r\n      .eq('id', subtaskId)\r\n\r\n    if (error) throw error\r\n  },\r\n\r\n  async deleteSubtask(subtaskId: string): Promise<void> {\r\n    const supabase = getSupabaseClientSync()\r\n    if (!supabase) throw new Error('Supabase not available')\r\n\r\n    const { error } = await supabase\r\n      .from('subtasks')\r\n      .delete()\r\n      .eq('id', subtaskId)\r\n\r\n    if (error) throw error\r\n  },\r\n\r\n  async clearAll(userId: string): Promise<void> {\r\n    const supabase = getSupabaseClientSync()\r\n    if (!supabase) throw new Error('Supabase not available')\r\n\r\n    const { error } = await supabase\r\n      .from('todos')\r\n      .delete()\r\n      .eq('user_id', userId)\r\n\r\n    if (error) throw error\r\n  },\r\n}\r\n\r\n// Original IndexedDB repository (kept for offline functionality)\r\nexport const tasksRepo = {\r\n  // Todo methods\r\n  async addTodo(todo: Omit<Todo, 'id' | 'updatedAt'>): Promise<Todo> {\r\n    const database = getDatabase()\r\n    const now = new Date().toISOString()\r\n    const newTodo: Todo = {\r\n      id: uuidv4(),\r\n      updatedAt: now,\r\n      ...todo,\r\n      // Set defaults for required fields if not provided\r\n      subtasks: todo.subtasks || [],\r\n      priority: todo.priority || 'medium',\r\n      category: todo.category || 'other',\r\n    }\r\n\r\n    await database.todos.add(newTodo)\r\n    return newTodo\r\n  },\r\n\r\n  async updateTodo(id: string, updates: Partial<Todo>): Promise<void> {\r\n    const database = getDatabase()\r\n    const updateData = {\r\n      ...updates,\r\n      updatedAt: new Date().toISOString(),\r\n    }\r\n    await database.todos.update(id, updateData)\r\n  },\r\n\r\n  async deleteTodo(id: string): Promise<void> {\r\n    const database = getDatabase()\r\n    await database.todos.delete(id)\r\n  },\r\n\r\n  async getAllTodos(userId?: string): Promise<Todo[]> {\r\n    try {\r\n      const supabase = getSupabaseClientSync()\r\n      if (supabase && userId) {\r\n        const { data: todos, error } = await supabase\r\n          .from('todos')\r\n          .select('*')\r\n          .eq('user_id', userId)\r\n          .order('created_at', { ascending: false })\r\n\r\n        if (error) throw error\r\n\r\n        return (todos || []).map(todo => ({\r\n          id: todo.id,\r\n          summary: todo.text ?? todo.summary ?? '', // Handle null with fallback\r\n          description: '', // Default empty description for now\r\n          descriptionFormat: 'plaintext',\r\n          done: todo.done ?? false,\r\n          priority: (todo.priority as any) ?? 'medium',\r\n          category: (todo.category as any) ?? 'other',\r\n          points: 5, // Default points\r\n          dueDate: todo.due_date ?? undefined,\r\n          dueDateTime: undefined, // Not in current schema\r\n          subtasks: [], // Will need to be fetched separately\r\n          completedAt: undefined, // Not in current schema\r\n          createdAt: todo.created_at ?? new Date().toISOString(),\r\n          updatedAt: todo.updated_at ?? new Date().toISOString(),\r\n        }))\r\n      }\r\n    } catch (error) {\r\n      console.warn('Supabase fetch failed, using local storage:', error)\r\n    }\r\n    \r\n    // Fallback to local storage - use IndexedDB directly instead of calling self\r\n    const database = getDatabase()\r\n    return await database.todos.orderBy('createdAt').reverse().toArray()\r\n  },\r\n\r\n  async getTodoById(id: string): Promise<Todo | undefined> {\r\n    const database = getDatabase()\r\n    return await database.todos.get(id)\r\n  },\r\n\r\n  async getTodosByCategory(category: string): Promise<Todo[]> {\r\n    const database = getDatabase()\r\n    return await database.todos.where('category').equals(category).toArray()\r\n  },\r\n\r\n  async getTodosByPriority(priority: string): Promise<Todo[]> {\r\n    const database = getDatabase()\r\n    return await database.todos.where('priority').equals(priority).toArray()\r\n  },\r\n\r\n  async getOverdueTodos(): Promise<Todo[]> {\r\n    const database = getDatabase()\r\n    const today = new Date().toISOString().split('T')[0]\r\n    return await database.todos\r\n      .where('dueDate')\r\n      .below(today)\r\n      .and((todo) => !todo.done)\r\n      .toArray()\r\n  },\r\n\r\n  // Subtask methods\r\n  async addSubtask(todoId: string, subtaskText: string): Promise<void> {\r\n    const database = getDatabase()\r\n    const todo = await database.todos.get(todoId)\r\n    if (!todo) return\r\n\r\n    const newSubtask: Subtask = {\r\n      id: uuidv4(),\r\n      text: subtaskText,\r\n      done: false,\r\n      createdAt: new Date().toISOString(),\r\n    }\r\n\r\n    const updatedSubtasks = [...todo.subtasks, newSubtask]\r\n    await this.updateTodo(todoId, { subtasks: updatedSubtasks })\r\n  },\r\n\r\n  async updateSubtask(\r\n    todoId: string,\r\n    subtaskId: string,\r\n    updates: Partial<Subtask>\r\n  ): Promise<void> {\r\n    const database = getDatabase()\r\n    const todo = await database.todos.get(todoId)\r\n    if (!todo) return\r\n\r\n    const updatedSubtasks = todo.subtasks.map((subtask) =>\r\n      subtask.id === subtaskId ? { ...subtask, ...updates } : subtask\r\n    )\r\n    await this.updateTodo(todoId, { subtasks: updatedSubtasks })\r\n  },\r\n\r\n  async deleteSubtask(todoId: string, subtaskId: string): Promise<void> {\r\n    const database = getDatabase()\r\n    const todo = await database.todos.get(todoId)\r\n    if (!todo) return\r\n\r\n    const updatedSubtasks = todo.subtasks.filter(\r\n      (subtask) => subtask.id !== subtaskId\r\n    )\r\n    await this.updateTodo(todoId, { subtasks: updatedSubtasks })\r\n  },\r\n\r\n  // Template methods\r\n  async addTemplate(template: Omit<TaskTemplate, 'id'>): Promise<TaskTemplate> {\r\n    const database = getDatabase()\r\n    const newTemplate: TaskTemplate = {\r\n      id: uuidv4(),\r\n      ...template,\r\n    }\r\n\r\n    await database.templates.add(newTemplate)\r\n    return newTemplate\r\n  },\r\n\r\n  async updateTemplate(\r\n    id: string,\r\n    updates: Partial<TaskTemplate>\r\n  ): Promise<void> {\r\n    const database = getDatabase()\r\n    await database.templates.update(id, updates)\r\n  },\r\n\r\n  async deleteTemplate(id: string): Promise<void> {\r\n    const database = getDatabase()\r\n    await database.templates.delete(id)\r\n  },\r\n\r\n  async getAllTemplates(): Promise<TaskTemplate[]> {\r\n    const database = getDatabase()\r\n    return await database.templates.orderBy('createdAt').reverse().toArray()\r\n  },\r\n\r\n  async getTemplateById(id: string): Promise<TaskTemplate | undefined> {\r\n    const database = getDatabase()\r\n    return await database.templates.get(id)\r\n  },\r\n\r\n  async createTodoFromTemplate(templateId: string): Promise<Todo> {\r\n    const template = await this.getTemplateById(templateId)\r\n    if (!template) throw new Error('Template not found')\r\n\r\n    const todo: Omit<Todo, 'id' | 'updatedAt'> = {\r\n      summary: template.name,\r\n      description: '',\r\n      descriptionFormat: 'plaintext',\r\n      done: false,\r\n      priority: template.priority,\r\n      category: template.category,\r\n      points: 5,\r\n      subtasks: template.subtasks.map(st => ({\r\n        id: uuidv4(),\r\n        text: st.text,\r\n        done: st.done,\r\n        createdAt: new Date().toISOString(),\r\n      })),\r\n      templateId: template.id,\r\n      createdAt: new Date().toISOString(),\r\n    }\r\n\r\n    return await this.addTodo(todo)\r\n  },\r\n\r\n  async clearAll(): Promise<void> {\r\n    const database = getDatabase()\r\n    await database.todos.clear()\r\n    await database.templates.clear()\r\n  },\r\n}\r\n\r\n// Hybrid repository that uses Supabase when available, falls back to IndexedDB\r\nexport const hybridTasksRepo = {\r\n  async addTodo(todo: Omit<Todo, 'id'>, userId?: string): Promise<Todo> {\r\n    try {\r\n      const supabase = getSupabaseClientSync()\r\n      if (supabase && userId) {\r\n        // Try Supabase first\r\n        const result = await supabaseTasksRepo.addTodo(todo, userId)\r\n        // Also save to local for offline access\r\n        await tasksRepo.addTodo(todo)\r\n        console.log(' Todo saved to cloud and local:', { id: result.id, summary: result.summary })\r\n        return result\r\n      }\r\n    } catch (error) {\r\n      console.warn('Supabase save failed, using local storage:', error)\r\n    }\r\n    \r\n    // Fallback to local storage\r\n    const result = await tasksRepo.addTodo(todo)\r\n    console.log(' Todo saved locally only:', { id: result.id, summary: result.summary })\r\n    return result\r\n  },\r\n\r\n  async updateTodo(id: string, updates: Partial<Todo>, userId?: string): Promise<void> {\r\n    let cloudSuccess = false\r\n\r\n    // Try Supabase first if available\r\n    const supabase = getSupabaseClientSync()\r\n    if (supabase && userId) {\r\n      try {\r\n        await supabaseTasksRepo.updateTodo(id, updates)\r\n        cloudSuccess = true\r\n        console.log(' Todo updated in cloud:', { id, updates })\r\n      } catch (error) {\r\n        console.warn('Supabase update failed:', error)\r\n        \r\n        // If the entry doesn't exist in Supabase, try to create it\r\n        if (error instanceof Error && (error.message.includes('not found') || error.message.includes('PGRST116'))) {\r\n          try {\r\n            // Get the full entry from local storage first\r\n            const localTodo = await tasksRepo.getTodoById(id)\r\n            if (localTodo) {\r\n              // Create the entry in Supabase with the updates applied\r\n              const todoToCreate = { ...localTodo, ...updates }\r\n              // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n              delete (todoToCreate as any).id // Remove id for creation\r\n              const cloudResult = await supabaseTasksRepo.addTodo(todoToCreate, userId)\r\n              cloudSuccess = true\r\n              console.log(' Created missing todo in Supabase:', { id: cloudResult.id, summary: cloudResult.summary })\r\n            }\r\n          } catch (createError) {\r\n            console.warn('Failed to create todo in Supabase:', createError)\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Always update local storage\r\n    try {\r\n      await tasksRepo.updateTodo(id, updates)\r\n      console.log(' Todo updated locally:', { id, updates, cloudSync: cloudSuccess })\r\n    } catch (localError) {\r\n      console.error(' Failed to update todo locally:', localError)\r\n      throw localError\r\n    }\r\n  },\r\n\r\n  async deleteTodo(id: string, userId?: string): Promise<void> {\r\n    let cloudSuccess = false\r\n\r\n    // Try Supabase first if available\r\n    const supabase = getSupabaseClientSync()\r\n    if (supabase && userId) {\r\n      try {\r\n        await supabaseTasksRepo.deleteTodo(id)\r\n        cloudSuccess = true\r\n        console.log(' Todo deleted from cloud:', { id })\r\n      } catch (error) {\r\n        console.warn('Supabase delete failed:', error)\r\n      }\r\n    }\r\n    \r\n    // Always delete from local storage\r\n    try {\r\n      await tasksRepo.deleteTodo(id)\r\n      console.log(' Todo deleted locally:', { id, cloudSync: cloudSuccess })\r\n    } catch (localError) {\r\n      console.error(' Failed to delete todo locally:', localError)\r\n      throw localError\r\n    }\r\n  },\r\n\r\n  async getAllTodos(userId?: string): Promise<Todo[]> {\r\n    try {\r\n      const supabase = getSupabaseClientSync()\r\n      if (supabase && userId) {\r\n        // Try to get from Supabase first\r\n        const cloudTodos = await supabaseTasksRepo.getAllTodos(userId)\r\n        console.log(' Todos loaded from cloud:', { count: cloudTodos.length })\r\n        return cloudTodos\r\n      }\r\n    } catch (error) {\r\n      console.warn('Supabase fetch failed, using local storage:', error)\r\n    }\r\n    \r\n    // Fallback to local storage\r\n    const localTodos = await tasksRepo.getAllTodos()\r\n    const deduplicatedTodos = removeDuplicateContent(deduplicateTodos(localTodos))\r\n    console.log(' Todos loaded from local storage:', { \r\n      count: deduplicatedTodos.length,\r\n      duplicatesRemoved: localTodos.length - deduplicatedTodos.length\r\n    })\r\n    return deduplicatedTodos\r\n  },\r\n\r\n  async getTodoById(id: string, userId?: string): Promise<Todo | undefined> {\r\n    try {\r\n      const supabase = getSupabaseClientSync()\r\n      if (supabase && userId) {\r\n        // Try Supabase first - we'll need to implement this in supabaseTasksRepo\r\n        const cloudTodos = await supabaseTasksRepo.getAllTodos(userId)\r\n        const cloudTodo = cloudTodos.find(todo => todo.id === id)\r\n        if (cloudTodo) {\r\n          console.log(' Todo found in cloud:', { id })\r\n          return cloudTodo\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.warn('Supabase fetch failed, using local storage:', error)\r\n    }\r\n    \r\n    // Fallback to local storage\r\n    const localTodo = await tasksRepo.getTodoById(id)\r\n    if (localTodo) {\r\n      console.log(' Todo found locally:', { id })\r\n    }\r\n    return localTodo\r\n  },\r\n\r\n  async syncData(userId?: string): Promise<{ synced: number; errors: number }> {\r\n    const supabase = getSupabaseClientSync()\r\n    if (!supabase || !userId) {\r\n      console.info(' Skipping todo sync - no cloud storage available')\r\n      return { synced: 0, errors: 0 }\r\n    }\r\n\r\n    console.info(' Starting todo data synchronization...')\r\n    let syncedCount = 0\r\n    let errorCount = 0\r\n\r\n    try {\r\n      // Get all cloud data\r\n      const cloudTodos = await supabaseTasksRepo.getAllTodos(userId)\r\n      console.info(` Found ${cloudTodos.length} todos in cloud storage`)\r\n\r\n      // Get all local data\r\n      const localTodos = await tasksRepo.getAllTodos()\r\n      console.info(` Found ${localTodos.length} todos in local storage`)\r\n\r\n      // Create a map of local todos by ID for quick lookup\r\n      const localTodosMap = new Map(localTodos.map(t => [t.id, t]))\r\n\r\n      // Sync cloud todos to local storage\r\n      for (const cloudTodo of cloudTodos) {\r\n        try {\r\n          const localTodo = localTodosMap.get(cloudTodo.id)\r\n          \r\n          if (!localTodo) {\r\n            // Todo exists in cloud but not locally - add it\r\n            await tasksRepo.addTodo({\r\n              summary: cloudTodo.summary,\r\n              description: cloudTodo.description,\r\n              descriptionFormat: cloudTodo.descriptionFormat,\r\n              done: cloudTodo.done,\r\n              priority: cloudTodo.priority,\r\n              category: cloudTodo.category,\r\n              points: cloudTodo.points,\r\n              dueDate: cloudTodo.dueDate,\r\n              dueDateTime: cloudTodo.dueDateTime,\r\n              subtasks: cloudTodo.subtasks,\r\n              completedAt: cloudTodo.completedAt,\r\n              createdAt: cloudTodo.createdAt,\r\n            })\r\n            syncedCount++\r\n            console.debug(` Synced todo to local: ${cloudTodo.summary}`)\r\n          } else {\r\n            // Todo exists in both - check if cloud version is newer\r\n            const cloudUpdated = new Date(cloudTodo.updatedAt)\r\n            const localUpdated = new Date(localTodo.updatedAt)\r\n            \r\n            if (cloudUpdated > localUpdated) {\r\n              // Cloud version is newer, update local\r\n              await tasksRepo.updateTodo(cloudTodo.id, {\r\n                summary: cloudTodo.summary,\r\n                description: cloudTodo.description,\r\n                descriptionFormat: cloudTodo.descriptionFormat,\r\n                done: cloudTodo.done,\r\n                priority: cloudTodo.priority,\r\n                category: cloudTodo.category,\r\n                points: cloudTodo.points,\r\n                dueDate: cloudTodo.dueDate,\r\n                dueDateTime: cloudTodo.dueDateTime,\r\n                subtasks: cloudTodo.subtasks,\r\n                completedAt: cloudTodo.completedAt,\r\n                updatedAt: cloudTodo.updatedAt,\r\n              })\r\n              syncedCount++\r\n              console.debug(` Updated local todo: ${cloudTodo.summary}`)\r\n            }\r\n          }\r\n        } catch (error) {\r\n          console.warn(` Failed to sync todo ${cloudTodo.id}:`, error)\r\n          errorCount++\r\n        }\r\n      }\r\n\r\n      console.info(` Todo sync complete: ${syncedCount} todos synced, ${errorCount} errors`)\r\n      return { synced: syncedCount, errors: errorCount }\r\n    } catch (error) {\r\n      console.error(' Todo synchronization failed:', error)\r\n      return { synced: syncedCount, errors: errorCount + 1 }\r\n    }\r\n  },\r\n\r\n  // Subtask methods with hybrid pattern\r\n  async addSubtask(todoId: string, text: string, userId?: string): Promise<Subtask> {\r\n    try {\r\n      const supabase = getSupabaseClientSync()\r\n      if (supabase && userId) {\r\n        // Try Supabase first\r\n        const result = await supabaseTasksRepo.addSubtask(todoId, text)\r\n        // Also save to local for offline access\r\n        await tasksRepo.addSubtask(todoId, text)\r\n        console.log(' Subtask saved to cloud and local:', { todoId, text })\r\n        return result\r\n      }\r\n    } catch (error) {\r\n      console.warn('Supabase subtask save failed, using local storage:', error)\r\n    }\r\n    \r\n    // Fallback to local storage\r\n    await tasksRepo.addSubtask(todoId, text)\r\n    console.log(' Subtask saved locally only:', { todoId, text })\r\n    \r\n    // Return a basic subtask object for local-only mode\r\n    return {\r\n      id: uuidv4(),\r\n      text,\r\n      done: false,\r\n      createdAt: new Date().toISOString(),\r\n    }\r\n  },\r\n\r\n  async updateSubtask(todoId: string, subtaskId: string, updates: Partial<Subtask>, userId?: string): Promise<void> {\r\n    let cloudSuccess = false\r\n\r\n    // Try Supabase first if available\r\n    const supabase = getSupabaseClientSync()\r\n    if (supabase && userId) {\r\n      try {\r\n        await supabaseTasksRepo.updateSubtask(subtaskId, updates)\r\n        cloudSuccess = true\r\n        console.log(' Subtask updated in cloud:', { todoId, subtaskId, updates })\r\n      } catch (error) {\r\n        console.warn('Supabase subtask update failed:', error)\r\n      }\r\n    }\r\n    \r\n    // Always update local storage\r\n    try {\r\n      await tasksRepo.updateSubtask(todoId, subtaskId, updates)\r\n      console.log(' Subtask updated locally:', { todoId, subtaskId, updates, cloudSync: cloudSuccess })\r\n    } catch (localError) {\r\n      console.error(' Failed to update subtask locally:', localError)\r\n      throw localError\r\n    }\r\n  },\r\n\r\n  async deleteSubtask(todoId: string, subtaskId: string, userId?: string): Promise<void> {\r\n    let cloudSuccess = false\r\n\r\n    // Try Supabase first if available\r\n    const supabase = getSupabaseClientSync()\r\n    if (supabase && userId) {\r\n      try {\r\n        await supabaseTasksRepo.deleteSubtask(subtaskId)\r\n        cloudSuccess = true\r\n        console.log(' Subtask deleted from cloud:', { todoId, subtaskId })\r\n      } catch (error) {\r\n        console.warn('Supabase subtask delete failed:', error)\r\n      }\r\n    }\r\n    \r\n    // Always delete from local storage\r\n    try {\r\n      await tasksRepo.deleteSubtask(todoId, subtaskId)\r\n      console.log(' Subtask deleted locally:', { todoId, subtaskId, cloudSync: cloudSuccess })\r\n    } catch (localError) {\r\n      console.error(' Failed to delete subtask locally:', localError)\r\n      throw localError\r\n    }\r\n  },\r\n\r\n  async clearAll(userId?: string): Promise<void> {\r\n    let cloudSuccess = false\r\n\r\n    // Try Supabase first if available\r\n    const supabase = getSupabaseClientSync()\r\n    if (supabase && userId) {\r\n      try {\r\n        await supabaseTasksRepo.clearAll(userId)\r\n        cloudSuccess = true\r\n        console.log(' All todos cleared from cloud')\r\n      } catch (error) {\r\n        console.warn('Supabase clear failed:', error)\r\n      }\r\n    }\r\n    \r\n    // Always clear local storage\r\n    try {\r\n      await tasksRepo.clearAll()\r\n      console.log(' All todos cleared locally:', { cloudSync: cloudSuccess })\r\n    } catch (localError) {\r\n      console.error(' Failed to clear todos locally:', localError)\r\n      throw localError\r\n    }\r\n  },\r\n}\r\n","import { Todo } from '../types'\r\n\r\n/**\r\n * Deduplicate todos by ID, keeping the most recently updated version\r\n */\r\nexport function deduplicateTodos(todos: Todo[]): Todo[] {\r\n  const todoMap = new Map<string, Todo>()\r\n  \r\n  for (const todo of todos) {\r\n    const existing = todoMap.get(todo.id)\r\n    \r\n    if (!existing) {\r\n      todoMap.set(todo.id, todo)\r\n    } else {\r\n      // Keep the most recently updated version\r\n      const existingUpdated = new Date(existing.updatedAt).getTime()\r\n      const currentUpdated = new Date(todo.updatedAt).getTime()\r\n      \r\n      if (currentUpdated > existingUpdated) {\r\n        todoMap.set(todo.id, todo)\r\n      }\r\n    }\r\n  }\r\n  \r\n  return Array.from(todoMap.values())\r\n}\r\n\r\n/**\r\n * Merge local and cloud todos, preventing duplicates and resolving conflicts\r\n */\r\nexport function mergeLocalAndCloudTodos(localTodos: Todo[], cloudTodos: Todo[]): Todo[] {\r\n  const allTodos = [...localTodos, ...cloudTodos]\r\n  return deduplicateTodos(allTodos)\r\n}\r\n\r\n/**\r\n * Check if two todos are effectively the same (same content, different timestamps)\r\n */\r\nexport function todosAreEquivalent(todo1: Todo, todo2: Todo): boolean {\r\n  return (\r\n    todo1.summary === todo2.summary &&\r\n    todo1.description === todo2.description &&\r\n    todo1.done === todo2.done &&\r\n    todo1.priority === todo2.priority &&\r\n    todo1.category === todo2.category &&\r\n    todo1.dueDate === todo2.dueDate &&\r\n    JSON.stringify(todo1.subtasks) === JSON.stringify(todo2.subtasks)\r\n  )\r\n}\r\n\r\n/**\r\n * Filter out todos that are duplicates but not exact ID matches\r\n */\r\nexport function removeDuplicateContent(todos: Todo[]): Todo[] {\r\n  const filtered: Todo[] = []\r\n  \r\n  for (const todo of todos) {\r\n    const isDuplicate = filtered.some(existing => \r\n      existing.id !== todo.id && todosAreEquivalent(existing, todo)\r\n    )\r\n    \r\n    if (!isDuplicate) {\r\n      filtered.push(todo)\r\n    } else {\r\n      console.warn(' Removed duplicate todo content:', { id: todo.id, summary: todo.summary })\r\n    }\r\n  }\r\n  \r\n  return filtered\r\n} ","import Dexie, { Table } from 'dexie'\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport { Note } from './types'\r\nimport { getSupabaseClientSync } from '@/lib/supabase-client'\r\n\r\nclass NotesDatabase extends Dexie {\r\n  notes!: Table<Note>\r\n\r\n  constructor(userId?: string) {\r\n    // Create user-specific database name\r\n    const dbName = userId ? `NotesDatabase_${userId}` : 'NotesDatabase'\r\n    super(dbName)\r\n    this.version(33).stores({\r\n      notes: 'id, title, content, createdAt, updatedAt',\r\n    })\r\n  }\r\n}\r\n\r\n// Global database instance - will be reinitialized per user\r\nlet db: NotesDatabase\r\n\r\n// Initialize database for specific user\r\nexport const initializeNotesDatabase = (userId: string) => {\r\n  if (db) {\r\n    db.close()\r\n  }\r\n  db = new NotesDatabase(userId)\r\n  return db\r\n}\r\n\r\n// Get current database instance\r\nconst getDatabase = (): NotesDatabase => {\r\n  if (!db) {\r\n    // Fallback to anonymous database if no user\r\n    db = new NotesDatabase()\r\n  }\r\n  return db\r\n}\r\n\r\n// Supabase repository for cloud storage\r\nexport const supabaseNotesRepo = {\r\n  async addNote(note: Omit<Note, 'id'>, userId: string): Promise<Note> {\r\n    const supabase = getSupabaseClientSync()\r\n    if (!supabase) throw new Error('Supabase not available')\r\n\r\n    const { data, error } = await supabase\r\n      .from('notes')\r\n      .insert({\r\n        user_id: userId,\r\n        title: note.title,\r\n        content: note.content,\r\n      })\r\n      .select()\r\n      .single()\r\n\r\n    if (error) throw error\r\n\r\n    return {\r\n      id: data.id,\r\n      title: data.title ?? '',\r\n      content: data.content ?? '',\r\n      createdAt: data.created_at ?? new Date().toISOString(),\r\n      updatedAt: data.updated_at ?? new Date().toISOString(),\r\n    }\r\n  },\r\n\r\n  async updateNote(id: string, updates: Partial<Omit<Note, 'id'>>): Promise<void> {\r\n    const supabase = getSupabaseClientSync()\r\n    if (!supabase) throw new Error('Supabase not available')\r\n\r\n    const { error } = await supabase\r\n      .from('notes')\r\n      .update({\r\n        title: updates.title,\r\n        content: updates.content,\r\n      })\r\n      .eq('id', id)\r\n\r\n    if (error) throw error\r\n  },\r\n\r\n  async deleteNote(id: string): Promise<void> {\r\n    const supabase = getSupabaseClientSync()\r\n    if (!supabase) throw new Error('Supabase not available')\r\n\r\n    const { error } = await supabase\r\n      .from('notes')\r\n      .delete()\r\n      .eq('id', id)\r\n\r\n    if (error) throw error\r\n  },\r\n\r\n  async getAllNotes(userId: string): Promise<Note[]> {\r\n    const supabase = getSupabaseClientSync()\r\n    if (!supabase) throw new Error('Supabase not available')\r\n\r\n    const { data, error } = await supabase\r\n      .from('notes')\r\n      .select('*')\r\n      .eq('user_id', userId)\r\n      .order('updated_at', { ascending: false })\r\n\r\n    if (error) throw error\r\n\r\n    return (data || []).map((item: any) => ({\r\n      id: item.id,\r\n      title: item.title ?? '',\r\n      content: item.content ?? '',\r\n      createdAt: item.created_at ?? new Date().toISOString(),\r\n      updatedAt: item.updated_at ?? new Date().toISOString(),\r\n    }))\r\n  },\r\n\r\n  async getNoteById(id: string): Promise<Note | undefined> {\r\n    const supabase = getSupabaseClientSync()\r\n    if (!supabase) throw new Error('Supabase not available')\r\n\r\n    const { data, error } = await supabase\r\n      .from('notes')\r\n      .select('*')\r\n      .eq('id', id)\r\n      .single()\r\n\r\n    if (error) return undefined\r\n\r\n    return {\r\n      id: data.id,\r\n      title: data.title ?? '',\r\n      content: data.content ?? '',\r\n      createdAt: data.created_at ?? new Date().toISOString(),\r\n      updatedAt: data.updated_at ?? new Date().toISOString(),\r\n    }\r\n  },\r\n\r\n  async clearAll(userId: string): Promise<void> {\r\n    const supabase = getSupabaseClientSync()\r\n    if (!supabase) throw new Error('Supabase not available')\r\n\r\n    const { error } = await supabase\r\n      .from('notes')\r\n      .delete()\r\n      .eq('user_id', userId)\r\n\r\n    if (error) throw error\r\n  },\r\n}\r\n\r\n// Original IndexedDB repository (kept for offline functionality)\r\nexport const notesRepo = {\r\n  async addNote(note: Omit<Note, 'id'>): Promise<Note> {\r\n    const database = getDatabase()\r\n    const newNote: Note = {\r\n      id: uuidv4(),\r\n      ...note,\r\n    }\r\n\r\n    await database.notes.add(newNote)\r\n    return newNote\r\n  },\r\n\r\n  async updateNote(\r\n    id: string,\r\n    updates: Partial<Omit<Note, 'id'>>\r\n  ): Promise<void> {\r\n    const database = getDatabase()\r\n    await database.notes.update(id, {\r\n      ...updates,\r\n      updatedAt: new Date().toISOString(),\r\n    })\r\n  },\r\n\r\n  async deleteNote(id: string): Promise<void> {\r\n    const database = getDatabase()\r\n    await database.notes.delete(id)\r\n  },\r\n\r\n  async getAllNotes(): Promise<Note[]> {\r\n    const database = getDatabase()\r\n    return await database.notes.orderBy('updatedAt').reverse().toArray()\r\n  },\r\n\r\n  async getNoteById(id: string): Promise<Note | undefined> {\r\n    const database = getDatabase()\r\n    return await database.notes.get(id)\r\n  },\r\n\r\n  async clearAll(): Promise<void> {\r\n    const database = getDatabase()\r\n    await database.notes.clear()\r\n  },\r\n}\r\n\r\n// Hybrid repository that uses Supabase when available, falls back to IndexedDB\r\nexport const hybridNotesRepo = {\r\n  async addNote(note: Omit<Note, 'id'>, userId?: string): Promise<Note> {\r\n    try {\r\n      const supabase = getSupabaseClientSync()\r\n      if (supabase && userId) {\r\n        const result = await supabaseNotesRepo.addNote(note, userId)\r\n        // Also save to local for offline access\r\n        await notesRepo.addNote(note)\r\n        return result\r\n      }\r\n    } catch (error) {\r\n      console.warn('Supabase save failed, using local storage:', error)\r\n    }\r\n    \r\n    return await notesRepo.addNote(note)\r\n  },\r\n\r\n  async updateNote(id: string, updates: Partial<Omit<Note, 'id'>>, userId?: string): Promise<void> {\r\n    try {\r\n      const supabase = getSupabaseClientSync()\r\n      if (supabase && userId) {\r\n        await supabaseNotesRepo.updateNote(id, updates)\r\n      }\r\n    } catch (error) {\r\n      console.warn('Supabase update failed:', error)\r\n    }\r\n    \r\n    await notesRepo.updateNote(id, updates)\r\n  },\r\n\r\n  async deleteNote(id: string, userId?: string): Promise<void> {\r\n    try {\r\n      const supabase = getSupabaseClientSync()\r\n      if (supabase && userId) {\r\n        await supabaseNotesRepo.deleteNote(id)\r\n      }\r\n    } catch (error) {\r\n      console.warn('Supabase delete failed:', error)\r\n    }\r\n    \r\n    await notesRepo.deleteNote(id)\r\n  },\r\n\r\n  async getAllNotes(userId?: string): Promise<Note[]> {\r\n    try {\r\n      const supabase = getSupabaseClientSync()\r\n      if (supabase && userId) {\r\n        return await supabaseNotesRepo.getAllNotes(userId)\r\n      }\r\n    } catch (error) {\r\n      console.warn('Supabase fetch failed, using local storage:', error)\r\n    }\r\n    \r\n    return await notesRepo.getAllNotes()\r\n  },\r\n\r\n  async getNoteById(id: string, userId?: string): Promise<Note | undefined> {\r\n    try {\r\n      const supabase = getSupabaseClientSync()\r\n      if (supabase && userId) {\r\n        return await supabaseNotesRepo.getNoteById(id)\r\n      }\r\n    } catch (error) {\r\n      console.warn('Supabase fetch failed, using local storage:', error)\r\n    }\r\n    \r\n    return await notesRepo.getNoteById(id)\r\n  },\r\n\r\n  async clearAll(userId?: string): Promise<void> {\r\n    try {\r\n      const supabase = getSupabaseClientSync()\r\n      if (supabase && userId) {\r\n        await supabaseNotesRepo.clearAll(userId)\r\n      }\r\n    } catch (error) {\r\n      console.warn('Supabase clear failed:', error)\r\n    }\r\n    \r\n    await notesRepo.clearAll()\r\n  },\r\n}\r\n","import { initializeWeightDatabase } from '@/modules/weight/repo'\r\nimport { initializeTasksDatabase } from '@/modules/tasks/repo'\r\nimport { initializeNotesDatabase } from '@/modules/notes/repo'\r\n\r\n/**\r\n * Initialize all user-specific databases for data isolation\r\n * This ensures each user has their own separate data storage\r\n */\r\nexport const initializeUserDatabases = (userId: string) => {\r\n  console.log(`Initializing databases for user: ${userId}`)\r\n\r\n  try {\r\n    // Initialize all module databases with user-specific names\r\n    initializeWeightDatabase(userId)\r\n    initializeTasksDatabase(userId)\r\n    initializeNotesDatabase(userId)\r\n\r\n    console.log('User databases initialized successfully')\r\n  } catch (error) {\r\n    console.error('Failed to initialize user databases:', error)\r\n    throw error\r\n  }\r\n}\r\n\r\n/**\r\n * Clear all user-specific databases (used during logout)\r\n * This only clears the current user's data, not all users\r\n */\r\nexport const clearUserDatabases = async (userId: string) => {\r\n  console.log(`Clearing databases for user: ${userId}`)\r\n\r\n  try {\r\n    // Get database names for this user\r\n    const dbNames = [\r\n      `WeightDatabase_${userId}`,\r\n      `TasksDatabase_${userId}`,\r\n      `NotesDatabase_${userId}`,\r\n    ]\r\n\r\n    // Delete user-specific databases\r\n    await Promise.all(\r\n      dbNames.map((dbName) => {\r\n        return new Promise<void>((resolve, reject) => {\r\n          const deleteReq = indexedDB.deleteDatabase(dbName)\r\n          deleteReq.onsuccess = () => {\r\n            console.log(`Deleted database: ${dbName}`)\r\n            resolve()\r\n          }\r\n          deleteReq.onerror = () => {\r\n            console.error(`Failed to delete database: ${dbName}`)\r\n            reject(deleteReq.error)\r\n          }\r\n        })\r\n      })\r\n    )\r\n\r\n    console.log('User databases cleared successfully')\r\n  } catch (error) {\r\n    console.error('Failed to clear user databases:', error)\r\n    throw error\r\n  }\r\n}\r\n\r\n/**\r\n * Get sanitized user ID for database naming\r\n * Removes special characters that might cause issues with IndexedDB\r\n */\r\nexport const sanitizeUserId = (userId: string): string => {\r\n  return userId.replace(/[^a-zA-Z0-9_-]/g, '_')\r\n}\r\n","import { create } from 'zustand'\r\nimport { persist } from 'zustand/middleware'\r\nimport { AuthState, User } from '../types/auth'\r\nimport { supabaseAuth } from '../services/supabaseAuth'\r\nimport { localAuthService } from '../services/localAuth'\r\n// Removed unused supabase import\r\nimport {\r\n  initializeUserDatabases,\r\n  clearUserDatabases,\r\n  sanitizeUserId,\r\n} from '../utils/dataIsolation'\r\n\r\ninterface LoginCredentials {\r\n  username: string\r\n  password: string\r\n}\r\n\r\ninterface RegisterData {\r\n  username: string\r\n  password: string\r\n  email: string // Required for Supabase\r\n  name?: string\r\n}\r\n\r\ninterface AuthStore extends AuthState {\r\n  // Actions\r\n  login: (credentials: LoginCredentials) => Promise<void>\r\n  register: (data: RegisterData) => Promise<void>\r\n  logout: () => Promise<void>\r\n  clearError: () => void\r\n  checkAuthStatus: () => Promise<void>\r\n  setUser: (user: User, token: string) => Promise<void>\r\n  \r\n  // MVP-10 Enhancements\r\n  isCheckingAuth: boolean\r\n  lastAuthCheck: number\r\n  retryCount: number\r\n\r\n  // MVP-10: Force logout from all auth services\r\n  forceLogout: () => Promise<void>\r\n}\r\n\r\n// Helper function to determine which auth service to use\r\nconst getAuthService = () => {\r\n  // Always try Azure Key Vault Supabase first, fall back to local if it fails\r\n  console.log(' Using Azure Key Vault Supabase auth (with local fallback)')\r\n  return 'supabase'\r\n}\r\n\r\n// MVP-10: Debounce configuration\r\nconst AUTH_CHECK_DEBOUNCE_MS = 500\r\nconst MAX_RETRY_ATTEMPTS = 3\r\nconst RETRY_DELAY_MS = 1000\r\n\r\n// MVP-10: Session validation helper\r\nconst validateSessionIntegrity = (state: AuthState): boolean => {\r\n  if (state.isAuthenticated && (!state.user || !state.token)) {\r\n    console.warn(' Session integrity check failed: authenticated but missing user/token')\r\n    return false\r\n  }\r\n  if (!state.isAuthenticated && (state.user || state.token)) {\r\n    console.warn(' Session integrity check failed: not authenticated but has user/token')\r\n    return false\r\n  }\r\n  return true\r\n}\r\n\r\n// MVP-10: Retry helper with exponential backoff\r\nconst withRetry = async <T>(\r\n  operation: () => Promise<T>,\r\n  maxAttempts: number = MAX_RETRY_ATTEMPTS,\r\n  delay: number = RETRY_DELAY_MS\r\n): Promise<T> => {\r\n  let lastError: Error\r\n  \r\n  for (let attempt = 1; attempt <= maxAttempts; attempt++) {\r\n    try {\r\n      return await operation()\r\n    } catch (error) {\r\n      lastError = error as Error\r\n      console.warn(` Retry attempt ${attempt}/${maxAttempts} failed:`, error)\r\n      \r\n      if (attempt === maxAttempts) {\r\n        break\r\n      }\r\n      \r\n      // Exponential backoff\r\n      const backoffDelay = delay * Math.pow(2, attempt - 1)\r\n      await new Promise(resolve => setTimeout(resolve, backoffDelay))\r\n    }\r\n  }\r\n  \r\n  throw lastError!\r\n}\r\n\r\n// Global flag to track if auth state change has provided user info\r\nlet authStateChangeProvidedUser = false\r\n\r\nexport const useAuthStore = create<AuthStore>()(\r\n  persist(\r\n    (set, get) => ({\r\n      // Initial state\r\n      user: null,\r\n      isAuthenticated: false,\r\n      isLoading: false,\r\n      error: null,\r\n      token: null,\r\n      \r\n      // MVP-10: Enhanced state\r\n      isCheckingAuth: false,\r\n      lastAuthCheck: 0,\r\n      retryCount: 0,\r\n\r\n      // Actions\r\n      login: async (credentials: LoginCredentials) => {\r\n        set({ isLoading: true, error: null })\r\n\r\n        try {\r\n          console.log(' Starting login process for:', credentials.username)\r\n          const authService = getAuthService()\r\n          console.log(' Using auth service:', authService)\r\n\r\n          let user: User | null = null\r\n          let token: string = ''\r\n\r\n          if (authService === 'supabase') {\r\n            try {\r\n              const { user: supabaseUser, error } =\r\n                await supabaseAuth.loginWithUsername(\r\n                  credentials.username,\r\n                  credentials.password\r\n                )\r\n\r\n              if (error) {\r\n                console.error(' Supabase login error:', error)\r\n                throw new Error(error.message)\r\n              }\r\n\r\n              user = supabaseUser\r\n              token = user?.id || ''\r\n            } catch (supabaseError) {\r\n              console.error(' Supabase login failed:', supabaseError)\r\n              console.log(' Attempting fallback to local auth for login...')\r\n              \r\n              // Fallback to local auth\r\n              try {\r\n                const result = await withRetry(() => localAuthService.login(credentials))\r\n                user = result.user\r\n                token = result.token\r\n                console.log(' Fallback to local auth login successful:', user.username)\r\n              } catch (localError) {\r\n                console.error(' Local auth login also failed:', localError)\r\n                const errorMessage = supabaseError instanceof Error ? supabaseError.message : 'Authentication failed'\r\n                throw new Error(`Authentication failed: ${errorMessage}`)\r\n              }\r\n            }\r\n          } else {\r\n            // Use local auth service with retry logic\r\n            const result = await withRetry(() => localAuthService.login(credentials))\r\n            user = result.user\r\n            token = result.token\r\n          }\r\n\r\n          console.log(' Login result:', { user, token })\r\n\r\n          if (!user) {\r\n            console.error(' No user returned from login')\r\n            throw new Error('Login failed - no user returned')\r\n          }\r\n\r\n          console.log(' Login successful, setting user state')\r\n\r\n          set({\r\n            user,\r\n            token,\r\n            isAuthenticated: true,\r\n            isLoading: false,\r\n            error: null,\r\n            retryCount: 0, // Reset retry count on success\r\n          })\r\n\r\n          // Initialize user-specific databases for data isolation\r\n          const sanitizedUserId = sanitizeUserId(user.id)\r\n          initializeUserDatabases(sanitizedUserId)\r\n\r\n          console.log(' Login process completed successfully')\r\n        } catch (error) {\r\n          console.error(' Login error in store:', error)\r\n          set({\r\n            isLoading: false,\r\n            error: error instanceof Error ? error.message : 'Login failed',\r\n            user: null,\r\n            token: null,\r\n            isAuthenticated: false,\r\n          })\r\n        }\r\n      },\r\n\r\n      register: async (data: RegisterData) => {\r\n        set({ isLoading: true, error: null })\r\n\r\n        try {\r\n          // Validate password length\r\n          if (data.password.length < 6) {\r\n            throw new Error('Password must be at least 6 characters long')\r\n          }\r\n\r\n          const authService = getAuthService()\r\n          console.log(' Using auth service for registration:', authService)\r\n\r\n          if (authService === 'supabase') {\r\n            const { user, error } = await supabaseAuth.register(\r\n              data.username,\r\n              data.email,\r\n              data.password\r\n            )\r\n\r\n            if (error) {\r\n              throw new Error(error.message)\r\n            }\r\n\r\n            if (!user) {\r\n              throw new Error('Registration failed')\r\n            }\r\n          } else {\r\n            // Use local auth service with retry logic\r\n            await withRetry(() => localAuthService.register(data))\r\n          }\r\n\r\n          // For registration, we'll just set loading to false and not authenticate\r\n          // This allows the UI to handle the success state and redirect to login\r\n          set({\r\n            user: null,\r\n            token: null,\r\n            isAuthenticated: false,\r\n            isLoading: false,\r\n            error: null,\r\n          })\r\n        } catch (error) {\r\n          console.error('Registration error:', error)\r\n          set({\r\n            isLoading: false,\r\n            error:\r\n              error instanceof Error ? error.message : 'Registration failed',\r\n            user: null,\r\n            token: null,\r\n            isAuthenticated: false,\r\n          })\r\n        }\r\n      },\r\n\r\n      logout: async () => {\r\n        const state = get()\r\n\r\n        set({ isLoading: true })\r\n\r\n        try {\r\n          // Clear user-specific databases if user exists\r\n          if (state.user?.id) {\r\n            try {\r\n              const sanitizedUserId = sanitizeUserId(state.user.id)\r\n              await clearUserDatabases(sanitizedUserId)\r\n            } catch (error) {\r\n              console.error('Error clearing user databases:', error)\r\n            }\r\n          }\r\n\r\n          // Logout from appropriate service\r\n          const authService = getAuthService()\r\n          if (authService === 'supabase') {\r\n            await supabaseAuth.logout()\r\n          } else {\r\n            localAuthService.logout()\r\n          }\r\n\r\n          // Clear local state\r\n          set({\r\n            user: null,\r\n            token: null,\r\n            isAuthenticated: false,\r\n            isLoading: false,\r\n            error: null,\r\n            isCheckingAuth: false,\r\n            lastAuthCheck: 0,\r\n            retryCount: 0,\r\n          })\r\n\r\n          // Clear localStorage (but preserve local auth data if using local service)\r\n          if (authService === 'supabase') {\r\n            localStorage.clear()\r\n          }\r\n        } catch (error) {\r\n          console.error('Logout error:', error)\r\n          // Even if logout fails, clear local state\r\n          set({\r\n            user: null,\r\n            token: null,\r\n            isAuthenticated: false,\r\n            isLoading: false,\r\n            error: null,\r\n            isCheckingAuth: false,\r\n            lastAuthCheck: 0,\r\n            retryCount: 0,\r\n          })\r\n        }\r\n      },\r\n\r\n      clearError: () => {\r\n        set({ error: null })\r\n      },\r\n\r\n      // MVP-10: Enhanced checkAuthStatus with debouncing and retry logic\r\n      checkAuthStatus: async () => {\r\n        const state = get()\r\n        const now = Date.now()\r\n        \r\n        // MVP-10: Prevent rapid successive calls (debouncing)\r\n        if (state.isCheckingAuth || (now - state.lastAuthCheck) < AUTH_CHECK_DEBOUNCE_MS) {\r\n          console.log(' Auth check skipped - too recent or already in progress')\r\n          return\r\n        }\r\n\r\n        // MVP-10: Validate current session integrity first\r\n        if (!validateSessionIntegrity(state)) {\r\n          console.log(' Fixing corrupted session state')\r\n          set({\r\n            user: null,\r\n            token: null,\r\n            isAuthenticated: false,\r\n            error: null,\r\n          })\r\n          return\r\n        }\r\n\r\n        console.log(' Starting auth status check...')\r\n        set({ isCheckingAuth: true, lastAuthCheck: now })\r\n\r\n        try {\r\n          const authService = getAuthService()\r\n          let user: User | null = null\r\n          let token: string = ''\r\n\r\n          console.log(' Using auth service:', authService)\r\n\r\n          // MVP-10: Use retry logic for auth service calls\r\n          if (authService === 'supabase') {\r\n            console.log(' Checking Supabase auth status...')\r\n            \r\n            // If auth state change already provided user, skip the potentially hanging Supabase call\r\n            const state = get()\r\n            if (authStateChangeProvidedUser && state.user) {\r\n              console.log(' Using user from auth state change, skipping Supabase call')\r\n              user = state.user\r\n              token = state.token || user.id\r\n            } else {\r\n              try {\r\n                // Add timeout for Supabase operations (increased to 8 seconds)\r\n                const timeoutPromise = new Promise<never>((_, reject) => {\r\n                  setTimeout(() => reject(new Error('Supabase auth timeout')), 8000)\r\n                })\r\n                \r\n                // Try to get session directly (faster, no profile fetch)\r\n                user = await Promise.race([\r\n                  supabaseAuth.getSession(),\r\n                  timeoutPromise\r\n                ])\r\n                token = user?.id || ''\r\n                console.log(' Supabase auth check successful:', user?.email)\r\n              } catch (error) {\r\n                console.error(' Supabase auth check failed:', error)\r\n                \r\n                // Try to fallback to local auth if Supabase consistently fails\r\n                console.log(' Attempting fallback to local auth...')\r\n                try {\r\n                  const session = localAuthService.getCurrentUser()\r\n                  if (session) {\r\n                    user = session.user\r\n                    token = session.token\r\n                    console.log(' Fallback to local auth successful:', user.username)\r\n                  } else {\r\n                    console.log(' No local session found either')\r\n                    user = null\r\n                    token = ''\r\n                  }\r\n                } catch (localError) {\r\n                  console.error(' Local auth fallback also failed:', localError)\r\n                  user = null\r\n                  token = ''\r\n                }\r\n                \r\n                // Force logout from Supabase to clean up\r\n                try {\r\n                  await supabaseAuth.logout()\r\n                  console.log(' Logged out from Supabase after failure')\r\n                } catch (logoutError) {\r\n                  console.error('Failed to logout from Supabase:', logoutError)\r\n                }\r\n              }\r\n            }\r\n          } else {\r\n            // Use local auth service (no retry needed for synchronous call)\r\n            const session = localAuthService.getCurrentUser()\r\n            if (session) {\r\n              user = session.user\r\n              token = session.token\r\n              console.log(' Found existing session for user:', user.username)\r\n            } else {\r\n              console.log(' No existing session found')\r\n            }\r\n          }\r\n\r\n          if (!user) {\r\n            console.log(' No user found, setting unauthenticated state')\r\n            set({ \r\n              isAuthenticated: false, \r\n              user: null, \r\n              token: null,\r\n              isCheckingAuth: false,\r\n              retryCount: 0,\r\n            })\r\n            return\r\n          }\r\n\r\n          // Update state with current session\r\n          console.log(' Auth check successful, user authenticated:', user.username)\r\n          set({\r\n            isAuthenticated: true,\r\n            user,\r\n            token,\r\n            isCheckingAuth: false,\r\n            retryCount: 0,\r\n          })\r\n\r\n          // Initialize user databases if user exists and is authenticated\r\n          if (user?.id) {\r\n            const sanitizedUserId = sanitizeUserId(user.id)\r\n            initializeUserDatabases(sanitizedUserId)\r\n            \r\n            // Initialize tasks store after auth is confirmed\r\n            try {\r\n              const { initializeTasksStore } = await import('@/modules/tasks')\r\n              await initializeTasksStore()\r\n            } catch (error) {\r\n              console.error('Failed to initialize tasks store:', error)\r\n            }\r\n          }\r\n        } catch (error) {\r\n          console.error('Check auth status error:', error)\r\n          \r\n          const currentState = get()\r\n          const newRetryCount = currentState.retryCount + 1\r\n          \r\n          // MVP-10: Only clear auth state if we've exhausted retries\r\n          if (newRetryCount >= MAX_RETRY_ATTEMPTS) {\r\n            console.error(' Max auth check retries exceeded, clearing auth state')\r\n            set({ \r\n              isAuthenticated: false, \r\n              user: null, \r\n              token: null,\r\n              isCheckingAuth: false,\r\n              retryCount: 0,\r\n            })\r\n          } else {\r\n            console.log(` Auth check retry ${newRetryCount}/${MAX_RETRY_ATTEMPTS}`)\r\n            set({ \r\n              isCheckingAuth: false,\r\n              retryCount: newRetryCount,\r\n            })\r\n          }\r\n        }\r\n      },\r\n\r\n      setUser: async (user: User, token: string) => {\r\n        // MVP-10: Validate inputs\r\n        if (!user || !token) {\r\n          console.error(' setUser called with invalid parameters')\r\n          return\r\n        }\r\n\r\n        set({\r\n          user,\r\n          token,\r\n          isAuthenticated: true,\r\n          isLoading: false,\r\n          error: null,\r\n          retryCount: 0,\r\n        })\r\n\r\n        // Initialize user-specific databases\r\n        const sanitizedUserId = sanitizeUserId(user.id)\r\n        initializeUserDatabases(sanitizedUserId)\r\n        \r\n        // Initialize tasks store after user is set\r\n        try {\r\n          const { initializeTasksStore } = await import('@/modules/tasks')\r\n          await initializeTasksStore()\r\n        } catch (error) {\r\n          console.error('Failed to initialize tasks store in setUser:', error)\r\n        }\r\n      },\r\n\r\n      // MVP-10: Force logout from all auth services\r\n      forceLogout: async () => {\r\n        console.log(' Force logout initiated...')\r\n        \r\n        try {\r\n          // Clear Supabase session\r\n          await supabaseAuth.logout()\r\n          console.log(' Supabase logout completed')\r\n        } catch (error) {\r\n          console.error(' Supabase logout failed:', error)\r\n        }\r\n\r\n        try {\r\n          // Clear local auth session\r\n          localAuthService.logout()\r\n          console.log(' Local auth logout completed')\r\n        } catch (error) {\r\n          console.error(' Local auth logout failed:', error)\r\n        }\r\n\r\n        // Clear all localStorage\r\n        try {\r\n          localStorage.clear()\r\n          console.log(' localStorage cleared')\r\n        } catch (error) {\r\n          console.error(' localStorage clear failed:', error)\r\n        }\r\n\r\n        // Reset store state\r\n        set({\r\n          user: null,\r\n          token: null,\r\n          isAuthenticated: false,\r\n          isLoading: false,\r\n          error: null,\r\n          isCheckingAuth: false,\r\n          lastAuthCheck: 0,\r\n          retryCount: 0,\r\n        })\r\n\r\n        console.log(' Force logout completed')\r\n      },\r\n    }),\r\n    {\r\n      name: 'auth-storage',\r\n      partialize: (state) => ({\r\n        // Only persist user and token, not isAuthenticated\r\n        // This forces a fresh auth check on app reload\r\n        user: state.user,\r\n        token: state.token,\r\n      }),\r\n      // Add onRehydrateStorage to handle state restoration\r\n      onRehydrateStorage: () => (state) => {\r\n        if (state) {\r\n          // Force auth check when state is rehydrated\r\n          console.log(' Auth state rehydrated, forcing auth check')\r\n          // Don't set isAuthenticated to true immediately\r\n          // Let checkAuthStatus determine the actual auth state\r\n          state.isAuthenticated = false\r\n          state.isCheckingAuth = false\r\n          state.lastAuthCheck = 0\r\n          state.retryCount = 0\r\n          \r\n          // Trigger auth check after a short delay\r\n          setTimeout(() => {\r\n            useAuthStore.getState().checkAuthStatus()\r\n          }, 100)\r\n        }\r\n      },\r\n    }\r\n  )\r\n)\r\n\r\n// MVP-10: Enhanced auth state listener with loop prevention\r\nlet isAuthStateChangeInProgress = false\r\n\r\nsupabaseAuth.onAuthStateChange(async (user) => {\r\n  // Prevent recursive calls\r\n  if (isAuthStateChangeInProgress) {\r\n    console.log(' Auth state change already in progress, skipping')\r\n    return\r\n  }\r\n\r\n  isAuthStateChangeInProgress = true\r\n  \r\n  try {\r\n    const store = useAuthStore.getState()\r\n    \r\n    if (user && !store.isAuthenticated) {\r\n      console.log(' Auth state change: user logged in')\r\n      authStateChangeProvidedUser = true\r\n      await store.setUser(user, user.id)\r\n    } else if (!user && store.isAuthenticated) {\r\n      console.log(' Auth state change: user logged out')\r\n      authStateChangeProvidedUser = false\r\n      await store.logout()\r\n    }\r\n  } catch (error) {\r\n    console.error('Auth state change error:', error)\r\n  } finally {\r\n    isAuthStateChangeInProgress = false\r\n  }\r\n})\r\n","import { type ClassValue, clsx } from 'clsx'\r\nimport { twMerge } from 'tailwind-merge'\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n","import * as React from 'react'\r\nimport { cn } from '@/shared/utils/cn'\r\n\r\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n  variant?:\r\n    | 'default'\r\n    | 'destructive'\r\n    | 'outline'\r\n    | 'secondary'\r\n    | 'ghost'\r\n    | 'link'\r\n    | 'cyber-ki'\r\n    | 'cyber-magenta'\r\n    | 'cyber-cyan'\r\n    | 'cyber-outline'\r\n  size?: 'default' | 'sm' | 'lg' | 'icon'\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant = 'default', size = 'default', ...props }, ref) => {\r\n    const baseClasses =\r\n      'inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 font-inter'\r\n\r\n    const variants = {\r\n      default: 'bg-primary text-primary-foreground hover:bg-primary/90',\r\n      destructive:\r\n        'bg-destructive text-destructive-foreground hover:bg-destructive/90',\r\n      outline:\r\n        'border border-input bg-background hover:bg-accent hover:text-accent-foreground',\r\n      secondary: 'bg-secondary text-secondary-foreground hover:bg-secondary/80',\r\n      ghost: 'hover:bg-accent hover:text-accent-foreground',\r\n      link: 'text-primary underline-offset-4 hover:underline',\r\n\r\n      // Cyber variants with glow effects\r\n      'cyber-ki':\r\n        'bg-ki-green text-dark-navy font-semibold ki-glow-soft hover:ki-glow hover:scale-105 active:scale-95 neon-button',\r\n      'cyber-magenta':\r\n        'bg-hyper-magenta text-white font-semibold magenta-glow hover:magenta-glow hover:scale-105 active:scale-95 neon-button',\r\n      'cyber-cyan':\r\n        'bg-plasma-cyan text-dark-navy font-semibold cyan-glow hover:cyan-glow hover:scale-105 active:scale-95 neon-button',\r\n      'cyber-outline':\r\n        'border-2 border-ki-green bg-transparent text-ki-green font-semibold hover:bg-ki-green hover:text-dark-navy hover:ki-glow transition-all duration-300 neon-button',\r\n    }\r\n\r\n    const sizes = {\r\n      default: 'h-10 px-4 py-2',\r\n      sm: 'h-9 rounded-md px-3',\r\n      lg: 'h-11 rounded-md px-8',\r\n      icon: 'h-10 w-10',\r\n    }\r\n\r\n    return (\r\n      <button\r\n        className={cn(baseClasses, variants[variant], sizes[size], className)}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nButton.displayName = 'Button'\r\n\r\nexport { Button }\r\n","import * as React from 'react'\r\nimport { cn } from '@/shared/utils/cn'\r\n\r\nconst Card = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\r\n      'rounded-lg border bg-card text-card-foreground shadow-sm',\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nCard.displayName = 'Card'\r\n\r\nconst CardHeader = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn('flex flex-col space-y-1.5 p-6', className)}\r\n    {...props}\r\n  />\r\n))\r\nCardHeader.displayName = 'CardHeader'\r\n\r\nconst CardTitle = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLHeadingElement>\r\n>(({ className, ...props }, ref) => (\r\n  <h3\r\n    ref={ref}\r\n    className={cn(\r\n      'text-2xl font-semibold leading-none tracking-tight',\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nCardTitle.displayName = 'CardTitle'\r\n\r\nconst CardDescription = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => (\r\n  <p\r\n    ref={ref}\r\n    className={cn('text-sm text-muted-foreground', className)}\r\n    {...props}\r\n  />\r\n))\r\nCardDescription.displayName = 'CardDescription'\r\n\r\nconst CardContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn('p-6 pt-0', className)} {...props} />\r\n))\r\nCardContent.displayName = 'CardContent'\r\n\r\nconst CardFooter = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn('flex items-center p-6 pt-0', className)}\r\n    {...props}\r\n  />\r\n))\r\nCardFooter.displayName = 'CardFooter'\r\n\r\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\r\n","// src/shared/ui/alert.tsx\r\n\r\nimport * as React from 'react'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\nimport { cn } from '@/shared/utils/cn'\r\n\r\nconst alertVariants = cva(\r\n  'relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground',\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: 'bg-background text-foreground',\r\n        destructive:\r\n          'border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n    },\r\n  }\r\n)\r\n\r\nconst Alert = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\r\n>(({ className, variant, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    role=\"alert\"\r\n    className={cn(alertVariants({ variant }), className)}\r\n    {...props}\r\n  />\r\n))\r\nAlert.displayName = 'Alert'\r\n\r\nconst AlertTitle = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLHeadingElement>\r\n>(({ className, ...props }, ref) => (\r\n  <h5\r\n    ref={ref}\r\n    className={cn('mb-1 font-medium leading-none tracking-tight', className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertTitle.displayName = 'AlertTitle'\r\n\r\nconst AlertDescription = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn('text-sm [&_p]:leading-relaxed', className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertDescription.displayName = 'AlertDescription'\r\n\r\nexport { Alert, AlertTitle, AlertDescription }\r\n","import * as React from 'react'\r\nimport { cn } from '@/shared/utils/cn'\r\n\r\nexport interface InputProps\r\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\r\n\r\nexport const Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n  ({ className, type, ...props }, ref) => {\r\n    return (\r\n      <input\r\n        type={type}\r\n        className={cn(\r\n          'flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nInput.displayName = 'Input'\r\n","import * as React from 'react'\r\nimport { cn } from '@/shared/utils/cn'\r\n\r\nexport interface LabelProps\r\n  extends React.LabelHTMLAttributes<HTMLLabelElement> {}\r\n\r\nexport const Label = React.forwardRef<HTMLLabelElement, LabelProps>(\r\n  ({ className, ...props }, ref) => (\r\n    <label\r\n      ref={ref}\r\n      className={cn(\r\n        'text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70',\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n)\r\n\r\nLabel.displayName = 'Label'\r\n","import { useEffect, useCallback, useRef, useState } from 'react'\r\nimport { useAuthStore } from '../store/authStore'\r\nimport { Navigate } from 'react-router-dom'\r\nimport { Loader2 } from 'lucide-react'\r\n\r\ninterface ProtectedRouteProps {\r\n  children: React.ReactNode\r\n}\r\n\r\nexport default function ProtectedRoute({ children }: ProtectedRouteProps) {\r\n  const { \r\n    isAuthenticated, \r\n    isLoading, \r\n    isCheckingAuth, \r\n    checkAuthStatus,\r\n    user,\r\n    token\r\n  } = useAuthStore()\r\n  \r\n  // MVP-10: Prevent multiple auth checks with ref\r\n  const hasCheckedAuth = useRef(false)\r\n  const [authCheckTimeout, setAuthCheckTimeout] = useState<NodeJS.Timeout | null>(null)\r\n  \r\n  // MVP-10: Memoize checkAuthStatus to prevent unnecessary re-renders\r\n  const stableCheckAuthStatus = useCallback(() => {\r\n    if (!hasCheckedAuth.current) {\r\n      hasCheckedAuth.current = true\r\n      checkAuthStatus()\r\n      \r\n      // Set a timeout to prevent infinite loading\r\n      const timeout = setTimeout(() => {\r\n        console.warn(' Auth check timeout - forcing unauthenticated state')\r\n        useAuthStore.setState({\r\n          isAuthenticated: false,\r\n          isCheckingAuth: false,\r\n          isLoading: false,\r\n          user: null,\r\n          token: null\r\n        })\r\n      }, 10000) // 10 second timeout\r\n      \r\n      setAuthCheckTimeout(timeout)\r\n    }\r\n  }, [checkAuthStatus])\r\n\r\n  useEffect(() => {\r\n    stableCheckAuthStatus()\r\n    \r\n    // Cleanup timeout on unmount\r\n    return () => {\r\n      if (authCheckTimeout) {\r\n        clearTimeout(authCheckTimeout)\r\n      }\r\n    }\r\n  }, [stableCheckAuthStatus, authCheckTimeout])\r\n\r\n  // Clear timeout when auth check completes\r\n  useEffect(() => {\r\n    if (!isCheckingAuth && authCheckTimeout) {\r\n      clearTimeout(authCheckTimeout)\r\n      setAuthCheckTimeout(null)\r\n    }\r\n  }, [isCheckingAuth, authCheckTimeout])\r\n\r\n  // MVP-10: Show loading while checking authentication or during auth operations\r\n  if (isLoading || isCheckingAuth) {\r\n    return (\r\n      <div className=\"flex min-h-screen items-center justify-center bg-gray-50 dark:bg-gray-900\">\r\n        <div className=\"space-y-4 text-center\">\r\n          <Loader2 className=\"mx-auto h-8 w-8 animate-spin text-blue-600\" />\r\n          <div>\r\n            <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white\">\r\n              {isCheckingAuth ? 'Verifying session...' : 'Loading...'}\r\n            </h2>\r\n            <p className=\"mt-2 text-sm text-gray-600 dark:text-gray-400\">\r\n              {isCheckingAuth \r\n                ? 'Please wait while we verify your authentication status'\r\n                : 'Checking your authentication status'\r\n              }\r\n            </p>\r\n          </div>\r\n          \r\n          {/* Emergency escape button after 5 seconds */}\r\n          {(isCheckingAuth || isLoading) && (\r\n            <button\r\n              onClick={() => {\r\n                console.log(' Emergency logout triggered by user')\r\n                useAuthStore.getState().forceLogout()\r\n              }}\r\n              className=\"mt-4 px-4 py-2 text-sm text-gray-500 hover:text-gray-700 underline\"\r\n            >\r\n              Having trouble? Click here to reset\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Additional validation: if we have persisted user/token but not authenticated,\r\n  // and we're not checking auth, something went wrong\r\n  if (!isAuthenticated && (user || token) && !isCheckingAuth) {\r\n    console.warn(' Inconsistent auth state detected, clearing...')\r\n    useAuthStore.setState({\r\n      user: null,\r\n      token: null,\r\n      isAuthenticated: false,\r\n      error: null\r\n    })\r\n  }\r\n\r\n  // Redirect to login if not authenticated\r\n  if (!isAuthenticated) {\r\n    return <Navigate to=\"/login\" replace />\r\n  }\r\n\r\n  // Render protected content\r\n  return <>{children}</>\r\n}\r\n\r\nexport { ProtectedRoute }\r\n","import { lazy } from 'react'\r\nimport type { RouteObject } from 'react-router-dom'\r\n\r\n// Lazy load auth components\r\nconst SimpleLoginPage = lazy(() => import('./components/SimpleLoginPage'))\r\n\r\nexport const authRoutes: RouteObject[] = [\r\n  {\r\n    path: '/login',\r\n    element: <SimpleLoginPage />,\r\n  },\r\n]\r\n","import { NavLink } from 'react-router-dom'\r\nimport {\r\n  Home,\r\n  BarChart3,\r\n  CheckSquare,\r\n  Target,\r\n  Calendar,\r\n  MessageCircle,\r\n  LogOut,\r\n  User,\r\n} from 'lucide-react'\r\nimport { useAuthStore } from '@/modules/auth'\r\nimport { Button } from '@/shared/ui/button'\r\n\r\nexport default function NavigationBar() {\r\n  const { user, logout } = useAuthStore()\r\n\r\n  const handleLogout = async () => {\r\n    if (\r\n      confirm(\r\n        'Are you sure you want to log out? This will clear all your local data.'\r\n      )\r\n    ) {\r\n      await logout()\r\n    }\r\n  }\r\n\r\n  const NavItem = ({\r\n    to,\r\n    icon: Icon,\r\n    label,\r\n  }: {\r\n    to: string\r\n    icon: React.ElementType\r\n    label: string\r\n  }) => (\r\n    <NavLink\r\n      to={to}\r\n      className={({ isActive }) => `\r\n        flex flex-col items-center justify-center p-2 min-h-[48px] min-w-[48px] rounded-lg transition-all duration-200\r\n        ${isActive \r\n          ? 'text-green-500 bg-green-500/10 border border-green-500/20' \r\n          : 'text-gray-500 hover:text-white hover:bg-white/5'\r\n        }\r\n        active:scale-95 touch-manipulation\r\n      `}\r\n    >\r\n      <Icon className=\"h-5 w-5 mb-1 sm:h-6 sm:w-6\" />\r\n      <span className=\"text-xs font-semibold leading-tight\">{label}</span>\r\n    </NavLink>\r\n  )\r\n\r\n  return (\r\n    <>\r\n      {/* Top user bar - Mobile optimized */}\r\n      <div className=\"fixed inset-x-0 top-0 z-50 border-b border-gray-700 bg-gray-900 safe-area-top\">\r\n        <div className=\"flex h-14 items-center justify-between px-4 sm:px-6\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"flex h-8 w-8 items-center justify-center rounded-full bg-green-500 flex-shrink-0\">\r\n              <User className=\"h-4 w-4 text-black\" />\r\n            </div>\r\n            <div className=\"min-w-0 flex-1\">\r\n              <div className=\"text-sm font-semibold text-white truncate\">\r\n                {user?.name || user?.username || 'User'}\r\n              </div>\r\n              <div className=\"text-xs text-gray-400\">\r\n                Online\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <Button\r\n            onClick={handleLogout}\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            className=\"text-xs text-gray-400 hover:text-red-400 flex-shrink-0 min-h-[32px] px-2 sm:px-3\"\r\n          >\r\n            <LogOut className=\"mr-1 h-4 w-4\" />\r\n            <span className=\"hidden sm:inline\">Logout</span>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Bottom navigation - Mobile optimized */}\r\n      <div className=\"fixed inset-x-0 bottom-0 z-40 bg-gray-900 border-t border-gray-700 safe-area-bottom\">\r\n        <div className=\"flex h-16 sm:h-18 items-center justify-around px-2 sm:px-4 max-w-md mx-auto sm:max-w-2xl\">\r\n          <NavItem to=\"/\" icon={Home} label=\"Home\" />\r\n          <NavItem to=\"/health\" icon={BarChart3} label=\"Health\" />\r\n          <NavItem to=\"/todo\" icon={CheckSquare} label=\"Todo\" />\r\n          <NavItem to=\"/goals\" icon={Target} label=\"Goals\" />\r\n          <NavItem to=\"/daily-standup\" icon={Calendar} label=\"Standup\" />\r\n          <NavItem to=\"/chat\" icon={MessageCircle} label=\"AI Chat\" />\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","export default function GlobalFab() {\r\n  // FAB disabled - all pages now have inline forms\r\n  return null\r\n}\r\n","import { useOnline } from '@/shared/hooks/useOnline'\r\nimport { WifiOff } from 'lucide-react'\r\n\r\nexport default function OfflineBanner() {\r\n  const isOnline = useOnline()\r\n\r\n  if (isOnline) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed left-0 right-0 top-0 z-50 bg-red-600 px-4 py-2 text-white duration-300 animate-in slide-in-from-top\">\r\n      <div className=\"container mx-auto flex items-center justify-center gap-2 text-sm\">\r\n        <WifiOff className=\"h-4 w-4\" />\r\n        <span>You're offline</span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { useState, useEffect } from 'react'\r\n\r\nexport function useOnline(): boolean {\r\n  const [isOnline, setIsOnline] = useState(navigator.onLine)\r\n\r\n  useEffect(() => {\r\n    const handleOnline = () => setIsOnline(true)\r\n    const handleOffline = () => setIsOnline(false)\r\n\r\n    window.addEventListener('online', handleOnline)\r\n    window.addEventListener('offline', handleOffline)\r\n\r\n    return () => {\r\n      window.removeEventListener('online', handleOnline)\r\n      window.removeEventListener('offline', handleOffline)\r\n    }\r\n  }, [])\r\n\r\n  return isOnline\r\n}\r\n","import * as React from 'react'\r\nimport { cn } from '@/shared/utils/cn'\r\n\r\ninterface SheetProps {\r\n  open: boolean\r\n  onOpenChange: (open: boolean) => void\r\n  children: React.ReactNode\r\n}\r\n\r\nexport function Sheet({\r\n  open,\r\n  onOpenChange: _onOpenChange,\r\n  children,\r\n}: SheetProps) {\r\n  return <>{open && children}</>\r\n}\r\n\r\ninterface SheetContentProps extends React.HTMLAttributes<HTMLDivElement> {\r\n  side?: 'bottom' | 'top' | 'left' | 'right'\r\n}\r\n\r\nexport const SheetContent: React.FC<SheetContentProps> = ({\r\n  side = 'bottom',\r\n  className,\r\n  ...props\r\n}) => {\r\n  const basePosition =\r\n    side === 'bottom'\r\n      ? 'inset-x-0 bottom-0'\r\n      : side === 'top'\r\n        ? 'inset-x-0 top-0'\r\n        : side === 'left'\r\n          ? 'inset-y-0 left-0'\r\n          : 'inset-y-0 right-0'\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        'slide-in-from- fixed z-50 bg-background shadow-lg transition-transform animate-in' +\r\n          side +\r\n          '-5',\r\n        basePosition,\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport const SheetHeader: React.FC<React.HTMLAttributes<HTMLDivElement>> = ({\r\n  className,\r\n  ...props\r\n}) => (\r\n  <div\r\n    className={cn(\r\n      'flex flex-col space-y-1.5 text-center sm:text-left',\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\n\r\nexport const SheetTitle: React.FC<React.HTMLAttributes<HTMLHeadingElement>> = ({\r\n  className,\r\n  ...props\r\n}) => <h2 className={cn('text-lg font-semibold', className)} {...props} />\r\n\r\nexport const SheetDescription: React.FC<\r\n  React.HTMLAttributes<HTMLParagraphElement>\r\n> = ({ className, ...props }) => (\r\n  <p className={cn('text-sm text-muted-foreground', className)} {...props} />\r\n)\r\n","import { useState, useEffect } from 'react'\r\n\r\ninterface BeforeInstallPromptEvent extends Event {\r\n  prompt(): Promise<void>\r\n  userChoice: Promise<{\r\n    outcome: 'accepted' | 'dismissed'\r\n    platform: string\r\n  }>\r\n}\r\n\r\ninterface InstallPromptHook {\r\n  deferredPrompt: BeforeInstallPromptEvent | null\r\n  isInstallable: boolean\r\n  isInstallPromptDeclined: boolean\r\n  showInstallPrompt: () => Promise<boolean>\r\n  declineInstallPrompt: () => void\r\n  clearDeclineState: () => void\r\n}\r\n\r\nconst INSTALL_DECLINED_KEY = 'perfect-zenkai-install-declined'\r\n\r\nexport function useDeferredInstallPrompt(): InstallPromptHook {\r\n  const [deferredPrompt, setDeferredPrompt] =\r\n    useState<BeforeInstallPromptEvent | null>(null)\r\n  const [isInstallable, setIsInstallable] = useState(false)\r\n  const [isInstallPromptDeclined, setIsInstallPromptDeclined] = useState(false)\r\n\r\n  useEffect(() => {\r\n    // Check if user previously declined\r\n    const declined = localStorage.getItem(INSTALL_DECLINED_KEY)\r\n    if (declined === 'true') {\r\n      setIsInstallPromptDeclined(true)\r\n    }\r\n\r\n    const handleBeforeInstallPrompt = (e: Event) => {\r\n      // Prevent the mini-infobar from appearing on mobile\r\n      e.preventDefault()\r\n\r\n      const promptEvent = e as BeforeInstallPromptEvent\r\n      setDeferredPrompt(promptEvent)\r\n      setIsInstallable(true)\r\n    }\r\n\r\n    const handleAppInstalled = () => {\r\n      // Clear the deferredPrompt so it can be garbage collected\r\n      setDeferredPrompt(null)\r\n      setIsInstallable(false)\r\n      // Clear declined state if user installs\r\n      localStorage.removeItem(INSTALL_DECLINED_KEY)\r\n      setIsInstallPromptDeclined(false)\r\n    }\r\n\r\n    window.addEventListener('beforeinstallprompt', handleBeforeInstallPrompt)\r\n    window.addEventListener('appinstalled', handleAppInstalled)\r\n\r\n    return () => {\r\n      window.removeEventListener(\r\n        'beforeinstallprompt',\r\n        handleBeforeInstallPrompt\r\n      )\r\n      window.removeEventListener('appinstalled', handleAppInstalled)\r\n    }\r\n  }, [])\r\n\r\n  const showInstallPrompt = async (): Promise<boolean> => {\r\n    if (!deferredPrompt) {\r\n      return false\r\n    }\r\n\r\n    try {\r\n      await deferredPrompt.prompt()\r\n      const choiceResult = await deferredPrompt.userChoice\r\n\r\n      if (choiceResult.outcome === 'accepted') {\r\n        setDeferredPrompt(null)\r\n        setIsInstallable(false)\r\n        return true\r\n      }\r\n\r\n      return false\r\n    } catch (error) {\r\n      console.error('Error showing install prompt:', error)\r\n      return false\r\n    }\r\n  }\r\n\r\n  const declineInstallPrompt = () => {\r\n    localStorage.setItem(INSTALL_DECLINED_KEY, 'true')\r\n    setIsInstallPromptDeclined(true)\r\n  }\r\n\r\n  const clearDeclineState = () => {\r\n    localStorage.removeItem(INSTALL_DECLINED_KEY)\r\n    setIsInstallPromptDeclined(false)\r\n  }\r\n\r\n  return {\r\n    deferredPrompt,\r\n    isInstallable: isInstallable && !isInstallPromptDeclined,\r\n    isInstallPromptDeclined,\r\n    showInstallPrompt,\r\n    declineInstallPrompt,\r\n    clearDeclineState,\r\n  }\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport {\r\n  Sheet,\r\n  SheetContent,\r\n  SheetDescription,\r\n  SheetHeader,\r\n  SheetTitle,\r\n} from '@/shared/ui/sheet'\r\nimport { Button } from '@/shared/ui/button'\r\nimport { useDeferredInstallPrompt } from '@/shared/hooks/useDeferredInstallPrompt'\r\nimport { Download, X } from 'lucide-react'\r\n\r\nconst FIRST_VISIT_KEY = 'perfect-zenkai-first-visit'\r\nconst INSTALL_SHEET_DELAY = 30000 // 30 seconds\r\n\r\nexport default function InstallSheet() {\r\n  const [showSheet, setShowSheet] = useState(false)\r\n  const { isInstallable, showInstallPrompt, declineInstallPrompt } =\r\n    useDeferredInstallPrompt()\r\n\r\n  useEffect(() => {\r\n    // Check if this is the first visit\r\n    const hasVisited = localStorage.getItem(FIRST_VISIT_KEY)\r\n\r\n    if (!hasVisited && isInstallable) {\r\n      // Mark as visited\r\n      localStorage.setItem(FIRST_VISIT_KEY, 'true')\r\n\r\n      // Show install sheet after delay\r\n      const timer = setTimeout(() => {\r\n        setShowSheet(true)\r\n      }, INSTALL_SHEET_DELAY)\r\n\r\n      return () => clearTimeout(timer)\r\n    }\r\n  }, [isInstallable])\r\n\r\n  const handleInstall = async () => {\r\n    const success = await showInstallPrompt()\r\n    if (success) {\r\n      setShowSheet(false)\r\n    }\r\n  }\r\n\r\n  const handleLater = () => {\r\n    declineInstallPrompt()\r\n    setShowSheet(false)\r\n  }\r\n\r\n  const handleClose = () => {\r\n    // Same as \"Later\" - user dismissed the prompt\r\n    handleLater()\r\n  }\r\n\r\n  if (!isInstallable || !showSheet) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <Sheet open={showSheet} onOpenChange={handleClose}>\r\n      <SheetContent side=\"bottom\" className=\"h-auto\">\r\n        <SheetHeader>\r\n          <SheetTitle className=\"flex items-center gap-2\">\r\n            <Download className=\"h-5 w-5\" />\r\n            Install Perfect Zenkai\r\n          </SheetTitle>\r\n          <SheetDescription>\r\n            Install the app on your device for quick access and a better\r\n            experience. You can access it from your home screen just like any\r\n            other app.\r\n          </SheetDescription>\r\n        </SheetHeader>\r\n\r\n        <div className=\"mt-6 flex gap-3\">\r\n          <Button onClick={handleInstall} className=\"flex-1\">\r\n            <Download className=\"mr-2 h-4 w-4\" />\r\n            Install App\r\n          </Button>\r\n          <Button variant=\"outline\" onClick={handleLater} className=\"flex-1\">\r\n            <X className=\"mr-2 h-4 w-4\" />\r\n            Later\r\n          </Button>\r\n        </div>\r\n\r\n        <div className=\"mt-4 text-center text-xs text-muted-foreground\">\r\n          You can always install later from your browser's menu\r\n        </div>\r\n      </SheetContent>\r\n    </Sheet>\r\n  )\r\n}\r\n","import { useState, useEffect } from 'react'\r\n\r\ninterface BeforeInstallPromptEvent extends Event {\r\n  prompt: () => Promise<void>\r\n  userChoice: Promise<{ outcome: 'accepted' | 'dismissed' }>\r\n}\r\n\r\nexport default function ForceInstallButton() {\r\n  const [isVisible, setIsVisible] = useState(false)\r\n  const [installPrompt, setInstallPrompt] = useState<BeforeInstallPromptEvent | null>(null)\r\n\r\n  useEffect(() => {\r\n    const handleBeforeInstallPrompt = (e: BeforeInstallPromptEvent) => {\r\n      e.preventDefault()\r\n      setInstallPrompt(e)\r\n    }\r\n\r\n    const handleAppInstalled = () => {\r\n      setInstallPrompt(null)\r\n    }\r\n\r\n    window.addEventListener('beforeinstallprompt', handleBeforeInstallPrompt as EventListener)\r\n    window.addEventListener('appinstalled', handleAppInstalled)\r\n\r\n    return () => {\r\n      window.removeEventListener('beforeinstallprompt', handleBeforeInstallPrompt as EventListener)\r\n      window.removeEventListener('appinstalled', handleAppInstalled)\r\n    }\r\n  }, [])\r\n\r\n  // Only show in development mode\r\n  if (import.meta.env.PROD) {\r\n    return null\r\n  }\r\n\r\n  const handleInstall = async () => {\r\n    if (installPrompt) {\r\n      try {\r\n        await installPrompt.prompt()\r\n        const { outcome } = await installPrompt.userChoice\r\n        console.log('Install outcome:', outcome)\r\n      } catch (error) {\r\n        console.error('Installation failed:', error)\r\n      }\r\n    } else {\r\n      // Force registration check\r\n      if ('serviceWorker' in navigator) {\r\n        try {\r\n          const registration = await navigator.serviceWorker.register('/sw.js')\r\n          console.log('Service worker registered:', registration)\r\n        } catch (error) {\r\n          console.error('Service worker registration failed:', error)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {/* Toggle Button */}\r\n      <button\r\n        onClick={() => setIsVisible(!isVisible)}\r\n        className=\"fixed bottom-4 right-4 bg-purple-600 hover:bg-purple-500 text-white p-2 rounded-full z-50 text-xs font-bold shadow-lg\"\r\n        title={isVisible ? 'Hide Install Debug' : 'Show Install Debug'}\r\n      >\r\n        \r\n      </button>\r\n\r\n      {/* Install Panel */}\r\n      {isVisible && (\r\n        <div className=\"fixed bottom-16 right-4 bg-gray-800 text-white p-4 rounded-lg text-xs max-w-sm z-50 shadow-xl border border-gray-600\">\r\n          <div className=\"flex justify-between items-center mb-2\">\r\n            <h3 className=\"font-bold text-purple-400\"> PWA Install Debug</h3>\r\n            <button\r\n              onClick={() => setIsVisible(false)}\r\n              className=\"text-gray-400 hover:text-white text-lg leading-none\"\r\n              title=\"Close\"\r\n            >\r\n              \r\n            </button>\r\n          </div>\r\n          \r\n          <div className=\"space-y-2\">\r\n            <div className={`px-2 py-1 rounded text-xs ${installPrompt ? 'bg-green-600' : 'bg-gray-600'}`}>\r\n              Install Prompt: {installPrompt ? ' Available' : ' Not Available'}\r\n            </div>\r\n            \r\n            <button\r\n              onClick={handleInstall}\r\n              className=\"w-full bg-purple-600 hover:bg-purple-500 px-3 py-2 rounded text-xs font-medium\"\r\n            >\r\n              {installPrompt ? ' Install PWA' : ' Register SW'}\r\n            </button>\r\n            \r\n            <button\r\n              onClick={() => window.open('/pwa-debug.html', '_blank')}\r\n              className=\"w-full bg-blue-600 hover:bg-blue-500 px-3 py-2 rounded text-xs\"\r\n            >\r\n               Open Debug Page\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  )\r\n} ","import * as React from 'react'\r\n\r\nexport interface Toast {\r\n  id: string\r\n  title?: string\r\n  description?: string\r\n  variant?: 'success' | 'error' | 'warning' | 'info'\r\n  duration?: number\r\n}\r\n\r\n// Toast context\r\nexport const ToastContext = React.createContext<{\r\n  toasts: Toast[]\r\n  addToast: (toast: Omit<Toast, 'id'>) => void\r\n  removeToast: (id: string) => void\r\n} | null>(null)\r\n\r\n// Hook to use toast\r\nexport function useToast() {\r\n  const context = React.useContext(ToastContext)\r\n  if (!context) {\r\n    throw new Error('useToast must be used within ToastProvider')\r\n  }\r\n\r\n  return {\r\n    toast: (toast: Omit<Toast, 'id'>) => context.addToast(toast),\r\n    success: (title: string, description?: string) =>\r\n      context.addToast({ title, description, variant: 'success' }),\r\n    error: (title: string, description?: string) =>\r\n      context.addToast({ title, description, variant: 'error' }),\r\n    warning: (title: string, description?: string) =>\r\n      context.addToast({ title, description, variant: 'warning' }),\r\n    info: (title: string, description?: string) =>\r\n      context.addToast({ title, description, variant: 'info' }),\r\n  }\r\n}\r\n","import * as React from 'react'\r\nimport { cn } from '@/shared/utils/cn'\r\nimport { CheckCircle, AlertTriangle, XCircle, Info, X } from 'lucide-react'\r\nimport { ToastContext, type Toast } from '@/shared/hooks/useToast'\r\n\r\nexport function ToastProvider({ children }: { children: React.ReactNode }) {\r\n  const [toasts, setToasts] = React.useState<Toast[]>([])\r\n\r\n  const addToast = React.useCallback((toast: Omit<Toast, 'id'>) => {\r\n    const id = Math.random().toString(36).substr(2, 9)\r\n    const newToast = { ...toast, id }\r\n\r\n    setToasts((prev) => [...prev, newToast])\r\n\r\n    // Auto remove after duration\r\n    setTimeout(() => {\r\n      setToasts((prev) => prev.filter((t) => t.id !== id))\r\n    }, toast.duration || 4000)\r\n  }, [])\r\n\r\n  const removeToast = React.useCallback((id: string) => {\r\n    setToasts((prev) => prev.filter((t) => t.id !== id))\r\n  }, [])\r\n\r\n  return (\r\n    <ToastContext.Provider value={{ toasts, addToast, removeToast }}>\r\n      {children}\r\n      <ToastContainer toasts={toasts} removeToast={removeToast} />\r\n    </ToastContext.Provider>\r\n  )\r\n}\r\n\r\n// Toast container that renders all toasts\r\nfunction ToastContainer({\r\n  toasts,\r\n  removeToast,\r\n}: {\r\n  toasts: Toast[]\r\n  removeToast: (id: string) => void\r\n}) {\r\n  return (\r\n    <div className=\"pointer-events-none fixed right-4 top-4 z-[100] flex flex-col gap-2\">\r\n      {toasts.map((toast) => (\r\n        <ToastComponent\r\n          key={toast.id}\r\n          toast={toast}\r\n          onRemove={() => removeToast(toast.id)}\r\n        />\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\n// Individual toast component\r\nfunction ToastComponent({\r\n  toast,\r\n  onRemove,\r\n}: {\r\n  toast: Toast\r\n  onRemove: () => void\r\n}) {\r\n  const [isVisible, setIsVisible] = React.useState(false)\r\n\r\n  React.useEffect(() => {\r\n    // Animate in\r\n    const timer = setTimeout(() => setIsVisible(true), 50)\r\n    return () => clearTimeout(timer)\r\n  }, [])\r\n\r\n  const handleRemove = () => {\r\n    setIsVisible(false)\r\n    setTimeout(onRemove, 200) // Wait for animation\r\n  }\r\n\r\n  const variants = {\r\n    success: {\r\n      icon: CheckCircle,\r\n      colors: 'bg-gray-900 border-ki-green text-ki-green ki-glow-soft',\r\n      iconColor: 'text-ki-green',\r\n    },\r\n    error: {\r\n      icon: XCircle,\r\n      colors:\r\n        'bg-gray-900 border-red-400 text-red-400 shadow-[0_0_12px_rgba(239,68,68,0.3)]',\r\n      iconColor: 'text-red-400',\r\n    },\r\n    warning: {\r\n      icon: AlertTriangle,\r\n      colors:\r\n        'bg-gray-900 border-yellow-400 text-yellow-400 shadow-[0_0_12px_rgba(251,191,36,0.3)]',\r\n      iconColor: 'text-yellow-400',\r\n    },\r\n    info: {\r\n      icon: Info,\r\n      colors: 'bg-gray-900 border-plasma-cyan text-plasma-cyan cyan-glow',\r\n      iconColor: 'text-plasma-cyan',\r\n    },\r\n  }\r\n\r\n  const config = variants[toast.variant || 'info']\r\n  const Icon = config.icon\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        'pointer-events-auto relative flex w-80 items-start gap-3 rounded-lg border p-4 transition-all duration-200 ease-out',\r\n        config.colors,\r\n        isVisible ? 'translate-x-0 opacity-100' : 'translate-x-full opacity-0'\r\n      )}\r\n    >\r\n      {/* Icon */}\r\n      <Icon className={cn('cyber-icon mt-0.5 h-5 w-5', config.iconColor)} />\r\n\r\n      {/* Content */}\r\n      <div className=\"flex-1 space-y-1\">\r\n        {toast.title && (\r\n          <div className=\"font-inter text-sm font-semibold\">{toast.title}</div>\r\n        )}\r\n        {toast.description && (\r\n          <div className=\"font-mono text-sm opacity-90\">\r\n            {toast.description}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Close button */}\r\n      <button\r\n        onClick={handleRemove}\r\n        className=\"opacity-60 transition-opacity hover:opacity-100\"\r\n      >\r\n        <X className=\"h-4 w-4\" />\r\n      </button>\r\n\r\n      {/* Cyber accent line */}\r\n      <div\r\n        className={cn(\r\n          'absolute bottom-0 left-0 top-0 w-1 rounded-l-lg',\r\n          toast.variant === 'success' && 'bg-ki-green',\r\n          toast.variant === 'error' && 'bg-red-400',\r\n          toast.variant === 'warning' && 'bg-yellow-400',\r\n          toast.variant === 'info' && 'bg-plasma-cyan'\r\n        )}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n","export default function AuthDebugger() {\r\n  // Debug component disabled\r\n  return null\r\n} ","import { Outlet } from 'react-router-dom'\r\nimport NavigationBar from './NavigationBar'\r\nimport GlobalFab from './GlobalFab'\r\nimport OfflineBanner from './components/OfflineBanner'\r\nimport InstallSheet from './components/InstallSheet'\r\nimport ForceInstallButton from './components/ForceInstallButton'\r\nimport { ToastProvider } from '@/shared/ui/toast'\r\nimport AuthDebugger from '@/modules/auth/components/AuthDebugger'\r\n// import UpdateBanner from './components/UpdateBanner' // Temporarily disabled to fix infinite loop\r\n\r\nexport default function AppLayout() {\r\n  return (\r\n    <ToastProvider>\r\n      <div className=\"min-h-screen bg-background\">\r\n        {/* Offline Banner */}\r\n        <OfflineBanner />\r\n\r\n        {/* Navigation Bar (includes top user bar and bottom nav) */}\r\n        <NavigationBar />\r\n\r\n        {/* Main Content - Mobile optimized with proper spacing */}\r\n        <main className=\"px-4 sm:px-6 pb-20 sm:pb-24 pt-16 sm:pt-20 max-w-7xl mx-auto\">\r\n          <div className=\"min-h-[calc(100vh-10rem)] sm:min-h-[calc(100vh-12rem)]\">\r\n            <Outlet />\r\n          </div>\r\n        </main>\r\n\r\n        {/* Global FAB - Mobile optimized positioning */}\r\n        <GlobalFab />\r\n\r\n        {/* Install Prompt */}\r\n        <InstallSheet />\r\n\r\n        {/* Update Banner - Temporarily disabled */}\r\n        {/* <UpdateBanner /> */}\r\n\r\n        {/* Debug Components - Only in development */}\r\n        {import.meta.env.DEV && (\r\n          <>\r\n            <ForceInstallButton />\r\n            <AuthDebugger />\r\n          </>\r\n        )}\r\n      </div>\r\n    </ToastProvider>\r\n  )\r\n}\r\n","import { create } from 'zustand'\r\nimport { WeightEntry, WeightGoal, WeightGoalInput } from './types'\r\nimport { hybridWeightRepo, hybridWeightGoalRepo, initializeWeightDatabase } from './repo'\r\nimport { useAuthStore } from '@/modules/auth'\r\nimport { debug, error as logError } from '@/shared/utils/logging'\r\n\r\ninterface WeightState {\r\n  weights: WeightEntry[]\r\n  activeGoal: WeightGoal | null\r\n  isLoading: boolean\r\n  isGoalLoading: boolean\r\n  error: string | null\r\n  goalError: string | null\r\n\r\n  // Weight actions\r\n  addWeight: (entry: Omit<WeightEntry, 'id'>) => Promise<void>\r\n  updateWeight: (id: string, updates: Partial<Omit<WeightEntry, 'id'>>) => Promise<void>\r\n  deleteWeight: (id: string) => Promise<void>\r\n  loadWeights: () => Promise<void>\r\n  refreshWeights: () => Promise<void>\r\n  clearWeights: () => Promise<void>\r\n  syncData: () => Promise<{ synced: number; errors: number }>\r\n\r\n  // Goal actions\r\n  setGoal: (goal: WeightGoalInput) => Promise<void>\r\n  updateGoal: (id: string, goal: Partial<WeightGoalInput>) => Promise<void>\r\n  loadActiveGoal: () => Promise<void>\r\n  deactivateGoal: (id: string) => Promise<void>\r\n}\r\n\r\nexport const useWeightStore = create<WeightState>((set) => ({\r\n  weights: [],\r\n  activeGoal: null,\r\n  isLoading: false,\r\n  isGoalLoading: false,\r\n  error: null,\r\n  goalError: null,\r\n\r\n  addWeight: async (entry) => {\r\n    try {\r\n      set({ isLoading: true, error: null })\r\n\r\n      // Get current user for Supabase operations\r\n      const user = useAuthStore.getState().user\r\n      const userId = user?.id\r\n\r\n      const newEntry = await hybridWeightRepo.addWeight(entry, userId)\r\n\r\n      set((state) => {\r\n        // Check if we're updating an existing entry or adding a new one\r\n        const existingIndex = state.weights.findIndex(w => w.dateISO === newEntry.dateISO)\r\n        \r\n        let updatedWeights\r\n        if (existingIndex >= 0) {\r\n          // Update existing entry\r\n          updatedWeights = [...state.weights]\r\n          updatedWeights[existingIndex] = newEntry\r\n        } else {\r\n          // Add new entry\r\n          updatedWeights = [newEntry, ...state.weights]\r\n        }\r\n\r\n        return {\r\n          weights: updatedWeights.sort(\r\n            (a, b) =>\r\n              new Date(b.dateISO).getTime() - new Date(a.dateISO).getTime()\r\n          ),\r\n          isLoading: false,\r\n        }\r\n      })\r\n\r\n      // Mark that weight was logged today (for notification logic)\r\n      const today = new Date().toISOString().split('T')[0]\r\n      if (newEntry.dateISO === today) {\r\n        localStorage.setItem(`weight-logged-${today}`, 'true')\r\n      }\r\n\r\n      debug('Weight saved successfully:', { \r\n        local: true, \r\n        cloud: !!userId,\r\n        entry: newEntry \r\n      })\r\n    } catch (error) {\r\n      logError('Failed to save weight:', error)\r\n      set({\r\n        error: error instanceof Error ? error.message : 'Failed to add weight',\r\n        isLoading: false,\r\n      })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  updateWeight: async (id, updates) => {\r\n    try {\r\n      set({ isLoading: true, error: null })\r\n\r\n      const user = useAuthStore.getState().user\r\n      const userId = user?.id\r\n\r\n      const updatedEntry = await hybridWeightRepo.updateWeight(id, updates, userId)\r\n\r\n      set((state) => ({\r\n        weights: state.weights.map((w) => w.id === id ? updatedEntry : w).sort(\r\n          (a, b) =>\r\n            new Date(b.dateISO).getTime() - new Date(a.dateISO).getTime()\r\n        ),\r\n        isLoading: false,\r\n      }))\r\n\r\n      debug('Weight updated successfully:', { \r\n        id, \r\n        updates, \r\n        cloud: !!userId,\r\n        entry: updatedEntry \r\n      })\r\n    } catch (error) {\r\n      logError('Failed to update weight:', error)\r\n      \r\n      // Provide more specific error handling\r\n      let errorMessage = 'Failed to update weight'\r\n      if (error instanceof Error) {\r\n        if (error.message.includes('Weight entry not found')) {\r\n          errorMessage = 'Weight entry not found. It may have been deleted or is out of sync.'\r\n        } else if (error.message.includes('not found in cloud storage')) {\r\n          errorMessage = 'Entry updated locally but failed to sync to cloud.'\r\n        } else {\r\n          errorMessage = error.message\r\n        }\r\n      }\r\n      \r\n      set({\r\n        error: errorMessage,\r\n        isLoading: false,\r\n      })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  deleteWeight: async (id) => {\r\n    try {\r\n      set({ isLoading: true, error: null })\r\n\r\n      const user = useAuthStore.getState().user\r\n      const userId = user?.id\r\n\r\n      await hybridWeightRepo.deleteWeight(id, userId)\r\n\r\n      set((state) => ({\r\n        weights: state.weights.filter((w) => w.id !== id),\r\n        isLoading: false,\r\n      }))\r\n\r\n      console.log(' Weight deleted successfully:', { id, cloud: !!userId })\r\n    } catch (error) {\r\n      console.error(' Failed to delete weight:', error)\r\n      set({\r\n        error: error instanceof Error ? error.message : 'Failed to delete weight',\r\n        isLoading: false,\r\n      })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  loadWeights: async () => {\r\n    try {\r\n      set({ isLoading: true, error: null })\r\n\r\n      const user = useAuthStore.getState().user\r\n      const userId = user?.id\r\n\r\n      // Initialize database for this user\r\n      if (userId) {\r\n        initializeWeightDatabase(userId)\r\n        \r\n        // Sync data to ensure local and cloud are in sync\r\n        try {\r\n          const syncResult = await hybridWeightRepo.syncData(userId)\r\n          if (syncResult.synced > 0) {\r\n            console.info(` Synced ${syncResult.synced} weight entries during load`)\r\n          }\r\n        } catch (syncError) {\r\n          console.warn(' Data sync failed during load, continuing with available data:', syncError)\r\n        }\r\n      }\r\n\r\n      const weights = await hybridWeightRepo.getAllWeights(userId)\r\n\r\n      set({\r\n        weights: weights.sort(\r\n          (a, b) =>\r\n            new Date(b.dateISO).getTime() - new Date(a.dateISO).getTime()\r\n        ),\r\n        isLoading: false,\r\n      })\r\n\r\n      console.log(' Weights loaded successfully:', { \r\n        count: weights.length, \r\n        cloud: !!userId \r\n      })\r\n    } catch (error) {\r\n      console.error(' Failed to load weights:', error)\r\n      set({\r\n        error: error instanceof Error ? error.message : 'Failed to load weights',\r\n        isLoading: false,\r\n      })\r\n    }\r\n  },\r\n\r\n  clearWeights: async () => {\r\n    try {\r\n      set({ isLoading: true, error: null })\r\n\r\n      const user = useAuthStore.getState().user\r\n      const userId = user?.id\r\n\r\n      await hybridWeightRepo.clearAll(userId)\r\n\r\n      set({\r\n        weights: [],\r\n        isLoading: false,\r\n      })\r\n\r\n      console.log(' Weights cleared successfully')\r\n    } catch (error) {\r\n      console.error(' Failed to clear weights:', error)\r\n      set({\r\n        error: error instanceof Error ? error.message : 'Failed to clear weights',\r\n        isLoading: false,\r\n      })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  refreshWeights: async () => {\r\n    try {\r\n      set({ isLoading: true, error: null })\r\n\r\n      const user = useAuthStore.getState().user\r\n      const userId = user?.id\r\n\r\n      // Force reload from source of truth (Supabase if available, otherwise local)\r\n      const weights = await hybridWeightRepo.getAllWeights(userId)\r\n\r\n      set({\r\n        weights: weights.sort(\r\n          (a, b) =>\r\n            new Date(b.dateISO).getTime() - new Date(a.dateISO).getTime()\r\n        ),\r\n        isLoading: false,\r\n      })\r\n\r\n      console.log(' Weights refreshed successfully:', { \r\n        count: weights.length, \r\n        cloud: !!userId \r\n      })\r\n    } catch (error) {\r\n      console.error(' Failed to refresh weights:', error)\r\n      set({\r\n        error: error instanceof Error ? error.message : 'Failed to refresh weights',\r\n        isLoading: false,\r\n      })\r\n    }\r\n  },\r\n\r\n  syncData: async () => {\r\n    const user = useAuthStore.getState().user\r\n    const userId = user?.id\r\n\r\n    const result = await hybridWeightRepo.syncData(userId)\r\n    \r\n    // If data was synced, reload the weights to reflect changes\r\n    if (result.synced > 0) {\r\n      const weights = await hybridWeightRepo.getAllWeights(userId)\r\n      set(() => ({\r\n        weights: weights.sort(\r\n          (a, b) =>\r\n            new Date(b.dateISO).getTime() - new Date(a.dateISO).getTime()\r\n        ),\r\n      }))\r\n    }\r\n    \r\n    return result\r\n  },\r\n\r\n  // Goal management actions\r\n  setGoal: async (goal) => {\r\n    try {\r\n      set({ isGoalLoading: true, goalError: null })\r\n\r\n      const user = useAuthStore.getState().user\r\n      const userId = user?.id\r\n\r\n      const newGoal = await hybridWeightGoalRepo.addGoal(goal, userId)\r\n\r\n      set({\r\n        activeGoal: newGoal,\r\n        isGoalLoading: false,\r\n      })\r\n\r\n      console.log(' Goal set successfully:', { \r\n        goal: newGoal, \r\n        cloud: !!userId \r\n      })\r\n    } catch (error) {\r\n      console.error(' Failed to set goal:', error)\r\n      set({\r\n        goalError: error instanceof Error ? error.message : 'Failed to set goal',\r\n        isGoalLoading: false,\r\n      })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  updateGoal: async (id, goal) => {\r\n    try {\r\n      set({ isGoalLoading: true, goalError: null })\r\n\r\n      const user = useAuthStore.getState().user\r\n      const userId = user?.id\r\n\r\n      const updatedGoal = await hybridWeightGoalRepo.updateGoal(id, goal, userId)\r\n\r\n      set({\r\n        activeGoal: updatedGoal,\r\n        isGoalLoading: false,\r\n      })\r\n\r\n      console.log(' Goal updated successfully:', { \r\n        goal: updatedGoal, \r\n        cloud: !!userId \r\n      })\r\n    } catch (error) {\r\n      console.error(' Failed to update goal:', error)\r\n      set({\r\n        goalError: error instanceof Error ? error.message : 'Failed to update goal',\r\n        isGoalLoading: false,\r\n      })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  loadActiveGoal: async () => {\r\n    try {\r\n      set({ isGoalLoading: true, goalError: null })\r\n\r\n      const user = useAuthStore.getState().user\r\n      const userId = user?.id\r\n\r\n      const activeGoal = await hybridWeightGoalRepo.getActiveGoal(userId)\r\n\r\n      set({\r\n        activeGoal,\r\n        isGoalLoading: false,\r\n      })\r\n\r\n      console.log(' Active goal loaded:', { \r\n        hasGoal: !!activeGoal, \r\n        cloud: !!userId \r\n      })\r\n    } catch (error) {\r\n      console.error(' Failed to load active goal:', error)\r\n      set({\r\n        goalError: error instanceof Error ? error.message : 'Failed to load goal',\r\n        isGoalLoading: false,\r\n      })\r\n    }\r\n  },\r\n\r\n  deactivateGoal: async (id) => {\r\n    try {\r\n      set({ isGoalLoading: true, goalError: null })\r\n\r\n      const user = useAuthStore.getState().user\r\n      const userId = user?.id\r\n\r\n      await hybridWeightGoalRepo.deactivateGoal(id, userId)\r\n\r\n      set({\r\n        activeGoal: null,\r\n        isGoalLoading: false,\r\n      })\r\n\r\n      console.log(' Goal deactivated successfully:', { id, cloud: !!userId })\r\n    } catch (error) {\r\n      console.error(' Failed to deactivate goal:', error)\r\n      set({\r\n        goalError: error instanceof Error ? error.message : 'Failed to deactivate goal',\r\n        isGoalLoading: false,\r\n      })\r\n      throw error\r\n    }\r\n  },\r\n}))\r\n\r\n// Initialize store hydration\r\nexport const initializeWeightStore = async () => {\r\n  await useWeightStore.getState().loadWeights()\r\n  await useWeightStore.getState().loadActiveGoal()\r\n}\r\n","import { create } from 'zustand'\r\nimport { MealEntry, MealEntryInput, DietAnalytics, MealSuggestions, MealType } from '../types'\r\n\r\ninterface MealState {\r\n  // Data\r\n  meals: MealEntry[]\r\n  analytics: DietAnalytics | null\r\n  suggestions: MealSuggestions | null\r\n  \r\n  // Loading states\r\n  isLoading: boolean\r\n  isAnalyticsLoading: boolean\r\n  isSuggestionsLoading: boolean\r\n  \r\n  // Error states\r\n  error: string | null\r\n  \r\n  // Actions\r\n  loadMeals: () => Promise<void>\r\n  addMeal: (meal: MealEntryInput) => Promise<void>\r\n  updateMeal: (id: string, meal: Partial<MealEntryInput>) => Promise<void>\r\n  deleteMeal: (id: string) => Promise<void>\r\n  loadAnalytics: () => Promise<void>\r\n  loadSuggestions: () => Promise<void>\r\n  clearError: () => void\r\n}\r\n\r\nexport const useMealStore = create<MealState>((set, get) => ({\r\n  // Initial state\r\n  meals: [],\r\n  analytics: null,\r\n  suggestions: null,\r\n  isLoading: false,\r\n  isAnalyticsLoading: false,\r\n  isSuggestionsLoading: false,\r\n  error: null,\r\n\r\n  // Actions\r\n  loadMeals: async () => {\r\n    set({ isLoading: true, error: null })\r\n    try {\r\n      // TODO: Implement meal repository\r\n      // const meals = await mealRepo.getAll()\r\n      // set({ meals, isLoading: false })\r\n      \r\n      // Temporary mock data for development\r\n      set({ \r\n        meals: [], \r\n        isLoading: false \r\n      })\r\n    } catch (error) {\r\n      set({ \r\n        error: error instanceof Error ? error.message : 'Failed to load meals',\r\n        isLoading: false \r\n      })\r\n    }\r\n  },\r\n\r\n  addMeal: async (mealInput: MealEntryInput) => {\r\n    set({ isLoading: true, error: null })\r\n    try {\r\n      // TODO: Implement meal repository\r\n      // const newMeal = await mealRepo.create(mealInput)\r\n      // const currentMeals = get().meals\r\n      // set({ meals: [newMeal, ...currentMeals], isLoading: false })\r\n      \r\n      // Temporary mock implementation\r\n      const newMeal: MealEntry = {\r\n        id: crypto.randomUUID(),\r\n        userId: undefined,\r\n        type: mealInput.type,\r\n        timestamp: mealInput.timestamp || new Date().toISOString(),\r\n        foods: mealInput.foods.map(food => ({\r\n          ...food,\r\n          id: crypto.randomUUID()\r\n        })),\r\n        photos: mealInput.photos,\r\n        notes: mealInput.notes,\r\n        location: mealInput.location,\r\n        nutrition: {\r\n          calories: mealInput.foods.reduce((sum, food) => sum + food.calories, 0),\r\n          protein: mealInput.foods.reduce((sum, food) => sum + food.macros.protein, 0),\r\n          carbs: mealInput.foods.reduce((sum, food) => sum + food.macros.carbs, 0),\r\n          fat: mealInput.foods.reduce((sum, food) => sum + food.macros.fat, 0),\r\n          fiber: mealInput.foods.reduce((sum, food) => sum + food.macros.fiber, 0),\r\n        },\r\n        context: mealInput.context ? {\r\n          location: mealInput.context.location,\r\n          voiceNotes: mealInput.context.voiceNotes,\r\n          tags: mealInput.context.tags || [],\r\n          mood: mealInput.context.mood,\r\n          hunger: mealInput.context.hunger,\r\n          satisfaction: mealInput.context.satisfaction,\r\n        } : undefined,\r\n        createdAt: new Date().toISOString(),\r\n        updatedAt: new Date().toISOString(),\r\n      }\r\n      \r\n      const currentMeals = get().meals\r\n      set({ meals: [newMeal, ...currentMeals], isLoading: false })\r\n    } catch (error) {\r\n      set({ \r\n        error: error instanceof Error ? error.message : 'Failed to add meal',\r\n        isLoading: false \r\n      })\r\n    }\r\n  },\r\n\r\n  updateMeal: async (id: string, mealUpdate: Partial<MealEntryInput>) => {\r\n    set({ isLoading: true, error: null })\r\n    try {\r\n      // TODO: Implement meal repository\r\n      // const updatedMeal = await mealRepo.update(id, mealUpdate)\r\n      // const currentMeals = get().meals\r\n      // const updatedMeals = currentMeals.map(meal => \r\n      //   meal.id === id ? updatedMeal : meal\r\n      // )\r\n      // set({ meals: updatedMeals, isLoading: false })\r\n      \r\n      // Temporary mock implementation\r\n      const currentMeals = get().meals\r\n      const updatedMeals = currentMeals.map(meal => {\r\n        if (meal.id === id) {\r\n          const updatedMeal: MealEntry = {\r\n            ...meal,\r\n            type: mealUpdate.type || meal.type,\r\n            timestamp: mealUpdate.timestamp || meal.timestamp,\r\n            foods: mealUpdate.foods ? mealUpdate.foods.map(food => ({\r\n              ...food,\r\n              id: crypto.randomUUID()\r\n            })) : meal.foods,\r\n            photos: mealUpdate.photos !== undefined ? mealUpdate.photos : meal.photos,\r\n            notes: mealUpdate.notes !== undefined ? mealUpdate.notes : meal.notes,\r\n            location: mealUpdate.location !== undefined ? mealUpdate.location : meal.location,\r\n            nutrition: mealUpdate.foods ? {\r\n              calories: mealUpdate.foods.reduce((sum, food) => sum + food.calories, 0),\r\n              protein: mealUpdate.foods.reduce((sum, food) => sum + food.macros.protein, 0),\r\n              carbs: mealUpdate.foods.reduce((sum, food) => sum + food.macros.carbs, 0),\r\n              fat: mealUpdate.foods.reduce((sum, food) => sum + food.macros.fat, 0),\r\n              fiber: mealUpdate.foods.reduce((sum, food) => sum + food.macros.fiber, 0),\r\n            } : meal.nutrition,\r\n            context: mealUpdate.context ? {\r\n              location: mealUpdate.context.location,\r\n              voiceNotes: mealUpdate.context.voiceNotes,\r\n              tags: mealUpdate.context.tags || [],\r\n              mood: mealUpdate.context.mood,\r\n              hunger: mealUpdate.context.hunger,\r\n              satisfaction: mealUpdate.context.satisfaction,\r\n            } : meal.context,\r\n            updatedAt: new Date().toISOString(),\r\n          }\r\n          return updatedMeal\r\n        }\r\n        return meal\r\n      })\r\n      set({ meals: updatedMeals, isLoading: false })\r\n    } catch (error) {\r\n      set({ \r\n        error: error instanceof Error ? error.message : 'Failed to update meal',\r\n        isLoading: false \r\n      })\r\n    }\r\n  },\r\n\r\n  deleteMeal: async (id: string) => {\r\n    set({ isLoading: true, error: null })\r\n    try {\r\n      // TODO: Implement meal repository\r\n      // await mealRepo.delete(id)\r\n      // const currentMeals = get().meals\r\n      // const filteredMeals = currentMeals.filter(meal => meal.id !== id)\r\n      // set({ meals: filteredMeals, isLoading: false })\r\n      \r\n      // Temporary mock implementation\r\n      const currentMeals = get().meals\r\n      const filteredMeals = currentMeals.filter(meal => meal.id !== id)\r\n      set({ meals: filteredMeals, isLoading: false })\r\n    } catch (error) {\r\n      set({ \r\n        error: error instanceof Error ? error.message : 'Failed to delete meal',\r\n        isLoading: false \r\n      })\r\n    }\r\n  },\r\n\r\n  loadAnalytics: async () => {\r\n    set({ isAnalyticsLoading: true, error: null })\r\n    try {\r\n      // TODO: Implement analytics calculation\r\n      const meals = get().meals\r\n      \r\n      // Calculate basic analytics\r\n      const totalMeals = meals.length\r\n      const totalCalories = meals.reduce((sum, meal) => sum + meal.nutrition.calories, 0)\r\n      const averageCalories = totalMeals > 0 ? totalCalories / totalMeals : 0\r\n      \r\n      // Weekly and monthly calculations (simplified)\r\n      const now = new Date()\r\n      const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000)\r\n      const monthAgo = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000)\r\n      \r\n      const weeklyMeals = meals.filter(meal => new Date(meal.timestamp) >= weekAgo)\r\n      const monthlyMeals = meals.filter(meal => new Date(meal.timestamp) >= monthAgo)\r\n      \r\n      const weeklyCalories = weeklyMeals.reduce((sum, meal) => sum + meal.nutrition.calories, 0)\r\n      const monthlyCalories = monthlyMeals.reduce((sum, meal) => sum + meal.nutrition.calories, 0)\r\n      \r\n      // Macro balance calculation\r\n      const totalProtein = meals.reduce((sum, meal) => sum + meal.nutrition.protein, 0)\r\n      const totalCarbs = meals.reduce((sum, meal) => sum + meal.nutrition.carbs, 0)\r\n      const totalFat = meals.reduce((sum, meal) => sum + meal.nutrition.fat, 0)\r\n      const totalMacros = totalProtein + totalCarbs + totalFat\r\n      \r\n      const macroBalance = totalMacros > 0 ? {\r\n        protein: (totalProtein / totalMacros) * 100,\r\n        carbs: (totalCarbs / totalMacros) * 100,\r\n        fat: (totalFat / totalMacros) * 100,\r\n      } : { protein: 0, carbs: 0, fat: 0 }\r\n      \r\n      // Meal frequency\r\n      const mealFrequency = meals.reduce((freq, meal) => {\r\n        freq[meal.type] = (freq[meal.type] || 0) + 1\r\n        return freq\r\n      }, {} as Record<string, number>)\r\n      \r\n      // Calculate streak (simplified)\r\n      const streak = 0 // TODO: Implement proper streak calculation\r\n      \r\n      const analytics: DietAnalytics = {\r\n        totalMeals,\r\n        averageCalories,\r\n        weeklyCalories,\r\n        monthlyCalories,\r\n        macroBalance,\r\n        mealFrequency: mealFrequency as Record<MealType, number>,\r\n        streak,\r\n      }\r\n      \r\n      set({ analytics, isAnalyticsLoading: false })\r\n    } catch (error) {\r\n      set({ \r\n        error: error instanceof Error ? error.message : 'Failed to load analytics',\r\n        isAnalyticsLoading: false \r\n      })\r\n    }\r\n  },\r\n\r\n  loadSuggestions: async () => {\r\n    set({ isSuggestionsLoading: true, error: null })\r\n    try {\r\n      // TODO: Implement smart suggestions\r\n      const suggestions: MealSuggestions = {\r\n        byTimeOfDay: {\r\n          '07:00': ['oatmeal', 'coffee', 'eggs'],\r\n          '12:00': ['sandwich', 'salad', 'soup'],\r\n          '18:00': ['chicken', 'rice', 'vegetables'],\r\n          '21:00': ['yogurt', 'fruit', 'nuts'],\r\n        },\r\n        recentFoods: [],\r\n        popularFoods: [],\r\n        customFoods: [],\r\n      }\r\n      \r\n      set({ suggestions, isSuggestionsLoading: false })\r\n    } catch (error) {\r\n      set({ \r\n        error: error instanceof Error ? error.message : 'Failed to load suggestions',\r\n        isSuggestionsLoading: false \r\n      })\r\n    }\r\n  },\r\n\r\n  clearError: () => {\r\n    set({ error: null })\r\n  },\r\n})) ","import { useWeightStore } from '../store'\r\nimport { useToast } from '@/shared/hooks/useToast'\r\nimport { WeightEntry } from '../types'\r\n\r\nexport function useWeightActions() {\r\n  const { \r\n    addWeight: addWeightStore, \r\n    updateWeight: updateWeightStore, \r\n    deleteWeight: deleteWeightStore,\r\n    refreshWeights: refreshWeightsStore \r\n  } = useWeightStore()\r\n  const { success, error } = useToast()\r\n\r\n  const addWeight = async (entry: Omit<WeightEntry, 'id'>) => {\r\n    try {\r\n      await addWeightStore(entry)\r\n      const weightLbs = (entry.kg * 2.20462).toFixed(1)\r\n      const dateStr = new Date(entry.dateISO).toLocaleDateString()\r\n      success(\r\n        'Weight Logged',\r\n        `${weightLbs}lbs recorded for ${dateStr}`\r\n      )\r\n    } catch (err) {\r\n      error(\r\n        'Failed to Log Weight',\r\n        'Please check your connection and try again'\r\n      )\r\n    }\r\n  }\r\n\r\n  const deleteWeight = async (id: string, weight?: number, date?: string) => {\r\n    try {\r\n      await deleteWeightStore(id)\r\n      success(\r\n        'Weight Deleted',\r\n        weight && date\r\n          ? `${weight}kg entry for ${new Date(date).toLocaleDateString()} removed`\r\n          : 'Weight entry removed successfully'\r\n      )\r\n    } catch (err) {\r\n      error(\r\n        'Failed to Delete',\r\n        'Unable to delete weight entry. Please try again.'\r\n      )\r\n    }\r\n  }\r\n\r\n  const updateWeight = async (id: string, updates: Partial<Omit<WeightEntry, 'id'>>) => {\r\n    try {\r\n      await updateWeightStore(id, updates)\r\n      const weightLbs = updates.kg ? (updates.kg * 2.20462).toFixed(1) : null\r\n      const dateStr = updates.dateISO ? new Date(updates.dateISO).toLocaleDateString() : null\r\n      \r\n      let message = 'Entry updated successfully'\r\n      if (weightLbs && dateStr) {\r\n        message = `Updated to ${weightLbs}lbs for ${dateStr}`\r\n      } else if (weightLbs) {\r\n        message = `Weight updated to ${weightLbs}lbs`\r\n      } else if (dateStr) {\r\n        message = `Date updated to ${dateStr}`\r\n      }\r\n      \r\n      success('Weight Updated', message)\r\n    } catch (err) {\r\n      console.error('Update weight error:', err)\r\n      const errorMessage = err instanceof Error ? err.message : 'Unknown error occurred'\r\n      \r\n      if (errorMessage.includes('not found')) {\r\n        error(\r\n          'Entry Not Found',\r\n          'This weight entry may have been deleted or is out of sync. Refreshing data...'\r\n        )\r\n        // Automatically refresh data to resolve sync issues\r\n        try {\r\n          await refreshWeightsStore()\r\n        } catch (refreshError) {\r\n          console.warn('Failed to refresh after sync error:', refreshError)\r\n        }\r\n      } else if (errorMessage.includes('cloud storage')) {\r\n        error(\r\n          'Sync Issue',\r\n          'Entry updated locally but failed to sync to cloud. It will sync when connection is restored.'\r\n        )\r\n      } else {\r\n        error(\r\n          'Failed to Update Weight',\r\n          'Please check your connection and try again'\r\n        )\r\n      }\r\n    }\r\n  }\r\n\r\n  const refreshWeights = async () => {\r\n    try {\r\n      await refreshWeightsStore()\r\n      success(\r\n        'Data Refreshed',\r\n        'Weight data has been synchronized successfully'\r\n      )\r\n    } catch (err) {\r\n      error(\r\n        'Refresh Failed',\r\n        'Unable to refresh weight data. Please try again.'\r\n      )\r\n    }\r\n  }\r\n\r\n  return {\r\n    addWeight,\r\n    updateWeight,\r\n    deleteWeight,\r\n    refreshWeights,\r\n  }\r\n}\r\n","import { cn } from '@/shared/utils/cn'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\nimport * as React from 'react'\r\n\r\nconst badgeVariants = cva(\r\n  'inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2',\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          'border-transparent bg-primary text-primary-foreground hover:bg-primary/80',\r\n        secondary:\r\n          'border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80',\r\n        destructive:\r\n          'border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80',\r\n        outline: 'text-foreground border-current',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n    },\r\n  }\r\n)\r\n\r\nexport interface BadgeProps\r\n  extends React.HTMLAttributes<HTMLDivElement>,\r\n    VariantProps<typeof badgeVariants> {}\r\n\r\nfunction Badge({ className, variant, ...props }: BadgeProps) {\r\n  return (\r\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\r\n  )\r\n}\r\n\r\nexport { Badge }\r\n","export interface WeightEntry {\n  id: string // UUID v4\n  dateISO: string // ISO date string (YYYY-MM-DD)\n  kg: number // Weight in kilograms (stored as kg for consistency, but displayed as lbs)\n  weight: number // Alias for kg to support both property names\n}\n\nexport interface WeightGoal {\n  id: string // UUID v4\n  userId?: string // User ID for Supabase\n  targetWeight: number // Target weight in kg (stored as kg, displayed as lbs)\n  goalType: 'lose' | 'gain' | 'maintain'\n  targetDate?: string // ISO date string (YYYY-MM-DD)\n  startingWeight?: number // Starting weight in kg (stored as kg, displayed as lbs)\n  isActive: boolean\n  createdAt: string // ISO timestamp\n  updatedAt: string // ISO timestamp\n}\n\nexport interface WeightGoalInput {\n  targetWeight: number // Input in lbs, converted to kg for storage\n  goalType: 'lose' | 'gain' | 'maintain'\n  targetDate?: string\n  startingWeight?: number // Input in lbs, converted to kg for storage\n}\n\n// Utility functions for weight conversion\nexport const kgToLbs = (kg: number): number => kg * 2.20462\nexport const lbsToKg = (lbs: number): number => lbs / 2.20462\n\n// === WEIGHT MANAGEMENT AGENT TYPES ===\n\nexport interface WeightTrendAnalysis {\n  trend: 'losing' | 'gaining' | 'maintaining' | 'fluctuating'\n  rate: number // kg per week\n  confidence: number // 0-1\n  totalChange: number\n  streakDays: number\n  volatility: number // Added for enhanced analytics\n}\n\nexport interface WeightStatistics {\n  mean: number\n  median: number\n  standardDeviation: number\n  variance: number\n  minWeight: number\n  maxWeight: number\n  range: number\n  quartiles: { q1: number, q3: number } // Added for enhanced analytics\n  outliers: WeightEntry[] // Added for outlier detection\n}\n\nexport interface WeightPlateau {\n  startDate: string\n  endDate: string\n  duration: number // days\n  averageWeight: number\n  variance: number\n}\n\nexport interface GoalRecommendation {\n  type: 'lose' | 'gain' | 'maintain'\n  targetWeight: number\n  targetDate: string\n  feasibility: 'high' | 'medium' | 'low'\n  ratePerWeek: number\n  reasoning: string\n  healthRisk: 'low' | 'medium' | 'high'\n  confidence: number\n}\n\nexport interface WeightMilestone {\n  weight: number\n  targetDate: string\n  description: string\n  progress: number // 0-100\n  achieved: boolean\n}\n\nexport interface ProgressPrediction {\n  predictedWeight: number\n  date: string\n  confidence: number\n  upperBound: number\n  lowerBound: number\n  methodology: 'linear' | 'seasonal' | 'adaptive'\n}\n\nexport interface WeightCoaching {\n  message: string\n  type: 'encouragement' | 'concern' | 'milestone' | 'adjustment'\n  priority: 'low' | 'medium' | 'high'\n  actionItems: string[]\n  nextCheckIn: string\n}\n\nexport interface WeightInsight {\n  id: string\n  type: 'trend' | 'goal' | 'prediction' | 'recommendation'\n  title: string\n  description: string\n  importance: 'low' | 'medium' | 'high'\n  generatedAt: string\n  data: any\n}\n","import { useEffect, useRef, useState } from 'react'\r\n\r\nexport interface TouchFeedbackOptions {\r\n  haptic?: boolean\r\n  scale?: number\r\n  duration?: number\r\n  disabled?: boolean\r\n}\r\n\r\nexport interface SwipeGestureOptions {\r\n  threshold?: number\r\n  onSwipeLeft?: () => void\r\n  onSwipeRight?: () => void\r\n  onSwipeUp?: () => void\r\n  onSwipeDown?: () => void\r\n}\r\n\r\n/**\r\n * Hook for enhanced mobile touch interactions\r\n */\r\nexport function useMobileInteractions() {\r\n  const [isMobile, setIsMobile] = useState(false)\r\n  const [isTouch, setIsTouch] = useState(false)\r\n\r\n  useEffect(() => {\r\n    // Detect mobile device\r\n    const checkMobile = () => {\r\n      const mobile = window.matchMedia('(max-width: 768px)').matches\r\n      const touch = 'ontouchstart' in window || navigator.maxTouchPoints > 0\r\n      setIsMobile(mobile)\r\n      setIsTouch(touch)\r\n    }\r\n\r\n    checkMobile()\r\n    window.addEventListener('resize', checkMobile)\r\n    return () => window.removeEventListener('resize', checkMobile)\r\n  }, [])\r\n\r\n  return { isMobile, isTouch }\r\n}\r\n\r\n/**\r\n * Hook for touch feedback on interactive elements\r\n */\r\nexport function useTouchFeedback<T extends HTMLElement = HTMLElement>(options: TouchFeedbackOptions = {}) {\r\n  const {\r\n    haptic = true,\r\n    scale = 0.98,\r\n    duration = 100,\r\n    disabled = false\r\n  } = options\r\n\r\n  const elementRef = useRef<T>(null)\r\n  const [isPressed, setIsPressed] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const element = elementRef.current\r\n    if (!element || disabled) return\r\n\r\n    const handleTouchStart = () => {\r\n      setIsPressed(true)\r\n      \r\n      // Haptic feedback (if supported)\r\n      if (haptic && 'vibrate' in navigator) {\r\n        navigator.vibrate(10)\r\n      }\r\n\r\n      // Scale animation\r\n      element.style.transform = `scale(${scale})`\r\n      element.style.transition = `transform ${duration}ms ease`\r\n    }\r\n\r\n    const handleTouchEnd = () => {\r\n      setIsPressed(false)\r\n      element.style.transform = 'scale(1)'\r\n      \r\n      // Reset after animation\r\n      setTimeout(() => {\r\n        element.style.transition = ''\r\n      }, duration)\r\n    }\r\n\r\n    const handleTouchCancel = () => {\r\n      setIsPressed(false)\r\n      element.style.transform = 'scale(1)'\r\n      element.style.transition = ''\r\n    }\r\n\r\n    element.addEventListener('touchstart', handleTouchStart, { passive: true })\r\n    element.addEventListener('touchend', handleTouchEnd, { passive: true })\r\n    element.addEventListener('touchcancel', handleTouchCancel, { passive: true })\r\n\r\n    // Also handle mouse events for desktop testing\r\n    element.addEventListener('mousedown', handleTouchStart)\r\n    element.addEventListener('mouseup', handleTouchEnd)\r\n    element.addEventListener('mouseleave', handleTouchCancel)\r\n\r\n    return () => {\r\n      element.removeEventListener('touchstart', handleTouchStart)\r\n      element.removeEventListener('touchend', handleTouchEnd)\r\n      element.removeEventListener('touchcancel', handleTouchCancel)\r\n      element.removeEventListener('mousedown', handleTouchStart)\r\n      element.removeEventListener('mouseup', handleTouchEnd)\r\n      element.removeEventListener('mouseleave', handleTouchCancel)\r\n    }\r\n  }, [scale, duration, haptic, disabled])\r\n\r\n  return { elementRef, isPressed }\r\n}\r\n\r\n/**\r\n * Hook for swipe gesture detection\r\n */\r\nexport function useSwipeGesture(options: SwipeGestureOptions = {}) {\r\n  const {\r\n    threshold = 50,\r\n    onSwipeLeft,\r\n    onSwipeRight,\r\n    onSwipeUp,\r\n    onSwipeDown\r\n  } = options\r\n\r\n  const elementRef = useRef<HTMLElement>(null)\r\n  const touchStartRef = useRef<{ x: number; y: number } | null>(null)\r\n\r\n  useEffect(() => {\r\n    const element = elementRef.current\r\n    if (!element) return\r\n\r\n    const handleTouchStart = (e: TouchEvent) => {\r\n      const touch = e.touches[0]\r\n      touchStartRef.current = {\r\n        x: touch.clientX,\r\n        y: touch.clientY\r\n      }\r\n    }\r\n\r\n    const handleTouchEnd = (e: TouchEvent) => {\r\n      if (!touchStartRef.current) return\r\n\r\n      const touch = e.changedTouches[0]\r\n      const deltaX = touch.clientX - touchStartRef.current.x\r\n      const deltaY = touch.clientY - touchStartRef.current.y\r\n\r\n      const absDeltaX = Math.abs(deltaX)\r\n      const absDeltaY = Math.abs(deltaY)\r\n\r\n      // Determine swipe direction\r\n      if (Math.max(absDeltaX, absDeltaY) > threshold) {\r\n        if (absDeltaX > absDeltaY) {\r\n          // Horizontal swipe\r\n          if (deltaX > 0) {\r\n            onSwipeRight?.()\r\n          } else {\r\n            onSwipeLeft?.()\r\n          }\r\n        } else {\r\n          // Vertical swipe\r\n          if (deltaY > 0) {\r\n            onSwipeDown?.()\r\n          } else {\r\n            onSwipeUp?.()\r\n          }\r\n        }\r\n      }\r\n\r\n      touchStartRef.current = null\r\n    }\r\n\r\n    const handleTouchCancel = () => {\r\n      touchStartRef.current = null\r\n    }\r\n\r\n    element.addEventListener('touchstart', handleTouchStart, { passive: true })\r\n    element.addEventListener('touchend', handleTouchEnd, { passive: true })\r\n    element.addEventListener('touchcancel', handleTouchCancel, { passive: true })\r\n\r\n    return () => {\r\n      element.removeEventListener('touchstart', handleTouchStart)\r\n      element.removeEventListener('touchend', handleTouchEnd)\r\n      element.removeEventListener('touchcancel', handleTouchCancel)\r\n    }\r\n  }, [threshold, onSwipeLeft, onSwipeRight, onSwipeUp, onSwipeDown])\r\n\r\n  return { elementRef }\r\n}\r\n\r\n/**\r\n * Hook for responsive breakpoint detection\r\n */\r\nexport function useResponsiveBreakpoint() {\r\n  const [breakpoint, setBreakpoint] = useState<'mobile' | 'tablet' | 'desktop'>('desktop')\r\n  const [isGalaxyS24Ultra, setIsGalaxyS24Ultra] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const updateBreakpoint = () => {\r\n      const width = window.innerWidth\r\n      \r\n      if (width <= 412) {\r\n        setBreakpoint('mobile')\r\n        setIsGalaxyS24Ultra(true)\r\n      } else if (width <= 768) {\r\n        setBreakpoint('mobile')\r\n        setIsGalaxyS24Ultra(false)\r\n      } else if (width <= 1024) {\r\n        setBreakpoint('tablet')\r\n        setIsGalaxyS24Ultra(false)\r\n      } else {\r\n        setBreakpoint('desktop')\r\n        setIsGalaxyS24Ultra(false)\r\n      }\r\n    }\r\n\r\n    updateBreakpoint()\r\n    window.addEventListener('resize', updateBreakpoint)\r\n    return () => window.removeEventListener('resize', updateBreakpoint)\r\n  }, [])\r\n\r\n  return { \r\n    breakpoint, \r\n    isGalaxyS24Ultra,\r\n    isMobile: breakpoint === 'mobile',\r\n    isTablet: breakpoint === 'tablet',\r\n    isDesktop: breakpoint === 'desktop'\r\n  }\r\n}\r\n\r\n/**\r\n * Hook for safe area insets (notch support)\r\n */\r\nexport function useSafeAreaInsets() {\r\n  const [insets, setInsets] = useState({\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    left: 0\r\n  })\r\n\r\n  useEffect(() => {\r\n    const updateInsets = () => {\r\n      const computedStyle = getComputedStyle(document.documentElement)\r\n      \r\n      setInsets({\r\n        top: parseInt(computedStyle.getPropertyValue('env(safe-area-inset-top)') || '0'),\r\n        right: parseInt(computedStyle.getPropertyValue('env(safe-area-inset-right)') || '0'),\r\n        bottom: parseInt(computedStyle.getPropertyValue('env(safe-area-inset-bottom)') || '0'),\r\n        left: parseInt(computedStyle.getPropertyValue('env(safe-area-inset-left)') || '0')\r\n      })\r\n    }\r\n\r\n    updateInsets()\r\n    window.addEventListener('resize', updateInsets)\r\n    window.addEventListener('orientationchange', updateInsets)\r\n    \r\n    return () => {\r\n      window.removeEventListener('resize', updateInsets)\r\n      window.removeEventListener('orientationchange', updateInsets)\r\n    }\r\n  }, [])\r\n\r\n  return insets\r\n} ","import React, { useState } from 'react'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/shared/ui/card'\r\nimport { Button } from '@/shared/ui/button'\r\nimport { Input } from '@/shared/ui/input'\r\nimport { Label } from '@/shared/ui/label'\r\nimport { Scale, Plus, Calendar, Target, TrendingUp } from 'lucide-react'\r\nimport { useWeightActions } from '../hooks/useWeightActions'\r\nimport { useWeightStore } from '../store'\r\nimport { Badge } from '@/shared/ui/badge'\r\nimport { lbsToKg } from '../types'\r\nimport { useTouchFeedback, useResponsiveBreakpoint } from '@/shared/hooks/useMobileInteractions'\r\n\r\nexport function WeightEntryForm() {\r\n  const [date, setDate] = useState(() => {\r\n    const today = new Date()\r\n    return today.toISOString().split('T')[0]\r\n  })\r\n  const [weight, setWeight] = useState('')\r\n  const [errors, setErrors] = useState<{ date?: string; weight?: string }>({})\r\n  const [isExpanded, setIsExpanded] = useState(false)\r\n\r\n  const { isLoading } = useWeightStore()\r\n  const { addWeight } = useWeightActions()\r\n  \r\n  // Mobile interactions\r\n  const { isMobile } = useResponsiveBreakpoint()\r\n  const submitButtonFeedback = useTouchFeedback<HTMLButtonElement>({ \r\n    scale: 0.95, \r\n    haptic: true,\r\n    disabled: isLoading || !weight.trim()\r\n  })\r\n  const expandButtonFeedback = useTouchFeedback<HTMLButtonElement>({ scale: 0.9 })\r\n\r\n  const validateForm = () => {\r\n    const newErrors: { date?: string; weight?: string } = {}\r\n\r\n    if (!date) {\r\n      newErrors.date = 'Date is required'\r\n    }\r\n\r\n    const weightNum = parseFloat(weight)\r\n    if (!weight) {\r\n      newErrors.weight = 'Weight is required'\r\n    } else if (isNaN(weightNum) || weightNum <= 0) {\r\n      newErrors.weight = 'Weight must be a positive number'\r\n    } else if (weightNum >= 2200) {\r\n      newErrors.weight = 'Weight must be less than 2200 lbs'\r\n    }\r\n\r\n    setErrors(newErrors)\r\n    return Object.keys(newErrors).length === 0\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n\r\n    if (!validateForm()) {\r\n      return\r\n    }\r\n\r\n    try {\r\n      await addWeight({\r\n        dateISO: date,\r\n        kg: lbsToKg(parseFloat(weight)), // Convert lbs to kg for storage\r\n      })\r\n\r\n      // Reset form\r\n      setDate(new Date().toISOString().split('T')[0])\r\n      setWeight('')\r\n      setErrors({})\r\n      setIsExpanded(false)\r\n    } catch (error) {\r\n      console.error('Failed to add weight:', error)\r\n    }\r\n  }\r\n\r\n  const handleKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter' && weight.trim()) {\r\n      handleSubmit(e as React.FormEvent)\r\n    }\r\n  }\r\n\r\n  const todayISO = new Date().toISOString().split('T')[0]\r\n  const isToday = date === todayISO\r\n\r\n  return (\r\n    <Card className=\"cyber-card mobile-card mobile-responsive\">\r\n      <CardHeader className=\"mobile-layout\">\r\n        <CardTitle className=\"cyber-subtitle flex items-center gap-2 text-ki-green mobile-heading\">\r\n          <Scale className=\"cyber-icon h-5 w-5\" />\r\n          Log Weight Entry\r\n        </CardTitle>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-4 mobile-form\" role=\"form\" data-testid=\"weight-entry-form\">\r\n        {/* Quick entry row - always visible */}\r\n        <div className=\"flex gap-2 mobile-button-group\">\r\n          <Input\r\n            id=\"weight-quick\"\r\n            type=\"number\"\r\n            step=\"0.1\"\r\n            min=\"0\"\r\n            max=\"2199.9\"\r\n            placeholder=\"Enter weight (lbs)\"\r\n            value={weight}\r\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\r\n              setWeight(e.target.value)\r\n            }\r\n            onKeyPress={handleKeyPress}\r\n            className={`\r\n              flex-1 font-mono touch-target mobile-body\r\n              focus:border-ki-green focus:ring-ki-green/20 border-gray-600 bg-gray-900 text-white\r\n              ${errors.weight ? 'border-red-500' : ''}\r\n            `}\r\n            disabled={isLoading}\r\n            aria-label=\"Weight in pounds\"\r\n          />\r\n          <Button\r\n            ref={expandButtonFeedback.elementRef}\r\n            onClick={() => setIsExpanded(!isExpanded)}\r\n            variant=\"outline\"\r\n            size=\"icon\"\r\n            className={`touch-target border-gray-600 bg-transparent text-gray-300 hover:bg-gray-800 ${isExpanded ? 'bg-gray-800' : ''} ${isMobile ? 'galaxy-s24-ultra-touch' : ''}`}\r\n            title=\"Date options\"\r\n            aria-label=\"Date options\"\r\n          >\r\n            <Calendar className=\"h-4 w-4\" />\r\n          </Button>\r\n          <Button\r\n            ref={submitButtonFeedback.elementRef}\r\n            onClick={handleSubmit}\r\n            variant=\"cyber-ki\"\r\n            disabled={isLoading || !weight.trim()}\r\n            className={`touch-target-comfortable ${isMobile ? 'galaxy-s24-ultra-touch' : ''}`}\r\n            aria-label=\"Add weight entry\"\r\n          >\r\n            <Plus className=\"mr-2 h-4 w-4\" />\r\n            {isLoading ? 'LOGGING...' : 'LOG'}\r\n          </Button>\r\n        </div>\r\n\r\n        {/* Error display */}\r\n        {errors.weight && (\r\n          <p className=\"font-mono text-sm text-red-400\">{errors.weight}</p>\r\n        )}\r\n\r\n        {/* Date selection - expandable */}\r\n        {isExpanded && (\r\n          <div className=\"space-y-3 border-t border-gray-700 pt-4 mobile-layout\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"date\" className=\"cyber-label text-gray-300 mobile-body\">\r\n                Entry Date\r\n              </Label>\r\n              <Input\r\n                id=\"date\"\r\n                type=\"date\"\r\n                value={date}\r\n                onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\r\n                  setDate(e.target.value)\r\n                }\r\n                className={`\r\n                  touch-target mobile-body\r\n                  focus:border-ki-green focus:ring-ki-green/20 border-gray-600\r\n                  bg-gray-900 text-white\r\n                  ${errors.date ? 'border-red-500' : ''}\r\n                `}\r\n                aria-label=\"Entry date\"\r\n              />\r\n              {errors.date && (\r\n                <p className=\"font-mono text-sm text-red-400 mobile-small\">{errors.date}</p>\r\n              )}\r\n            </div>\r\n\r\n            {/* Quick date buttons */}\r\n            <div className=\"flex flex-wrap gap-2 mobile-button-group\">\r\n              <Button\r\n                type=\"button\"\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={() => setDate(todayISO)}\r\n                className={`touch-target border-gray-600 bg-transparent text-gray-300 hover:bg-gray-800 ${isToday ? 'bg-gray-800 text-ki-green' : ''}`}\r\n                aria-label=\"Set date to today\"\r\n              >\r\n                Today\r\n              </Button>\r\n              <Button\r\n                type=\"button\"\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={() => {\r\n                  const yesterday = new Date()\r\n                  yesterday.setDate(yesterday.getDate() - 1)\r\n                  setDate(yesterday.toISOString().split('T')[0])\r\n                }}\r\n                className=\"touch-target border-gray-600 bg-transparent text-gray-300 hover:bg-gray-800\"\r\n                aria-label=\"Set date to yesterday\"\r\n              >\r\n                Yesterday\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Weight preview with context */}\r\n        {weight.trim() && (\r\n          <div className=\"cyber-card rounded-lg bg-gray-900/50 p-3\">\r\n            <div className=\"flex items-center justify-between text-sm\">\r\n              <span className=\"font-medium text-gray-300\">Entry Preview:</span>\r\n              <div className=\"flex items-center gap-2\">\r\n                <Badge variant=\"outline\" className=\"font-mono text-xs\">\r\n                  {parseFloat(weight).toFixed(1)}lbs\r\n                </Badge>\r\n                <Badge variant=\"outline\" className=\"text-xs\">\r\n                  <Calendar className=\"mr-1 h-3 w-3\" />\r\n                  {new Date(date).toLocaleDateString()}\r\n                </Badge>\r\n                {isToday && (\r\n                  <Badge variant=\"outline\" className=\"text-ki-green text-xs\">\r\n                    Today\r\n                  </Badge>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Additional tips */}\r\n        <div className=\"flex items-center justify-between text-xs text-gray-500\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <Target className=\"h-3 w-3\" />\r\n            <span>Press Enter to log quickly</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <TrendingUp className=\"h-3 w-3\" />\r\n            <span>Consistent tracking = better results</span>\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n} ","import * as React from 'react'\r\nimport { cn } from '@/shared/utils/cn'\r\n\r\ninterface ProgressProps extends React.HTMLAttributes<HTMLDivElement> {\r\n  value?: number\r\n  max?: number\r\n  variant?: 'default' | 'cyber' | 'ring'\r\n  size?: 'sm' | 'md' | 'lg'\r\n}\r\n\r\nconst Progress = React.forwardRef<HTMLDivElement, ProgressProps>(\r\n  (\r\n    {\r\n      className,\r\n      value = 0,\r\n      max = 100,\r\n      variant = 'default',\r\n      size = 'md',\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    const percentage = Math.min(Math.max((value / max) * 100, 0), 100)\r\n\r\n    const sizeClasses = {\r\n      sm: 'h-1',\r\n      md: 'h-2',\r\n      lg: 'h-3',\r\n    }\r\n\r\n    if (variant === 'ring') {\r\n      const radius = size === 'lg' ? 40 : size === 'md' ? 32 : 24\r\n      const strokeWidth = size === 'lg' ? 6 : size === 'md' ? 4 : 3\r\n      const circumference = 2 * Math.PI * radius\r\n      const strokeDashoffset =\r\n        circumference - (percentage / 100) * circumference\r\n      const svgSize = (radius + strokeWidth) * 2\r\n\r\n      return (\r\n        <div className={cn('relative', className)} ref={ref} {...props}>\r\n          <svg\r\n            width={svgSize}\r\n            height={svgSize}\r\n            className=\"-rotate-90 transform\"\r\n          >\r\n            {/* Background ring */}\r\n            <circle\r\n              cx={svgSize / 2}\r\n              cy={svgSize / 2}\r\n              r={radius}\r\n              stroke=\"rgb(51, 65, 85)\"\r\n              strokeWidth={strokeWidth}\r\n              fill=\"transparent\"\r\n            />\r\n            {/* Progress ring with gradient */}\r\n            <defs>\r\n              <linearGradient\r\n                id=\"progressGradient\"\r\n                x1=\"0%\"\r\n                y1=\"0%\"\r\n                x2=\"100%\"\r\n                y2=\"0%\"\r\n              >\r\n                <stop offset=\"0%\" stopColor=\"var(--ki-green)\" />\r\n                <stop offset=\"100%\" stopColor=\"var(--plasma-cyan)\" />\r\n              </linearGradient>\r\n            </defs>\r\n            <circle\r\n              cx={svgSize / 2}\r\n              cy={svgSize / 2}\r\n              r={radius}\r\n              stroke=\"url(#progressGradient)\"\r\n              strokeWidth={strokeWidth}\r\n              fill=\"transparent\"\r\n              strokeDasharray={circumference}\r\n              strokeDashoffset={strokeDashoffset}\r\n              strokeLinecap=\"round\"\r\n              className=\"transition-all duration-500\"\r\n              style={{\r\n                filter: 'drop-shadow(0 0 8px rgba(34, 255, 183, 0.3))',\r\n              }}\r\n            />\r\n          </svg>\r\n          {/* Center content slot */}\r\n          <div className=\"absolute inset-0 flex items-center justify-center\">\r\n            <div className=\"text-center\">\r\n              <div className=\"gradient-text-ki font-cyber text-xl font-bold\">\r\n                {Math.round(percentage)}%\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    if (variant === 'cyber') {\r\n      return (\r\n        <div\r\n          className={cn(\r\n            'relative w-full overflow-hidden rounded-lg border border-gray-700 bg-gray-900',\r\n            sizeClasses[size],\r\n            className\r\n          )}\r\n          ref={ref}\r\n          {...props}\r\n        >\r\n          <div\r\n            className=\"relative h-full transition-all duration-500 ease-out\"\r\n            style={{\r\n              width: `${percentage}%`,\r\n              background:\r\n                'linear-gradient(90deg, var(--ki-green), var(--plasma-cyan))',\r\n              boxShadow: '0 0 12px rgba(34, 255, 183, 0.3)',\r\n            }}\r\n          >\r\n            {/* Shimmer overlay */}\r\n            <div className=\"shimmer absolute inset-0 opacity-50\"></div>\r\n          </div>\r\n          {/* Glow overlay */}\r\n          <div\r\n            className=\"via-ki-green/10 absolute inset-0 bg-gradient-to-r from-transparent to-transparent\"\r\n            style={{\r\n              transform: `translateX(${percentage - 100}%)`,\r\n              transition: 'transform 500ms ease-out',\r\n            }}\r\n          ></div>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <div\r\n        className={cn(\r\n          'relative w-full overflow-hidden rounded-full bg-secondary',\r\n          sizeClasses[size],\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      >\r\n        <div\r\n          className=\"h-full w-full flex-1 bg-primary transition-all duration-300\"\r\n          style={{ transform: `translateX(-${100 - percentage}%)` }}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n)\r\nProgress.displayName = 'Progress'\r\n\r\nexport { Progress }\r\n","import React, { useState } from 'react'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/shared/ui/card'\r\nimport { Button } from '@/shared/ui/button'\r\nimport { Input } from '@/shared/ui/input'\r\nimport { Label } from '@/shared/ui/label'\r\nimport { Scale, Save, X, Calendar } from 'lucide-react'\r\nimport { useWeightActions } from '../hooks/useWeightActions'\r\nimport { useWeightStore } from '../store'\r\nimport { Badge } from '@/shared/ui/badge'\r\nimport { WeightEntry, kgToLbs, lbsToKg } from '../types'\r\n\r\ninterface WeightEditFormProps {\r\n  entry: WeightEntry\r\n  onCancel: () => void\r\n  onSave?: () => void\r\n}\r\n\r\nexport function WeightEditForm({ entry, onCancel, onSave }: WeightEditFormProps) {\r\n  const [date, setDate] = useState(entry.dateISO)\r\n  const [weight, setWeight] = useState(kgToLbs(entry.kg).toFixed(1))\r\n  const [errors, setErrors] = useState<{ date?: string; weight?: string }>({})\r\n\r\n  const { isLoading } = useWeightStore()\r\n  const { updateWeight } = useWeightActions()\r\n\r\n  const validateForm = () => {\r\n    const newErrors: { date?: string; weight?: string } = {}\r\n\r\n    if (!date) {\r\n      newErrors.date = 'Date is required'\r\n    }\r\n\r\n    const weightNum = parseFloat(weight)\r\n    if (!weight) {\r\n      newErrors.weight = 'Weight is required'\r\n    } else if (isNaN(weightNum) || weightNum <= 0) {\r\n      newErrors.weight = 'Weight must be a positive number'\r\n    } else if (weightNum >= 2200) {\r\n      newErrors.weight = 'Weight must be less than 2200 lbs'\r\n    }\r\n\r\n    setErrors(newErrors)\r\n    return Object.keys(newErrors).length === 0\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n\r\n    if (!validateForm()) {\r\n      return\r\n    }\r\n\r\n    try {\r\n      const updates: Partial<Omit<WeightEntry, 'id'>> = {}\r\n      \r\n      // Only update fields that have changed\r\n      if (date !== entry.dateISO) {\r\n        updates.dateISO = date\r\n      }\r\n      \r\n      const newKg = lbsToKg(parseFloat(weight))\r\n      if (Math.abs(newKg - entry.kg) > 0.01) { // Account for floating point precision\r\n        updates.kg = newKg\r\n      }\r\n\r\n      // Only update if there are actual changes\r\n      if (Object.keys(updates).length > 0) {\r\n        await updateWeight(entry.id, updates)\r\n      }\r\n\r\n      onSave?.()\r\n    } catch (error) {\r\n      console.error('Failed to update weight:', error)\r\n    }\r\n  }\r\n\r\n  const handleKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter') {\r\n      handleSubmit(e as React.FormEvent)\r\n    } else if (e.key === 'Escape') {\r\n      onCancel()\r\n    }\r\n  }\r\n\r\n  const hasChanges = () => {\r\n    const newKg = lbsToKg(parseFloat(weight || '0'))\r\n    return date !== entry.dateISO || Math.abs(newKg - entry.kg) > 0.01\r\n  }\r\n\r\n  return (\r\n    <Card className=\"cyber-card border-ki-green/50 mobile-card mobile-responsive\">\r\n      <CardHeader className=\"pb-3 mobile-layout\">\r\n        <CardTitle className=\"cyber-subtitle flex items-center gap-2 text-ki-green text-sm mobile-heading\">\r\n          <Scale className=\"cyber-icon h-4 w-4\" />\r\n          Edit Weight Entry\r\n        </CardTitle>\r\n      </CardHeader>\r\n      \r\n      <CardContent className=\"space-y-4 mobile-form\" data-testid=\"weight-edit-form\">\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          {/* Date input */}\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"edit-date\" className=\"cyber-label text-gray-300 text-xs mobile-small\">\r\n              Entry Date\r\n            </Label>\r\n            <Input\r\n              id=\"edit-date\"\r\n              type=\"date\"\r\n              value={date}\r\n              onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\r\n                setDate(e.target.value)\r\n              }\r\n              onKeyPress={handleKeyPress}\r\n              className={`\r\n                touch-target mobile-body\r\n                focus:border-ki-green focus:ring-ki-green/20 border-gray-600\r\n                bg-gray-900 text-white text-sm\r\n                ${errors.date ? 'border-red-500' : ''}\r\n              `}\r\n              disabled={isLoading}\r\n              aria-label=\"Entry date\"\r\n            />\r\n            {errors.date && (\r\n              <p className=\"font-mono text-xs text-red-400 mobile-small\">{errors.date}</p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Weight input */}\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"edit-weight\" className=\"cyber-label text-gray-300 text-xs mobile-small\">\r\n              Weight (lbs)\r\n            </Label>\r\n            <Input\r\n              id=\"edit-weight\"\r\n              type=\"number\"\r\n              step=\"0.1\"\r\n              min=\"0\"\r\n              max=\"2199.9\"\r\n              placeholder=\"Enter weight (lbs)\"\r\n              value={weight}\r\n              onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\r\n                setWeight(e.target.value)\r\n              }\r\n              onKeyPress={handleKeyPress}\r\n              className={`\r\n                font-mono touch-target mobile-body\r\n                focus:border-ki-green focus:ring-ki-green/20 border-gray-600 \r\n                bg-gray-900 text-white text-sm\r\n                ${errors.weight ? 'border-red-500' : ''}\r\n              `}\r\n              disabled={isLoading}\r\n              autoFocus\r\n              aria-label=\"Weight in pounds\"\r\n            />\r\n            {errors.weight && (\r\n              <p className=\"font-mono text-xs text-red-400 mobile-small\">{errors.weight}</p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Preview */}\r\n          {weight && (\r\n            <div className=\"cyber-card rounded-lg bg-gray-900/50 p-2\">\r\n              <div className=\"flex items-center justify-between text-xs\">\r\n                <span className=\"font-medium text-gray-400\">Preview:</span>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Badge variant=\"outline\" className=\"font-mono text-xs\">\r\n                    {parseFloat(weight).toFixed(1)}lbs\r\n                  </Badge>\r\n                  <Badge variant=\"outline\" className=\"text-xs\">\r\n                    <Calendar className=\"mr-1 h-3 w-3\" />\r\n                    {new Date(date).toLocaleDateString()}\r\n                  </Badge>\r\n                  {hasChanges() && (\r\n                    <Badge variant=\"outline\" className=\"text-ki-green text-xs\">\r\n                      Modified\r\n                    </Badge>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Action buttons */}\r\n          <div className=\"flex gap-2 pt-2 mobile-button-group\">\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              onClick={onCancel}\r\n              className=\"flex-1 touch-target border-gray-600 bg-transparent text-gray-300 hover:bg-gray-800 text-sm\"\r\n              disabled={isLoading}\r\n              aria-label=\"Cancel editing\"\r\n            >\r\n              <X className=\"mr-1 h-3 w-3\" />\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              variant=\"cyber-ki\"\r\n              className=\"flex-1 touch-target text-sm\"\r\n              disabled={isLoading || !hasChanges()}\r\n              aria-label=\"Save changes\"\r\n            >\r\n              <Save className=\"mr-1 h-3 w-3\" />\r\n              {isLoading ? 'SAVING...' : 'SAVE'}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n\r\n        {/* Help text */}\r\n        <div className=\"text-xs text-gray-500 text-center\">\r\n          Press Enter to save  Escape to cancel\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n} ","import { useState } from 'react'\r\nimport { useSwipeable } from 'react-swipeable'\r\nimport { Card, CardContent } from '@/shared/ui/card'\r\nimport { Button } from '@/shared/ui/button'\r\nimport { Edit, Trash2 } from 'lucide-react'\r\n\r\nimport { WeightEntry, kgToLbs } from '../types'\r\nimport { useWeightActions } from '../hooks/useWeightActions'\r\nimport { WeightEditForm } from './WeightEditForm'\r\n\r\ninterface WeightRowProps {\r\n  entry: WeightEntry\r\n}\r\n\r\nexport function WeightRow({ entry }: WeightRowProps) {\r\n  const [longPressTimer, setLongPressTimer] = useState<NodeJS.Timeout | null>(\r\n    null\r\n  )\r\n  const [isPressed, setIsPressed] = useState(false)\r\n  const [isEditing, setIsEditing] = useState(false)\r\n  const [showActions, setShowActions] = useState(false)\r\n  const { deleteWeight } = useWeightActions()\r\n\r\n  const formatDate = (dateISO: string) => {\r\n    const date = new Date(dateISO)\r\n    return date.toLocaleDateString('en-US', {\r\n      weekday: 'short',\r\n      month: 'short',\r\n      day: 'numeric',\r\n      year: 'numeric',\r\n    })\r\n  }\r\n\r\n  const formatWeight = (kg: number) => {\r\n    return `${kgToLbs(kg).toFixed(1)} lbs`\r\n  }\r\n\r\n  const handleDelete = () => {\r\n    const confirmed = window.confirm(\r\n      `Delete weight entry for ${formatDate(entry.dateISO)}?`\r\n    )\r\n    if (confirmed) {\r\n      deleteWeight(entry.id, entry.kg, entry.dateISO)\r\n    }\r\n  }\r\n\r\n  const handleLongPress = () => {\r\n    setShowActions(true)\r\n  }\r\n\r\n  const handleEdit = () => {\r\n    setIsEditing(true)\r\n    setShowActions(false)\r\n  }\r\n\r\n  const handleCancelEdit = () => {\r\n    setIsEditing(false)\r\n  }\r\n\r\n  const handleSaveEdit = () => {\r\n    setIsEditing(false)\r\n  }\r\n\r\n  const handleTouchStart = () => {\r\n    setIsPressed(true)\r\n    const timer = setTimeout(() => {\r\n      handleLongPress()\r\n    }, 500) // 500ms long press\r\n    setLongPressTimer(timer)\r\n  }\r\n\r\n  const handleTouchEnd = () => {\r\n    setIsPressed(false)\r\n    if (longPressTimer) {\r\n      clearTimeout(longPressTimer)\r\n      setLongPressTimer(null)\r\n    }\r\n  }\r\n\r\n  const swipeHandlers = useSwipeable({\r\n    onSwipedLeft: () => {\r\n      handleLongPress()\r\n    },\r\n    preventScrollOnSwipe: true,\r\n    trackMouse: true,\r\n  })\r\n\r\n  // Show edit form if editing\r\n  if (isEditing) {\r\n    return (\r\n      <WeightEditForm\r\n        entry={entry}\r\n        onCancel={handleCancelEdit}\r\n        onSave={handleSaveEdit}\r\n      />\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Card\r\n      {...swipeHandlers}\r\n      className={`\r\n        cyber-card cursor-pointer py-3 transition-all duration-200\r\n        ${isPressed ? 'scale-95 shadow-inner' : 'hover:scale-[1.01]'}\r\n        ${showActions ? 'border-ki-green/50' : ''}\r\n      `}\r\n      onTouchStart={handleTouchStart}\r\n      onTouchEnd={handleTouchEnd}\r\n      onMouseDown={handleTouchStart}\r\n      onMouseUp={handleTouchEnd}\r\n      onMouseLeave={handleTouchEnd}\r\n      onClick={() => !showActions && setShowActions(true)}\r\n    >\r\n      <CardContent className=\"px-4 py-3\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex flex-col\">\r\n            <span className=\"font-mono text-sm text-gray-400\">\r\n              {formatDate(entry.dateISO)}\r\n            </span>\r\n            <span className=\"gradient-text-ki metric-display text-lg font-semibold\">\r\n              {formatWeight(entry.kg)}\r\n            </span>\r\n          </div>\r\n          \r\n          {showActions ? (\r\n            <div className=\"flex items-center gap-2\">\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation()\r\n                  handleEdit()\r\n                }}\r\n                className=\"border-ki-green/50 bg-transparent text-ki-green hover:bg-ki-green/10 h-8 px-2\"\r\n              >\r\n                <Edit className=\"h-3 w-3\" />\r\n              </Button>\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation()\r\n                  handleDelete()\r\n                }}\r\n                className=\"border-red-500/50 bg-transparent text-red-400 hover:bg-red-500/10 h-8 px-2\"\r\n              >\r\n                <Trash2 className=\"h-3 w-3\" />\r\n              </Button>\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation()\r\n                  setShowActions(false)\r\n                }}\r\n                className=\"text-gray-400 hover:bg-gray-800 h-8 px-2 text-xs\"\r\n              >\r\n                \r\n              </Button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-right font-mono text-xs text-gray-500\">\r\n              <div>Tap to edit</div>\r\n              <div className=\"text-plasma-cyan\"> Swipe left</div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n","// import React from 'react' // Unused import\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/shared/ui/card'\r\nimport { Badge } from '@/shared/ui/badge'\r\nimport { Calendar, TrendingUp, TrendingDown, Minus } from 'lucide-react'\r\nimport { useWeightStore } from '../store'\r\nimport { kgToLbs } from '../types'\r\nimport { WeightRow } from './WeightRow'\r\n\r\ninterface WeightPeriodViewProps {\r\n  period: 7 | 30\r\n  onClose?: () => void\r\n}\r\n\r\nexport function WeightPeriodView({ period, onClose }: WeightPeriodViewProps) {\r\n  const { weights } = useWeightStore()\r\n\r\n  // Filter weights for the specified period\r\n  const getPeriodWeights = () => {\r\n    const daysAgo = new Date()\r\n    daysAgo.setDate(daysAgo.getDate() - period)\r\n    \r\n    return weights\r\n      .filter(w => new Date(w.dateISO) >= daysAgo)\r\n      .sort((a, b) => new Date(b.dateISO).getTime() - new Date(a.dateISO).getTime())\r\n  }\r\n\r\n  const periodWeights = getPeriodWeights()\r\n\r\n  // Calculate period analytics\r\n  const getPeriodAnalytics = () => {\r\n    if (periodWeights.length === 0) return null\r\n\r\n    const sortedByDate = [...periodWeights].sort((a, b) => \r\n      new Date(a.dateISO).getTime() - new Date(b.dateISO).getTime()\r\n    )\r\n\r\n    const firstWeight = sortedByDate[0]\r\n    const lastWeight = sortedByDate[sortedByDate.length - 1]\r\n    const change = lastWeight.kg - firstWeight.kg\r\n    const averageWeight = periodWeights.reduce((sum, w) => sum + w.kg, 0) / periodWeights.length\r\n\r\n    return {\r\n      firstWeight: firstWeight.kg,\r\n      lastWeight: lastWeight.kg,\r\n      change,\r\n      averageWeight,\r\n      entryCount: periodWeights.length,\r\n      firstDate: firstWeight.dateISO,\r\n      lastDate: lastWeight.dateISO\r\n    }\r\n  }\r\n\r\n  const analytics = getPeriodAnalytics()\r\n\r\n  const getTrendIcon = (change: number) => {\r\n    if (Math.abs(change) < 0.1) return <Minus className=\"h-4 w-4 text-plasma-cyan\" />\r\n    return change > 0 \r\n      ? <TrendingUp className=\"h-4 w-4 text-red-400\" />\r\n      : <TrendingDown className=\"h-4 w-4 text-ki-green\" />\r\n  }\r\n\r\n  const getTrendColor = (change: number) => {\r\n    if (Math.abs(change) < 0.1) return 'text-plasma-cyan'\r\n    return change > 0 ? 'text-red-400' : 'text-ki-green'\r\n  }\r\n\r\n  const formatDate = (dateISO: string) => {\r\n    return new Date(dateISO).toLocaleDateString('en-US', {\r\n      month: 'short',\r\n      day: 'numeric',\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Card className=\"cyber-card border-ki-green/30 mobile-card mobile-responsive\" data-testid=\"period-view-container\">\r\n      <CardHeader className=\"pb-3 mobile-layout\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <CardTitle className=\"cyber-subtitle flex items-center gap-2 text-ki-green mobile-heading\">\r\n            <Calendar className=\"cyber-icon h-5 w-5\" />\r\n            Last {period} Days\r\n          </CardTitle>\r\n          {onClose && (\r\n            <button\r\n              onClick={onClose}\r\n              className=\"text-gray-400 hover:text-gray-200 text-lg font-bold touch-target\"\r\n              aria-label=\"Close period view\"\r\n            >\r\n              \r\n            </button>\r\n          )}\r\n        </div>\r\n      </CardHeader>\r\n      \r\n      <CardContent className=\"space-y-4 mobile-form\">\r\n        {/* Period Summary */}\r\n        {analytics && (\r\n          <div className=\"cyber-card bg-gray-900/50 p-3 rounded-lg mobile-card\">\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-center mobile-grid\">\r\n              <div className=\"mobile-card\">\r\n                <div className=\"gradient-text-ki metric-display text-lg font-bold mobile-large\">\r\n                  {analytics.entryCount}\r\n                </div>\r\n                <div className=\"font-mono text-xs text-gray-400 mobile-caption\">Entries</div>\r\n              </div>\r\n              <div className=\"mobile-card\">\r\n                <div className=\"gradient-text-cyan metric-display text-lg font-bold mobile-large\">\r\n                  {kgToLbs(analytics.averageWeight).toFixed(1)}lbs\r\n                </div>\r\n                <div className=\"font-mono text-xs text-gray-400 mobile-caption\">Average</div>\r\n              </div>\r\n              <div className=\"mobile-card\">\r\n                <div className={`metric-display text-lg font-bold mobile-large ${getTrendColor(analytics.change)}`}>\r\n                  {analytics.change >= 0 ? '+' : ''}{kgToLbs(analytics.change).toFixed(1)}lbs\r\n                </div>\r\n                <div className=\"font-mono text-xs text-gray-400 mobile-caption\">Change</div>\r\n              </div>\r\n              <div className=\"mobile-card\">\r\n                <div className=\"flex items-center justify-center\">\r\n                  {getTrendIcon(analytics.change)}\r\n                </div>\r\n                <div className=\"font-mono text-xs text-gray-400 mobile-caption\">Trend</div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Date range */}\r\n            <div className=\"mt-3 pt-3 border-t border-gray-700 flex items-center justify-center gap-2\">\r\n              <Badge variant=\"outline\" className=\"text-xs\">\r\n                {formatDate(analytics.firstDate)}\r\n              </Badge>\r\n              <span className=\"text-gray-500\"></span>\r\n              <Badge variant=\"outline\" className=\"text-xs\">\r\n                {formatDate(analytics.lastDate)}\r\n              </Badge>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Weight Entries */}\r\n        {periodWeights.length > 0 ? (\r\n          <div className=\"space-y-3 mobile-layout\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h4 className=\"text-sm font-medium text-gray-300 mobile-body\">\r\n                Weight Entries ({periodWeights.length})\r\n              </h4>\r\n              <Badge variant=\"outline\" className=\"text-xs mobile-caption\">\r\n                Tap to edit\r\n              </Badge>\r\n            </div>\r\n            \r\n            <div className=\"space-y-2 max-h-80 overflow-y-auto mobile-scroll\" data-testid=\"entries-scroll-container\">\r\n              {periodWeights.map((weight) => (\r\n                <div key={weight.id} data-testid={`weight-entry-${weight.id}`} className=\"mobile-card\">\r\n                  <WeightRow entry={weight} />\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-8\">\r\n            <Calendar className=\"h-12 w-12 text-gray-600 mx-auto mb-3\" />\r\n            <p className=\"text-gray-400 text-sm\">\r\n              No weight entries in the last {period} days\r\n            </p>\r\n            <p className=\"text-gray-500 text-xs mt-1\">\r\n              Add some entries to see them here\r\n            </p>\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n} ","import { useState } from 'react'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/shared/ui/card'\r\nimport { Badge } from '@/shared/ui/badge'\r\nimport { Progress } from '@/shared/ui/progress'\r\n// import { Button } from '@/shared/ui/button' // Unused import\r\nimport { TrendingUp, TrendingDown, Target, Minus, BarChart3 } from 'lucide-react'\r\nimport { useWeightStore } from '../store'\r\nimport { kgToLbs } from '../types'\r\nimport { WeightPeriodView } from './WeightPeriodView'\r\n\r\ninterface WeightAnalyticsProps {\r\n  goalWeight?: number\r\n  goalType?: 'lose' | 'gain' | 'maintain'\r\n}\r\n\r\nexport function WeightAnalytics({ goalWeight, goalType = 'lose' }: WeightAnalyticsProps) {\r\n  const { weights, activeGoal } = useWeightStore()\r\n  const [selectedPeriod, setSelectedPeriod] = useState<7 | 30 | null>(null)\r\n  \r\n  // Use stored goal if available, otherwise fall back to props\r\n  const effectiveGoalWeight = activeGoal?.targetWeight || goalWeight\r\n  const effectiveGoalType = activeGoal?.goalType || goalType\r\n\r\n  // Calculate analytics\r\n  const getAnalytics = () => {\r\n    if (weights.length === 0) return null\r\n\r\n    const sortedWeights = [...weights].sort((a, b) => \r\n      new Date(a.dateISO).getTime() - new Date(b.dateISO).getTime()\r\n    )\r\n\r\n    const currentWeight = sortedWeights[sortedWeights.length - 1]?.kg || 0\r\n    const startWeight = sortedWeights[0]?.kg || 0\r\n    const totalChange = currentWeight - startWeight\r\n\r\n    // Get last 30 days\r\n    const thirtyDaysAgo = new Date()\r\n    thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30)\r\n    \r\n    const recentWeights = weights.filter(w => \r\n      new Date(w.dateISO) >= thirtyDaysAgo\r\n    ).sort((a, b) => new Date(a.dateISO).getTime() - new Date(b.dateISO).getTime())\r\n\r\n    const monthlyChange = recentWeights.length >= 2 \r\n      ? recentWeights[recentWeights.length - 1].kg - recentWeights[0].kg \r\n      : 0\r\n\r\n    // Get last 7 days\r\n    const sevenDaysAgo = new Date()\r\n    sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7)\r\n    \r\n    const weeklyWeights = weights.filter(w => \r\n      new Date(w.dateISO) >= sevenDaysAgo\r\n    ).sort((a, b) => new Date(a.dateISO).getTime() - new Date(b.dateISO).getTime())\r\n\r\n    const weeklyChange = weeklyWeights.length >= 2 \r\n      ? weeklyWeights[weeklyWeights.length - 1].kg - weeklyWeights[0].kg \r\n      : 0\r\n\r\n    // Goal progress\r\n    const goalProgress = effectiveGoalWeight ? {\r\n      remaining: Math.abs(currentWeight - effectiveGoalWeight),\r\n      percentage: effectiveGoalType === 'lose' \r\n        ? Math.max(0, Math.min(100, ((startWeight - currentWeight) / (startWeight - effectiveGoalWeight)) * 100))\r\n        : effectiveGoalType === 'gain'\r\n        ? Math.max(0, Math.min(100, ((currentWeight - startWeight) / (effectiveGoalWeight - startWeight)) * 100))\r\n        : Math.max(0, 100 - Math.abs(currentWeight - effectiveGoalWeight) * 10), // maintain within 1kg = 90%+\r\n      achieved: effectiveGoalType === 'lose' ? currentWeight <= effectiveGoalWeight : \r\n                effectiveGoalType === 'gain' ? currentWeight >= effectiveGoalWeight :\r\n                Math.abs(currentWeight - effectiveGoalWeight) <= 1\r\n    } : null\r\n\r\n    // Streak calculation\r\n    const today = new Date()\r\n    let streak = 0\r\n    for (let i = 0; i < 30; i++) {\r\n      const checkDate = new Date(today)\r\n      checkDate.setDate(checkDate.getDate() - i)\r\n      const dateStr = checkDate.toISOString().split('T')[0]\r\n      \r\n      const hasEntry = weights.some(w => w.dateISO === dateStr)\r\n      if (hasEntry) {\r\n        streak++\r\n      } else {\r\n        break\r\n      }\r\n    }\r\n\r\n    return {\r\n      currentWeight,\r\n      startWeight,\r\n      totalChange,\r\n      monthlyChange,\r\n      weeklyChange,\r\n      goalProgress,\r\n      streak,\r\n      totalEntries: weights.length,\r\n      averageWeight: weights.reduce((sum, w) => sum + w.kg, 0) / weights.length\r\n    }\r\n  }\r\n\r\n  const analytics = getAnalytics()\r\n\r\n  if (!analytics) {\r\n    return (\r\n      <Card className=\"cyber-card\">\r\n        <CardContent className=\"flex flex-col items-center justify-center py-8\">\r\n          <BarChart3 className=\"cyber-icon mb-4 h-12 w-12 text-gray-600\" />\r\n          <p className=\"text-gray-400\">Add weight entries to see analytics</p>\r\n        </CardContent>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  const getTrendIcon = (change: number) => {\r\n    if (Math.abs(change) < 0.1) return <Minus className=\"h-4 w-4 text-plasma-cyan\" />\r\n    return change > 0 \r\n      ? <TrendingUp className=\"h-4 w-4 text-red-400\" />\r\n      : <TrendingDown className=\"h-4 w-4 text-ki-green\" />\r\n  }\r\n\r\n  const getTrendColor = (change: number) => {\r\n    if (Math.abs(change) < 0.1) return 'text-plasma-cyan'\r\n    return change > 0 ? 'text-red-400' : 'text-ki-green'\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4 mobile-responsive\">\r\n      {/* Overview Stats */}\r\n      <Card className=\"cyber-card mobile-card\">\r\n        <CardHeader className=\"pb-3 mobile-layout\">\r\n          <CardTitle className=\"cyber-subtitle flex items-center gap-2 text-ki-green mobile-heading\">\r\n            <BarChart3 className=\"cyber-icon h-5 w-5\" />\r\n            Weight Analytics\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent data-testid=\"analytics-container\" className=\"mobile-stack\">\r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mobile-grid\">\r\n            <div className=\"text-center mobile-card\">\r\n              <div className=\"gradient-text-ki metric-display text-2xl font-bold mobile-large\">\r\n                {kgToLbs(analytics.currentWeight).toFixed(1)}\r\n              </div>\r\n              <div className=\"font-mono text-xs text-gray-400 mobile-caption\">Current (lbs)</div>\r\n            </div>\r\n            <div className=\"text-center mobile-card\">\r\n              <div className={`metric-display text-2xl font-bold mobile-large ${getTrendColor(analytics.totalChange)}`}>\r\n                {analytics.totalChange >= 0 ? '+' : ''}{kgToLbs(analytics.totalChange).toFixed(1)}\r\n              </div>\r\n              <div className=\"font-mono text-xs text-gray-400 mobile-caption\">Total Change</div>\r\n            </div>\r\n            <div className=\"text-center mobile-card\">\r\n              <div className=\"gradient-text-magenta metric-display text-2xl font-bold mobile-large\">\r\n                {analytics.streak}\r\n              </div>\r\n              <div className=\"font-mono text-xs text-gray-400 mobile-caption\">Day Streak</div>\r\n            </div>\r\n            <div className=\"text-center mobile-card\">\r\n              <div className=\"gradient-text-cyan metric-display text-2xl font-bold mobile-large\">\r\n                {analytics.totalEntries}\r\n              </div>\r\n              <div className=\"font-mono text-xs text-gray-400 mobile-caption\">Total Entries</div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Trend indicators - Now clickable */}\r\n          <div className=\"mt-4 grid grid-cols-2 gap-4 mobile-grid\">\r\n            <button\r\n              onClick={() => setSelectedPeriod(selectedPeriod === 7 ? null : 7)}\r\n              className={`cyber-card rounded-lg bg-gray-900/50 p-3 transition-all duration-200 hover:bg-gray-800/50 hover:scale-[1.02] touch-friendly ${\r\n                selectedPeriod === 7 ? 'ring-2 ring-ki-green/50 bg-ki-green/10' : ''\r\n              }`}\r\n              role=\"button\"\r\n              data-testid=\"trend-card-7\"\r\n              aria-label=\"View 7-day weight trend\"\r\n            >\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  {getTrendIcon(analytics.weeklyChange)}\r\n                  <span className=\"font-mono text-sm text-gray-300 mobile-small\">7 Days</span>\r\n                </div>\r\n                <div className={`font-mono text-sm font-semibold mobile-small ${getTrendColor(analytics.weeklyChange)}`}>\r\n                  {analytics.weeklyChange >= 0 ? '+' : ''}{kgToLbs(analytics.weeklyChange).toFixed(1)}lbs\r\n                </div>\r\n              </div>\r\n              <div className=\"mt-1 text-xs text-gray-500 text-center mobile-caption\">\r\n                Click to view entries\r\n              </div>\r\n            </button>\r\n            <button\r\n              onClick={() => setSelectedPeriod(selectedPeriod === 30 ? null : 30)}\r\n              className={`cyber-card rounded-lg bg-gray-900/50 p-3 transition-all duration-200 hover:bg-gray-800/50 hover:scale-[1.02] touch-friendly ${\r\n                selectedPeriod === 30 ? 'ring-2 ring-ki-green/50 bg-ki-green/10' : ''\r\n              }`}\r\n              role=\"button\"\r\n              data-testid=\"trend-card-30\"\r\n              aria-label=\"View 30-day weight trend\"\r\n            >\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  {getTrendIcon(analytics.monthlyChange)}\r\n                  <span className=\"font-mono text-sm text-gray-300 mobile-small\">30 Days</span>\r\n                </div>\r\n                <div className={`font-mono text-sm font-semibold mobile-small ${getTrendColor(analytics.monthlyChange)}`}>\r\n                  {analytics.monthlyChange >= 0 ? '+' : ''}{kgToLbs(analytics.monthlyChange).toFixed(1)}lbs\r\n                </div>\r\n              </div>\r\n              <div className=\"mt-1 text-xs text-gray-500 text-center\">\r\n                Click to view entries\r\n              </div>\r\n            </button>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Goal Progress */}\r\n      {goalWeight && analytics.goalProgress && (\r\n        <Card className=\"cyber-card\">\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"cyber-subtitle flex items-center gap-2 text-hyper-magenta\">\r\n              <Target className=\"cyber-icon h-5 w-5\" />\r\n              Goal Progress\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"space-y-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <div className=\"font-mono text-sm text-gray-300\">\r\n                    Target: {effectiveGoalWeight ? kgToLbs(effectiveGoalWeight).toFixed(1) : 0}lbs ({effectiveGoalType})\r\n                  </div>\r\n                  <div className=\"font-mono text-xs text-gray-500\">\r\n                    {kgToLbs(analytics.goalProgress.remaining).toFixed(1)}lbs remaining\r\n                  </div>\r\n                </div>\r\n                <div className=\"text-right\">\r\n                  <div className=\"gradient-text-magenta metric-display text-lg font-bold\">\r\n                    {analytics.goalProgress.percentage.toFixed(0)}%\r\n                  </div>\r\n                  {analytics.goalProgress.achieved && (\r\n                    <Badge variant=\"outline\" className=\"text-ki-green border-ki-green\">\r\n                       Achieved!\r\n                    </Badge>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <Progress \r\n                value={analytics.goalProgress.percentage} \r\n                className=\"h-2\"\r\n              />\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Period View - Show when a period is selected */}\r\n      {selectedPeriod && (\r\n        <WeightPeriodView \r\n          period={selectedPeriod} \r\n          onClose={() => setSelectedPeriod(null)} \r\n        />\r\n      )}\r\n    </div>\r\n  )\r\n} ","import React, { useState, useEffect } from 'react'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/shared/ui/card'\r\nimport { Button } from '@/shared/ui/button'\r\nimport { Input } from '@/shared/ui/input'\r\nimport { Label } from '@/shared/ui/label'\r\n\r\nimport { Badge } from '@/shared/ui/badge'\r\nimport { Target, Calendar, TrendingDown, TrendingUp, Minus, Edit3, X } from 'lucide-react'\r\nimport { useWeightStore } from '../store'\r\nimport { WeightGoalInput, kgToLbs, lbsToKg } from '../types'\r\n\r\ninterface WeightGoalFormProps {\r\n  onClose?: () => void\r\n}\r\n\r\nexport function WeightGoalForm({ onClose }: WeightGoalFormProps) {\r\n  const { activeGoal, weights, setGoal, updateGoal, deactivateGoal, isGoalLoading } = useWeightStore()\r\n  \r\n  const [isEditing, setIsEditing] = useState(!activeGoal)\r\n  const [formData, setFormData] = useState<WeightGoalInput>({\r\n    targetWeight: activeGoal ? kgToLbs(activeGoal.targetWeight) : 154, // Default 154 lbs (70kg)\r\n    goalType: activeGoal?.goalType || 'lose',\r\n    targetDate: activeGoal?.targetDate || '',\r\n    startingWeight: activeGoal?.startingWeight ? kgToLbs(activeGoal.startingWeight) : (weights[0] ? kgToLbs(weights[0].kg) : 154),\r\n  })\r\n  const [errors, setErrors] = useState<{ [key: string]: string }>({})\r\n\r\n  useEffect(() => {\r\n    if (activeGoal) {\r\n      setFormData({\r\n        targetWeight: kgToLbs(activeGoal.targetWeight),\r\n        goalType: activeGoal.goalType,\r\n        targetDate: activeGoal.targetDate || '',\r\n        startingWeight: activeGoal.startingWeight ? kgToLbs(activeGoal.startingWeight) : (weights[0] ? kgToLbs(weights[0].kg) : 154),\r\n      })\r\n    }\r\n  }, [activeGoal, weights])\r\n\r\n  const validateForm = () => {\r\n    const newErrors: { [key: string]: string } = {}\r\n\r\n    if (!formData.targetWeight || formData.targetWeight <= 0) {\r\n      newErrors.targetWeight = 'Target weight must be greater than 0'\r\n    } else if (formData.targetWeight >= 2200) {\r\n      newErrors.targetWeight = 'Target weight must be less than 2200 lbs'\r\n    }\r\n\r\n    if (formData.startingWeight && formData.startingWeight >= 2200) {\r\n      newErrors.startingWeight = 'Starting weight must be less than 2200 lbs'\r\n    }\r\n\r\n    if (formData.targetDate) {\r\n      const targetDate = new Date(formData.targetDate)\r\n      const today = new Date()\r\n      today.setHours(0, 0, 0, 0)\r\n      \r\n      if (targetDate <= today) {\r\n        newErrors.targetDate = 'Target date must be in the future'\r\n      }\r\n    }\r\n\r\n    setErrors(newErrors)\r\n    return Object.keys(newErrors).length === 0\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n\r\n    if (!validateForm()) {\r\n      return\r\n    }\r\n\r\n    try {\r\n      if (activeGoal && !isEditing) {\r\n        // This shouldn't happen, but just in case\r\n        return\r\n      }\r\n\r\n      // Convert lbs to kg for storage\r\n      const goalData = {\r\n        ...formData,\r\n        targetWeight: lbsToKg(formData.targetWeight),\r\n        startingWeight: formData.startingWeight ? lbsToKg(formData.startingWeight) : undefined,\r\n      }\r\n\r\n      if (activeGoal) {\r\n        // Update existing goal\r\n        await updateGoal(activeGoal.id, goalData)\r\n      } else {\r\n        // Create new goal\r\n        await setGoal(goalData)\r\n      }\r\n\r\n      setIsEditing(false)\r\n      onClose?.()\r\n    } catch (error) {\r\n      console.error('Failed to save goal:', error)\r\n    }\r\n  }\r\n\r\n  const handleDeactivate = async () => {\r\n    if (!activeGoal) return\r\n\r\n    try {\r\n      await deactivateGoal(activeGoal.id)\r\n      setIsEditing(true)\r\n    } catch (error) {\r\n      console.error('Failed to deactivate goal:', error)\r\n    }\r\n  }\r\n\r\n  const getGoalIcon = (type: string) => {\r\n    switch (type) {\r\n      case 'lose':\r\n        return <TrendingDown className=\"h-4 w-4 text-ki-green\" />\r\n      case 'gain':\r\n        return <TrendingUp className=\"h-4 w-4 text-plasma-cyan\" />\r\n      case 'maintain':\r\n        return <Minus className=\"h-4 w-4 text-hyper-magenta\" />\r\n      default:\r\n        return <Target className=\"h-4 w-4\" />\r\n    }\r\n  }\r\n\r\n  const getGoalTypeLabel = (type: string) => {\r\n    switch (type) {\r\n      case 'lose':\r\n        return 'Lose Weight'\r\n      case 'gain':\r\n        return 'Gain Weight'\r\n      case 'maintain':\r\n        return 'Maintain Weight'\r\n      default:\r\n        return type\r\n    }\r\n  }\r\n\r\n  const calculateProgress = () => {\r\n    if (!activeGoal || !weights.length) return null\r\n\r\n    const currentWeight = weights[0].kg\r\n    const startWeight = activeGoal.startingWeight || currentWeight\r\n    const targetWeight = activeGoal.targetWeight\r\n\r\n    const totalChange = Math.abs(targetWeight - startWeight)\r\n    const currentChange = Math.abs(currentWeight - startWeight)\r\n    const progress = totalChange > 0 ? Math.min(100, (currentChange / totalChange) * 100) : 0\r\n\r\n    return {\r\n      progress,\r\n      remaining: Math.abs(currentWeight - targetWeight),\r\n      achieved: activeGoal.goalType === 'lose' \r\n        ? currentWeight <= targetWeight\r\n        : activeGoal.goalType === 'gain'\r\n        ? currentWeight >= targetWeight\r\n        : Math.abs(currentWeight - targetWeight) <= 1\r\n    }\r\n  }\r\n\r\n  const progress = calculateProgress()\r\n\r\n  if (!isEditing && activeGoal) {\r\n    // Display mode\r\n    return (\r\n      <Card className=\"cyber-card\">\r\n        <CardHeader className=\"pb-3\">\r\n          <CardTitle className=\"cyber-subtitle flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-2 text-hyper-magenta\">\r\n              <Target className=\"cyber-icon h-5 w-5\" />\r\n              Current Goal\r\n            </div>\r\n            <div className=\"flex gap-2\">\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={() => setIsEditing(true)}\r\n                className=\"h-8 w-8 p-0 text-gray-400 hover:text-white\"\r\n              >\r\n                <Edit3 className=\"h-4 w-4\" />\r\n              </Button>\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={handleDeactivate}\r\n                className=\"h-8 w-8 p-0 text-gray-400 hover:text-red-400\"\r\n              >\r\n                <X className=\"h-4 w-4\" />\r\n              </Button>\r\n            </div>\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-2\">\r\n              {getGoalIcon(activeGoal.goalType)}\r\n              <span className=\"font-mono text-sm text-gray-300\">\r\n                {getGoalTypeLabel(activeGoal.goalType)}\r\n              </span>\r\n            </div>\r\n            <Badge variant=\"outline\" className=\"text-hyper-magenta border-hyper-magenta\">\r\n              {kgToLbs(activeGoal.targetWeight).toFixed(1)}lbs target\r\n            </Badge>\r\n          </div>\r\n\r\n          {progress && (\r\n            <div className=\"space-y-2\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <span className=\"font-mono text-xs text-gray-400\">Progress</span>\r\n                <span className=\"font-mono text-xs text-gray-300\">\r\n                  {kgToLbs(progress.remaining).toFixed(1)}lbs remaining\r\n                </span>\r\n              </div>\r\n              <div className=\"h-2 bg-gray-800 rounded-full overflow-hidden\">\r\n                <div \r\n                  className=\"h-full bg-gradient-to-r from-hyper-magenta to-plasma-cyan transition-all duration-300\"\r\n                  style={{ width: `${progress.progress}%` }}\r\n                />\r\n              </div>\r\n              {progress.achieved && (\r\n                <Badge variant=\"outline\" className=\"text-ki-green border-ki-green\">\r\n                   Goal Achieved!\r\n                </Badge>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {activeGoal.targetDate && (\r\n            <div className=\"flex items-center gap-2 text-gray-400\">\r\n              <Calendar className=\"h-4 w-4\" />\r\n              <span className=\"font-mono text-sm\">\r\n                Target: {new Date(activeGoal.targetDate).toLocaleDateString()}\r\n              </span>\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  // Edit/Create mode\r\n  return (\r\n    <Card className=\"cyber-card\">\r\n      <CardHeader className=\"pb-3\">\r\n        <CardTitle className=\"cyber-subtitle flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-2 text-hyper-magenta\">\r\n            <Target className=\"cyber-icon h-5 w-5\" />\r\n            {activeGoal ? 'Edit Goal' : 'Set Weight Goal'}\r\n          </div>\r\n          {onClose && (\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={onClose}\r\n              className=\"h-8 w-8 p-0 text-gray-400 hover:text-white\"\r\n            >\r\n              <X className=\"h-4 w-4\" />\r\n            </Button>\r\n          )}\r\n        </CardTitle>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"goal-type\" className=\"cyber-label\">\r\n                Goal Type\r\n              </Label>\r\n              <select\r\n                value={formData.goalType}\r\n                onChange={(e) =>\r\n                  setFormData({ ...formData, goalType: e.target.value as 'lose' | 'gain' | 'maintain' })\r\n                }\r\n                className=\"cyber-input w-full\"\r\n              >\r\n                <option value=\"lose\"> Lose Weight</option>\r\n                <option value=\"gain\"> Gain Weight</option>\r\n                <option value=\"maintain\"> Maintain Weight</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"target-weight\" className=\"cyber-label\">\r\n                Target Weight (lbs)\r\n              </Label>\r\n              <Input\r\n                id=\"target-weight\"\r\n                type=\"number\"\r\n                step=\"0.1\"\r\n                min=\"1\"\r\n                max=\"2199\"\r\n                value={formData.targetWeight}\r\n                onChange={(e) =>\r\n                  setFormData({ ...formData, targetWeight: parseFloat(e.target.value) || 0 })\r\n                }\r\n                className=\"cyber-input\"\r\n                placeholder=\"165.0\"\r\n              />\r\n              {errors.targetWeight && (\r\n                <p className=\"text-red-400 text-xs font-mono\">{errors.targetWeight}</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"starting-weight\" className=\"cyber-label\">\r\n                Starting Weight (lbs)\r\n              </Label>\r\n              <Input\r\n                id=\"starting-weight\"\r\n                type=\"number\"\r\n                step=\"0.1\"\r\n                min=\"1\"\r\n                max=\"2199\"\r\n                value={formData.startingWeight || ''}\r\n                onChange={(e) =>\r\n                  setFormData({ ...formData, startingWeight: parseFloat(e.target.value) || undefined })\r\n                }\r\n                className=\"cyber-input\"\r\n                placeholder=\"Current weight\"\r\n              />\r\n              {errors.startingWeight && (\r\n                <p className=\"text-red-400 text-xs font-mono\">{errors.startingWeight}</p>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"target-date\" className=\"cyber-label\">\r\n                Target Date (optional)\r\n              </Label>\r\n              <Input\r\n                id=\"target-date\"\r\n                type=\"date\"\r\n                value={formData.targetDate}\r\n                onChange={(e) =>\r\n                  setFormData({ ...formData, targetDate: e.target.value })\r\n                }\r\n                className=\"cyber-input\"\r\n                min={new Date().toISOString().split('T')[0]}\r\n              />\r\n              {errors.targetDate && (\r\n                <p className=\"text-red-400 text-xs font-mono\">{errors.targetDate}</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex gap-3 pt-2\">\r\n            <Button\r\n              type=\"submit\"\r\n              variant=\"cyber-ki\"\r\n              disabled={isGoalLoading}\r\n              className=\"flex-1\"\r\n            >\r\n              {isGoalLoading ? (\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className=\"h-4 w-4 animate-spin rounded-full border-2 border-gray-300 border-t-transparent\" />\r\n                  Saving...\r\n                </div>\r\n              ) : (\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Target className=\"h-4 w-4\" />\r\n                  {activeGoal ? 'Update Goal' : 'Set Goal'}\r\n                </div>\r\n              )}\r\n            </Button>\r\n            \r\n            {activeGoal && (\r\n              <Button\r\n                type=\"button\"\r\n                variant=\"outline\"\r\n                onClick={() => setIsEditing(false)}\r\n                className=\"px-4\"\r\n              >\r\n                Cancel\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </form>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n} ","/**\n * Browser Image Compression\n * v2.0.2\n * by Donald <donaldcwl@gmail.com>\n * https://github.com/Donaldcwl/browser-image-compression\n */\n\nfunction _mergeNamespaces(e,t){return t.forEach((function(t){t&&\"string\"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(r){if(\"default\"!==r&&!(r in e)){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}}))})),Object.freeze(e)}function copyExifWithoutOrientation(e,t){return new Promise((function(r,i){let o;return getApp1Segment(e).then((function(e){try{return o=e,r(new Blob([t.slice(0,2),o,t.slice(2)],{type:\"image/jpeg\"}))}catch(e){return i(e)}}),i)}))}const getApp1Segment=e=>new Promise(((t,r)=>{const i=new FileReader;i.addEventListener(\"load\",(({target:{result:e}})=>{const i=new DataView(e);let o=0;if(65496!==i.getUint16(o))return r(\"not a valid JPEG\");for(o+=2;;){const a=i.getUint16(o);if(65498===a)break;const s=i.getUint16(o+2);if(65505===a&&1165519206===i.getUint32(o+4)){const a=o+10;let f;switch(i.getUint16(a)){case 18761:f=!0;break;case 19789:f=!1;break;default:return r(\"TIFF header contains invalid endian\")}if(42!==i.getUint16(a+2,f))return r(\"TIFF header contains invalid version\");const l=i.getUint32(a+4,f),c=a+l+2+12*i.getUint16(a+l,f);for(let e=a+l+2;e<c;e+=12){if(274==i.getUint16(e,f)){if(3!==i.getUint16(e+2,f))return r(\"Orientation data type is invalid\");if(1!==i.getUint32(e+4,f))return r(\"Orientation data count is invalid\");i.setUint16(e+8,1,f);break}}return t(e.slice(o,o+2+s))}o+=2+s}return t(new Blob)})),i.readAsArrayBuffer(e)}));var e={},t={get exports(){return e},set exports(t){e=t}};!function(e){var r,i,UZIP={};t.exports=UZIP,UZIP.parse=function(e,t){for(var r=UZIP.bin.readUshort,i=UZIP.bin.readUint,o=0,a={},s=new Uint8Array(e),f=s.length-4;101010256!=i(s,f);)f--;o=f;o+=4;var l=r(s,o+=4);r(s,o+=2);var c=i(s,o+=2),u=i(s,o+=4);o+=4,o=u;for(var h=0;h<l;h++){i(s,o),o+=4,o+=4,o+=4,i(s,o+=4);c=i(s,o+=4);var d=i(s,o+=4),A=r(s,o+=4),g=r(s,o+2),p=r(s,o+4);o+=6;var m=i(s,o+=8);o+=4,o+=A+g+p,UZIP._readLocal(s,m,a,c,d,t)}return a},UZIP._readLocal=function(e,t,r,i,o,a){var s=UZIP.bin.readUshort,f=UZIP.bin.readUint;f(e,t),s(e,t+=4),s(e,t+=2);var l=s(e,t+=2);f(e,t+=2),f(e,t+=4),t+=4;var c=s(e,t+=8),u=s(e,t+=2);t+=2;var h=UZIP.bin.readUTF8(e,t,c);if(t+=c,t+=u,a)r[h]={size:o,csize:i};else{var d=new Uint8Array(e.buffer,t);if(0==l)r[h]=new Uint8Array(d.buffer.slice(t,t+i));else{if(8!=l)throw\"unknown compression method: \"+l;var A=new Uint8Array(o);UZIP.inflateRaw(d,A),r[h]=A}}},UZIP.inflateRaw=function(e,t){return UZIP.F.inflate(e,t)},UZIP.inflate=function(e,t){return e[0],e[1],UZIP.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},UZIP.deflate=function(e,t){null==t&&(t={level:6});var r=0,i=new Uint8Array(50+Math.floor(1.1*e.length));i[r]=120,i[r+1]=156,r+=2,r=UZIP.F.deflateRaw(e,i,r,t.level);var o=UZIP.adler(e,0,e.length);return i[r+0]=o>>>24&255,i[r+1]=o>>>16&255,i[r+2]=o>>>8&255,i[r+3]=o>>>0&255,new Uint8Array(i.buffer,0,r+4)},UZIP.deflateRaw=function(e,t){null==t&&(t={level:6});var r=new Uint8Array(50+Math.floor(1.1*e.length)),i=UZIP.F.deflateRaw(e,r,i,t.level);return new Uint8Array(r.buffer,0,i)},UZIP.encode=function(e,t){null==t&&(t=!1);var r=0,i=UZIP.bin.writeUint,o=UZIP.bin.writeUshort,a={};for(var s in e){var f=!UZIP._noNeed(s)&&!t,l=e[s],c=UZIP.crc.crc(l,0,l.length);a[s]={cpr:f,usize:l.length,crc:c,file:f?UZIP.deflateRaw(l):l}}for(var s in a)r+=a[s].file.length+30+46+2*UZIP.bin.sizeUTF8(s);r+=22;var u=new Uint8Array(r),h=0,d=[];for(var s in a){var A=a[s];d.push(h),h=UZIP._writeHeader(u,h,s,A,0)}var g=0,p=h;for(var s in a){A=a[s];d.push(h),h=UZIP._writeHeader(u,h,s,A,1,d[g++])}var m=h-p;return i(u,h,101010256),h+=4,o(u,h+=4,g),o(u,h+=2,g),i(u,h+=2,m),i(u,h+=4,p),h+=4,h+=2,u.buffer},UZIP._noNeed=function(e){var t=e.split(\".\").pop().toLowerCase();return-1!=\"png,jpg,jpeg,zip\".indexOf(t)},UZIP._writeHeader=function(e,t,r,i,o,a){var s=UZIP.bin.writeUint,f=UZIP.bin.writeUshort,l=i.file;return s(e,t,0==o?67324752:33639248),t+=4,1==o&&(t+=2),f(e,t,20),f(e,t+=2,0),f(e,t+=2,i.cpr?8:0),s(e,t+=2,0),s(e,t+=4,i.crc),s(e,t+=4,l.length),s(e,t+=4,i.usize),f(e,t+=4,UZIP.bin.sizeUTF8(r)),f(e,t+=2,0),t+=2,1==o&&(t+=2,t+=2,s(e,t+=6,a),t+=4),t+=UZIP.bin.writeUTF8(e,t,r),0==o&&(e.set(l,t),t+=l.length),t},UZIP.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var r=t,i=0;i<8;i++)1&r?r=3988292384^r>>>1:r>>>=1;e[t]=r}return e}(),update:function(e,t,r,i){for(var o=0;o<i;o++)e=UZIP.crc.table[255&(e^t[r+o])]^e>>>8;return e},crc:function(e,t,r){return 4294967295^UZIP.crc.update(4294967295,e,t,r)}},UZIP.adler=function(e,t,r){for(var i=1,o=0,a=t,s=t+r;a<s;){for(var f=Math.min(a+5552,s);a<f;)o+=i+=e[a++];i%=65521,o%=65521}return o<<16|i},UZIP.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,r){e[t]=255&r,e[t+1]=r>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,r){e[t]=255&r,e[t+1]=r>>8&255,e[t+2]=r>>16&255,e[t+3]=r>>24&255},readASCII:function(e,t,r){for(var i=\"\",o=0;o<r;o++)i+=String.fromCharCode(e[t+o]);return i},writeASCII:function(e,t,r){for(var i=0;i<r.length;i++)e[t+i]=r.charCodeAt(i)},pad:function(e){return e.length<2?\"0\"+e:e},readUTF8:function(e,t,r){for(var i,o=\"\",a=0;a<r;a++)o+=\"%\"+UZIP.bin.pad(e[t+a].toString(16));try{i=decodeURIComponent(o)}catch(i){return UZIP.bin.readASCII(e,t,r)}return i},writeUTF8:function(e,t,r){for(var i=r.length,o=0,a=0;a<i;a++){var s=r.charCodeAt(a);if(0==(4294967168&s))e[t+o]=s,o++;else if(0==(4294965248&s))e[t+o]=192|s>>6,e[t+o+1]=128|s>>0&63,o+=2;else if(0==(4294901760&s))e[t+o]=224|s>>12,e[t+o+1]=128|s>>6&63,e[t+o+2]=128|s>>0&63,o+=3;else{if(0!=(4292870144&s))throw\"e\";e[t+o]=240|s>>18,e[t+o+1]=128|s>>12&63,e[t+o+2]=128|s>>6&63,e[t+o+3]=128|s>>0&63,o+=4}}return o},sizeUTF8:function(e){for(var t=e.length,r=0,i=0;i<t;i++){var o=e.charCodeAt(i);if(0==(4294967168&o))r++;else if(0==(4294965248&o))r+=2;else if(0==(4294901760&o))r+=3;else{if(0!=(4292870144&o))throw\"e\";r+=4}}return r}},UZIP.F={},UZIP.F.deflateRaw=function(e,t,r,i){var o=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][i],a=UZIP.F.U,s=UZIP.F._goodIndex;UZIP.F._hash;var f=UZIP.F._putsE,l=0,c=r<<3,u=0,h=e.length;if(0==i){for(;l<h;){f(t,c,l+(_=Math.min(65535,h-l))==h?1:0),c=UZIP.F._copyExact(e,l,_,t,c+8),l+=_}return c>>>3}var d=a.lits,A=a.strt,g=a.prev,p=0,m=0,w=0,v=0,b=0,y=0;for(h>2&&(A[y=UZIP.F._hash(e,0)]=0),l=0;l<h;l++){if(b=y,l+1<h-2){y=UZIP.F._hash(e,l+1);var E=l+1&32767;g[E]=A[y],A[y]=E}if(u<=l){(p>14e3||m>26697)&&h-l>100&&(u<l&&(d[p]=l-u,p+=2,u=l),c=UZIP.F._writeBlock(l==h-1||u==h?1:0,d,p,v,e,w,l-w,t,c),p=m=v=0,w=l);var F=0;l<h-2&&(F=UZIP.F._bestMatch(e,l,g,b,Math.min(o[2],h-l),o[3]));var _=F>>>16,B=65535&F;if(0!=F){B=65535&F;var U=s(_=F>>>16,a.of0);a.lhst[257+U]++;var C=s(B,a.df0);a.dhst[C]++,v+=a.exb[U]+a.dxb[C],d[p]=_<<23|l-u,d[p+1]=B<<16|U<<8|C,p+=2,u=l+_}else a.lhst[e[l]]++;m++}}for(w==l&&0!=e.length||(u<l&&(d[p]=l-u,p+=2,u=l),c=UZIP.F._writeBlock(1,d,p,v,e,w,l-w,t,c),p=0,m=0,p=m=v=0,w=l);0!=(7&c);)c++;return c>>>3},UZIP.F._bestMatch=function(e,t,r,i,o,a){var s=32767&t,f=r[s],l=s-f+32768&32767;if(f==s||i!=UZIP.F._hash(e,t-l))return 0;for(var c=0,u=0,h=Math.min(32767,t);l<=h&&0!=--a&&f!=s;){if(0==c||e[t+c]==e[t+c-l]){var d=UZIP.F._howLong(e,t,l);if(d>c){if(u=l,(c=d)>=o)break;l+2<d&&(d=l+2);for(var A=0,g=0;g<d-2;g++){var p=t-l+g+32768&32767,m=p-r[p]+32768&32767;m>A&&(A=m,f=p)}}}l+=(s=f)-(f=r[s])+32768&32767}return c<<16|u},UZIP.F._howLong=function(e,t,r){if(e[t]!=e[t-r]||e[t+1]!=e[t+1-r]||e[t+2]!=e[t+2-r])return 0;var i=t,o=Math.min(e.length,t+258);for(t+=3;t<o&&e[t]==e[t-r];)t++;return t-i},UZIP.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},UZIP.saved=0,UZIP.F._writeBlock=function(e,t,r,i,o,a,s,f,l){var c,u,h,d,A,g,p,m,w,v=UZIP.F.U,b=UZIP.F._putsF,y=UZIP.F._putsE;v.lhst[256]++,u=(c=UZIP.F.getTrees())[0],h=c[1],d=c[2],A=c[3],g=c[4],p=c[5],m=c[6],w=c[7];var E=32+(0==(l+3&7)?0:8-(l+3&7))+(s<<3),F=i+UZIP.F.contSize(v.fltree,v.lhst)+UZIP.F.contSize(v.fdtree,v.dhst),_=i+UZIP.F.contSize(v.ltree,v.lhst)+UZIP.F.contSize(v.dtree,v.dhst);_+=14+3*p+UZIP.F.contSize(v.itree,v.ihst)+(2*v.ihst[16]+3*v.ihst[17]+7*v.ihst[18]);for(var B=0;B<286;B++)v.lhst[B]=0;for(B=0;B<30;B++)v.dhst[B]=0;for(B=0;B<19;B++)v.ihst[B]=0;var U=E<F&&E<_?0:F<_?1:2;if(b(f,l,e),b(f,l+1,U),l+=3,0==U){for(;0!=(7&l);)l++;l=UZIP.F._copyExact(o,a,s,f,l)}else{var C,I;if(1==U&&(C=v.fltree,I=v.fdtree),2==U){UZIP.F.makeCodes(v.ltree,u),UZIP.F.revCodes(v.ltree,u),UZIP.F.makeCodes(v.dtree,h),UZIP.F.revCodes(v.dtree,h),UZIP.F.makeCodes(v.itree,d),UZIP.F.revCodes(v.itree,d),C=v.ltree,I=v.dtree,y(f,l,A-257),y(f,l+=5,g-1),y(f,l+=5,p-4),l+=4;for(var Q=0;Q<p;Q++)y(f,l+3*Q,v.itree[1+(v.ordr[Q]<<1)]);l+=3*p,l=UZIP.F._codeTiny(m,v.itree,f,l),l=UZIP.F._codeTiny(w,v.itree,f,l)}for(var M=a,x=0;x<r;x+=2){for(var S=t[x],R=S>>>23,T=M+(8388607&S);M<T;)l=UZIP.F._writeLit(o[M++],C,f,l);if(0!=R){var O=t[x+1],P=O>>16,H=O>>8&255,L=255&O;y(f,l=UZIP.F._writeLit(257+H,C,f,l),R-v.of0[H]),l+=v.exb[H],b(f,l=UZIP.F._writeLit(L,I,f,l),P-v.df0[L]),l+=v.dxb[L],M+=R}}l=UZIP.F._writeLit(256,C,f,l)}return l},UZIP.F._copyExact=function(e,t,r,i,o){var a=o>>>3;return i[a]=r,i[a+1]=r>>>8,i[a+2]=255-i[a],i[a+3]=255-i[a+1],a+=4,i.set(new Uint8Array(e.buffer,t,r),a),o+(r+4<<3)},UZIP.F.getTrees=function(){for(var e=UZIP.F.U,t=UZIP.F._hufTree(e.lhst,e.ltree,15),r=UZIP.F._hufTree(e.dhst,e.dtree,15),i=[],o=UZIP.F._lenCodes(e.ltree,i),a=[],s=UZIP.F._lenCodes(e.dtree,a),f=0;f<i.length;f+=2)e.ihst[i[f]]++;for(f=0;f<a.length;f+=2)e.ihst[a[f]]++;for(var l=UZIP.F._hufTree(e.ihst,e.itree,7),c=19;c>4&&0==e.itree[1+(e.ordr[c-1]<<1)];)c--;return[t,r,l,o,s,c,i,a]},UZIP.F.getSecond=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(e[r+1]);return t},UZIP.F.nonZero=function(e){for(var t=\"\",r=0;r<e.length;r+=2)0!=e[r+1]&&(t+=(r>>1)+\",\");return t},UZIP.F.contSize=function(e,t){for(var r=0,i=0;i<t.length;i++)r+=t[i]*e[1+(i<<1)];return r},UZIP.F._codeTiny=function(e,t,r,i){for(var o=0;o<e.length;o+=2){var a=e[o],s=e[o+1];i=UZIP.F._writeLit(a,t,r,i);var f=16==a?2:17==a?3:7;a>15&&(UZIP.F._putsE(r,i,s,f),i+=f)}return i},UZIP.F._lenCodes=function(e,t){for(var r=e.length;2!=r&&0==e[r-1];)r-=2;for(var i=0;i<r;i+=2){var o=e[i+1],a=i+3<r?e[i+3]:-1,s=i+5<r?e[i+5]:-1,f=0==i?-1:e[i-1];if(0==o&&a==o&&s==o){for(var l=i+5;l+2<r&&e[l+2]==o;)l+=2;(c=Math.min(l+1-i>>>1,138))<11?t.push(17,c-3):t.push(18,c-11),i+=2*c-2}else if(o==f&&a==o&&s==o){for(l=i+5;l+2<r&&e[l+2]==o;)l+=2;var c=Math.min(l+1-i>>>1,6);t.push(16,c-3),i+=2*c-2}else t.push(o,0)}return r>>>1},UZIP.F._hufTree=function(e,t,r){var i=[],o=e.length,a=t.length,s=0;for(s=0;s<a;s+=2)t[s]=0,t[s+1]=0;for(s=0;s<o;s++)0!=e[s]&&i.push({lit:s,f:e[s]});var f=i.length,l=i.slice(0);if(0==f)return 0;if(1==f){var c=i[0].lit;l=0==c?1:0;return t[1+(c<<1)]=1,t[1+(l<<1)]=1,1}i.sort((function(e,t){return e.f-t.f}));var u=i[0],h=i[1],d=0,A=1,g=2;for(i[0]={lit:-1,f:u.f+h.f,l:u,r:h,d:0};A!=f-1;)u=d!=A&&(g==f||i[d].f<i[g].f)?i[d++]:i[g++],h=d!=A&&(g==f||i[d].f<i[g].f)?i[d++]:i[g++],i[A++]={lit:-1,f:u.f+h.f,l:u,r:h};var p=UZIP.F.setDepth(i[A-1],0);for(p>r&&(UZIP.F.restrictDepth(l,r,p),p=r),s=0;s<f;s++)t[1+(l[s].lit<<1)]=l[s].d;return p},UZIP.F.setDepth=function(e,t){return-1!=e.lit?(e.d=t,t):Math.max(UZIP.F.setDepth(e.l,t+1),UZIP.F.setDepth(e.r,t+1))},UZIP.F.restrictDepth=function(e,t,r){var i=0,o=1<<r-t,a=0;for(e.sort((function(e,t){return t.d==e.d?e.f-t.f:t.d-e.d})),i=0;i<e.length&&e[i].d>t;i++){var s=e[i].d;e[i].d=t,a+=o-(1<<r-s)}for(a>>>=r-t;a>0;){(s=e[i].d)<t?(e[i].d++,a-=1<<t-s-1):i++}for(;i>=0;i--)e[i].d==t&&a<0&&(e[i].d--,a++);0!=a&&console.log(\"debt left\")},UZIP.F._goodIndex=function(e,t){var r=0;return t[16|r]<=e&&(r|=16),t[8|r]<=e&&(r|=8),t[4|r]<=e&&(r|=4),t[2|r]<=e&&(r|=2),t[1|r]<=e&&(r|=1),r},UZIP.F._writeLit=function(e,t,r,i){return UZIP.F._putsF(r,i,t[e<<1]),i+t[1+(e<<1)]},UZIP.F.inflate=function(e,t){var r=Uint8Array;if(3==e[0]&&0==e[1])return t||new r(0);var i=UZIP.F,o=i._bitsF,a=i._bitsE,s=i._decodeTiny,f=i.makeCodes,l=i.codes2map,c=i._get17,u=i.U,h=null==t;h&&(t=new r(e.length>>>2<<3));for(var d,A,g=0,p=0,m=0,w=0,v=0,b=0,y=0,E=0,F=0;0==g;)if(g=o(e,F,1),p=o(e,F+1,2),F+=3,0!=p){if(h&&(t=UZIP.F._check(t,E+(1<<17))),1==p&&(d=u.flmap,A=u.fdmap,b=511,y=31),2==p){m=a(e,F,5)+257,w=a(e,F+5,5)+1,v=a(e,F+10,4)+4,F+=14;for(var _=0;_<38;_+=2)u.itree[_]=0,u.itree[_+1]=0;var B=1;for(_=0;_<v;_++){var U=a(e,F+3*_,3);u.itree[1+(u.ordr[_]<<1)]=U,U>B&&(B=U)}F+=3*v,f(u.itree,B),l(u.itree,B,u.imap),d=u.lmap,A=u.dmap,F=s(u.imap,(1<<B)-1,m+w,e,F,u.ttree);var C=i._copyOut(u.ttree,0,m,u.ltree);b=(1<<C)-1;var I=i._copyOut(u.ttree,m,w,u.dtree);y=(1<<I)-1,f(u.ltree,C),l(u.ltree,C,d),f(u.dtree,I),l(u.dtree,I,A)}for(;;){var Q=d[c(e,F)&b];F+=15&Q;var M=Q>>>4;if(M>>>8==0)t[E++]=M;else{if(256==M)break;var x=E+M-254;if(M>264){var S=u.ldef[M-257];x=E+(S>>>3)+a(e,F,7&S),F+=7&S}var R=A[c(e,F)&y];F+=15&R;var T=R>>>4,O=u.ddef[T],P=(O>>>4)+o(e,F,15&O);for(F+=15&O,h&&(t=UZIP.F._check(t,E+(1<<17)));E<x;)t[E]=t[E++-P],t[E]=t[E++-P],t[E]=t[E++-P],t[E]=t[E++-P];E=x}}}else{0!=(7&F)&&(F+=8-(7&F));var H=4+(F>>>3),L=e[H-4]|e[H-3]<<8;h&&(t=UZIP.F._check(t,E+L)),t.set(new r(e.buffer,e.byteOffset+H,L),E),F=H+L<<3,E+=L}return t.length==E?t:t.slice(0,E)},UZIP.F._check=function(e,t){var r=e.length;if(t<=r)return e;var i=new Uint8Array(Math.max(r<<1,t));return i.set(e,0),i},UZIP.F._decodeTiny=function(e,t,r,i,o,a){for(var s=UZIP.F._bitsE,f=UZIP.F._get17,l=0;l<r;){var c=e[f(i,o)&t];o+=15&c;var u=c>>>4;if(u<=15)a[l]=u,l++;else{var h=0,d=0;16==u?(d=3+s(i,o,2),o+=2,h=a[l-1]):17==u?(d=3+s(i,o,3),o+=3):18==u&&(d=11+s(i,o,7),o+=7);for(var A=l+d;l<A;)a[l]=h,l++}}return o},UZIP.F._copyOut=function(e,t,r,i){for(var o=0,a=0,s=i.length>>>1;a<r;){var f=e[a+t];i[a<<1]=0,i[1+(a<<1)]=f,f>o&&(o=f),a++}for(;a<s;)i[a<<1]=0,i[1+(a<<1)]=0,a++;return o},UZIP.F.makeCodes=function(e,t){for(var r,i,o,a,s=UZIP.F.U,f=e.length,l=s.bl_count,c=0;c<=t;c++)l[c]=0;for(c=1;c<f;c+=2)l[e[c]]++;var u=s.next_code;for(r=0,l[0]=0,i=1;i<=t;i++)r=r+l[i-1]<<1,u[i]=r;for(o=0;o<f;o+=2)0!=(a=e[o+1])&&(e[o]=u[a],u[a]++)},UZIP.F.codes2map=function(e,t,r){for(var i=e.length,o=UZIP.F.U.rev15,a=0;a<i;a+=2)if(0!=e[a+1])for(var s=a>>1,f=e[a+1],l=s<<4|f,c=t-f,u=e[a]<<c,h=u+(1<<c);u!=h;){r[o[u]>>>15-t]=l,u++}},UZIP.F.revCodes=function(e,t){for(var r=UZIP.F.U.rev15,i=15-t,o=0;o<e.length;o+=2){var a=e[o]<<t-e[o+1];e[o]=r[a]>>>i}},UZIP.F._putsE=function(e,t,r){r<<=7&t;var i=t>>>3;e[i]|=r,e[i+1]|=r>>>8},UZIP.F._putsF=function(e,t,r){r<<=7&t;var i=t>>>3;e[i]|=r,e[i+1]|=r>>>8,e[i+2]|=r>>>16},UZIP.F._bitsE=function(e,t,r){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<r)-1},UZIP.F._bitsF=function(e,t,r){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<r)-1},UZIP.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},UZIP.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},UZIP.F.U=(r=Uint16Array,i=Uint32Array,{next_code:new r(16),bl_count:new r(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new r(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new i(32),flmap:new r(512),fltree:[],fdmap:new r(32),fdtree:[],lmap:new r(32768),ltree:[],ttree:[],dmap:new r(32768),dtree:[],imap:new r(512),itree:[],rev15:new r(32768),lhst:new i(286),dhst:new i(30),ihst:new i(19),lits:new i(15e3),strt:new r(65536),prev:new r(32768)}),function(){for(var e=UZIP.F.U,t=0;t<32768;t++){var r=t;r=(4278255360&(r=(4042322160&(r=(3435973836&(r=(2863311530&r)>>>1|(1431655765&r)<<1))>>>2|(858993459&r)<<2))>>>4|(252645135&r)<<4))>>>8|(16711935&r)<<8,e.rev15[t]=(r>>>16|r<<16)>>>17}function pushV(e,t,r){for(;0!=t--;)e.push(0,r)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];pushV(e.fltree,144,8),pushV(e.fltree,112,9),pushV(e.fltree,24,7),pushV(e.fltree,8,8),UZIP.F.makeCodes(e.fltree,9),UZIP.F.codes2map(e.fltree,9,e.flmap),UZIP.F.revCodes(e.fltree,9),pushV(e.fdtree,32,5),UZIP.F.makeCodes(e.fdtree,5),UZIP.F.codes2map(e.fdtree,5,e.fdmap),UZIP.F.revCodes(e.fdtree,5),pushV(e.itree,19,0),pushV(e.ltree,286,0),pushV(e.dtree,30,0),pushV(e.ttree,320,0)}()}();var UZIP=_mergeNamespaces({__proto__:null,default:e},[e]);const UPNG=function(){var e={nextZero(e,t){for(;0!=e[t];)t++;return t},readUshort:(e,t)=>e[t]<<8|e[t+1],writeUshort(e,t,r){e[t]=r>>8&255,e[t+1]=255&r},readUint:(e,t)=>16777216*e[t]+(e[t+1]<<16|e[t+2]<<8|e[t+3]),writeUint(e,t,r){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r},readASCII(e,t,r){let i=\"\";for(let o=0;o<r;o++)i+=String.fromCharCode(e[t+o]);return i},writeASCII(e,t,r){for(let i=0;i<r.length;i++)e[t+i]=r.charCodeAt(i)},readBytes(e,t,r){const i=[];for(let o=0;o<r;o++)i.push(e[t+o]);return i},pad:e=>e.length<2?`0${e}`:e,readUTF8(t,r,i){let o,a=\"\";for(let o=0;o<i;o++)a+=`%${e.pad(t[r+o].toString(16))}`;try{o=decodeURIComponent(a)}catch(o){return e.readASCII(t,r,i)}return o}};function decodeImage(t,r,i,o){const a=r*i,s=_getBPP(o),f=Math.ceil(r*s/8),l=new Uint8Array(4*a),c=new Uint32Array(l.buffer),{ctype:u}=o,{depth:h}=o,d=e.readUshort;if(6==u){const e=a<<2;if(8==h)for(var A=0;A<e;A+=4)l[A]=t[A],l[A+1]=t[A+1],l[A+2]=t[A+2],l[A+3]=t[A+3];if(16==h)for(A=0;A<e;A++)l[A]=t[A<<1]}else if(2==u){const e=o.tabs.tRNS;if(null==e){if(8==h)for(A=0;A<a;A++){var g=3*A;c[A]=255<<24|t[g+2]<<16|t[g+1]<<8|t[g]}if(16==h)for(A=0;A<a;A++){g=6*A;c[A]=255<<24|t[g+4]<<16|t[g+2]<<8|t[g]}}else{var p=e[0];const r=e[1],i=e[2];if(8==h)for(A=0;A<a;A++){var m=A<<2;g=3*A;c[A]=255<<24|t[g+2]<<16|t[g+1]<<8|t[g],t[g]==p&&t[g+1]==r&&t[g+2]==i&&(l[m+3]=0)}if(16==h)for(A=0;A<a;A++){m=A<<2,g=6*A;c[A]=255<<24|t[g+4]<<16|t[g+2]<<8|t[g],d(t,g)==p&&d(t,g+2)==r&&d(t,g+4)==i&&(l[m+3]=0)}}}else if(3==u){const e=o.tabs.PLTE,s=o.tabs.tRNS,c=s?s.length:0;if(1==h)for(var w=0;w<i;w++){var v=w*f,b=w*r;for(A=0;A<r;A++){m=b+A<<2;var y=3*(E=t[v+(A>>3)]>>7-((7&A)<<0)&1);l[m]=e[y],l[m+1]=e[y+1],l[m+2]=e[y+2],l[m+3]=E<c?s[E]:255}}if(2==h)for(w=0;w<i;w++)for(v=w*f,b=w*r,A=0;A<r;A++){m=b+A<<2,y=3*(E=t[v+(A>>2)]>>6-((3&A)<<1)&3);l[m]=e[y],l[m+1]=e[y+1],l[m+2]=e[y+2],l[m+3]=E<c?s[E]:255}if(4==h)for(w=0;w<i;w++)for(v=w*f,b=w*r,A=0;A<r;A++){m=b+A<<2,y=3*(E=t[v+(A>>1)]>>4-((1&A)<<2)&15);l[m]=e[y],l[m+1]=e[y+1],l[m+2]=e[y+2],l[m+3]=E<c?s[E]:255}if(8==h)for(A=0;A<a;A++){var E;m=A<<2,y=3*(E=t[A]);l[m]=e[y],l[m+1]=e[y+1],l[m+2]=e[y+2],l[m+3]=E<c?s[E]:255}}else if(4==u){if(8==h)for(A=0;A<a;A++){m=A<<2;var F=t[_=A<<1];l[m]=F,l[m+1]=F,l[m+2]=F,l[m+3]=t[_+1]}if(16==h)for(A=0;A<a;A++){var _;m=A<<2,F=t[_=A<<2];l[m]=F,l[m+1]=F,l[m+2]=F,l[m+3]=t[_+2]}}else if(0==u)for(p=o.tabs.tRNS?o.tabs.tRNS:-1,w=0;w<i;w++){const e=w*f,i=w*r;if(1==h)for(var B=0;B<r;B++){var U=(F=255*(t[e+(B>>>3)]>>>7-(7&B)&1))==255*p?0:255;c[i+B]=U<<24|F<<16|F<<8|F}else if(2==h)for(B=0;B<r;B++){U=(F=85*(t[e+(B>>>2)]>>>6-((3&B)<<1)&3))==85*p?0:255;c[i+B]=U<<24|F<<16|F<<8|F}else if(4==h)for(B=0;B<r;B++){U=(F=17*(t[e+(B>>>1)]>>>4-((1&B)<<2)&15))==17*p?0:255;c[i+B]=U<<24|F<<16|F<<8|F}else if(8==h)for(B=0;B<r;B++){U=(F=t[e+B])==p?0:255;c[i+B]=U<<24|F<<16|F<<8|F}else if(16==h)for(B=0;B<r;B++){F=t[e+(B<<1)],U=d(t,e+(B<<1))==p?0:255;c[i+B]=U<<24|F<<16|F<<8|F}}return l}function _decompress(e,r,i,o){const a=_getBPP(e),s=Math.ceil(i*a/8),f=new Uint8Array((s+1+e.interlace)*o);return r=e.tabs.CgBI?t(r,f):_inflate(r,f),0==e.interlace?r=_filterZero(r,e,0,i,o):1==e.interlace&&(r=function _readInterlace(e,t){const r=t.width,i=t.height,o=_getBPP(t),a=o>>3,s=Math.ceil(r*o/8),f=new Uint8Array(i*s);let l=0;const c=[0,0,4,0,2,0,1],u=[0,4,0,2,0,1,0],h=[8,8,8,4,4,2,2],d=[8,8,4,4,2,2,1];let A=0;for(;A<7;){const p=h[A],m=d[A];let w=0,v=0,b=c[A];for(;b<i;)b+=p,v++;let y=u[A];for(;y<r;)y+=m,w++;const E=Math.ceil(w*o/8);_filterZero(e,t,l,w,v);let F=0,_=c[A];for(;_<i;){let t=u[A],i=l+F*E<<3;for(;t<r;){var g;if(1==o)g=(g=e[i>>3])>>7-(7&i)&1,f[_*s+(t>>3)]|=g<<7-((7&t)<<0);if(2==o)g=(g=e[i>>3])>>6-(7&i)&3,f[_*s+(t>>2)]|=g<<6-((3&t)<<1);if(4==o)g=(g=e[i>>3])>>4-(7&i)&15,f[_*s+(t>>1)]|=g<<4-((1&t)<<2);if(o>=8){const r=_*s+t*a;for(let t=0;t<a;t++)f[r+t]=e[(i>>3)+t]}i+=o,t+=m}F++,_+=p}w*v!=0&&(l+=v*(1+E)),A+=1}return f}(r,e)),r}function _inflate(e,r){return t(new Uint8Array(e.buffer,2,e.length-6),r)}var t=function(){const e={H:{}};return e.H.N=function(t,r){const i=Uint8Array;let o,a,s=0,f=0,l=0,c=0,u=0,h=0,d=0,A=0,g=0;if(3==t[0]&&0==t[1])return r||new i(0);const p=e.H,m=p.b,w=p.e,v=p.R,b=p.n,y=p.A,E=p.Z,F=p.m,_=null==r;for(_&&(r=new i(t.length>>>2<<5));0==s;)if(s=m(t,g,1),f=m(t,g+1,2),g+=3,0!=f){if(_&&(r=e.H.W(r,A+(1<<17))),1==f&&(o=F.J,a=F.h,h=511,d=31),2==f){l=w(t,g,5)+257,c=w(t,g+5,5)+1,u=w(t,g+10,4)+4,g+=14;let e=1;for(var B=0;B<38;B+=2)F.Q[B]=0,F.Q[B+1]=0;for(B=0;B<u;B++){const r=w(t,g+3*B,3);F.Q[1+(F.X[B]<<1)]=r,r>e&&(e=r)}g+=3*u,b(F.Q,e),y(F.Q,e,F.u),o=F.w,a=F.d,g=v(F.u,(1<<e)-1,l+c,t,g,F.v);const r=p.V(F.v,0,l,F.C);h=(1<<r)-1;const i=p.V(F.v,l,c,F.D);d=(1<<i)-1,b(F.C,r),y(F.C,r,o),b(F.D,i),y(F.D,i,a)}for(;;){const e=o[E(t,g)&h];g+=15&e;const i=e>>>4;if(i>>>8==0)r[A++]=i;else{if(256==i)break;{let e=A+i-254;if(i>264){const r=F.q[i-257];e=A+(r>>>3)+w(t,g,7&r),g+=7&r}const o=a[E(t,g)&d];g+=15&o;const s=o>>>4,f=F.c[s],l=(f>>>4)+m(t,g,15&f);for(g+=15&f;A<e;)r[A]=r[A++-l],r[A]=r[A++-l],r[A]=r[A++-l],r[A]=r[A++-l];A=e}}}}else{0!=(7&g)&&(g+=8-(7&g));const o=4+(g>>>3),a=t[o-4]|t[o-3]<<8;_&&(r=e.H.W(r,A+a)),r.set(new i(t.buffer,t.byteOffset+o,a),A),g=o+a<<3,A+=a}return r.length==A?r:r.slice(0,A)},e.H.W=function(e,t){const r=e.length;if(t<=r)return e;const i=new Uint8Array(r<<1);return i.set(e,0),i},e.H.R=function(t,r,i,o,a,s){const f=e.H.e,l=e.H.Z;let c=0;for(;c<i;){const e=t[l(o,a)&r];a+=15&e;const i=e>>>4;if(i<=15)s[c]=i,c++;else{let e=0,t=0;16==i?(t=3+f(o,a,2),a+=2,e=s[c-1]):17==i?(t=3+f(o,a,3),a+=3):18==i&&(t=11+f(o,a,7),a+=7);const r=c+t;for(;c<r;)s[c]=e,c++}}return a},e.H.V=function(e,t,r,i){let o=0,a=0;const s=i.length>>>1;for(;a<r;){const r=e[a+t];i[a<<1]=0,i[1+(a<<1)]=r,r>o&&(o=r),a++}for(;a<s;)i[a<<1]=0,i[1+(a<<1)]=0,a++;return o},e.H.n=function(t,r){const i=e.H.m,o=t.length;let a,s,f;let l;const c=i.j;for(var u=0;u<=r;u++)c[u]=0;for(u=1;u<o;u+=2)c[t[u]]++;const h=i.K;for(a=0,c[0]=0,s=1;s<=r;s++)a=a+c[s-1]<<1,h[s]=a;for(f=0;f<o;f+=2)l=t[f+1],0!=l&&(t[f]=h[l],h[l]++)},e.H.A=function(t,r,i){const o=t.length,a=e.H.m.r;for(let e=0;e<o;e+=2)if(0!=t[e+1]){const o=e>>1,s=t[e+1],f=o<<4|s,l=r-s;let c=t[e]<<l;const u=c+(1<<l);for(;c!=u;){i[a[c]>>>15-r]=f,c++}}},e.H.l=function(t,r){const i=e.H.m.r,o=15-r;for(let e=0;e<t.length;e+=2){const a=t[e]<<r-t[e+1];t[e]=i[a]>>>o}},e.H.M=function(e,t,r){r<<=7&t;const i=t>>>3;e[i]|=r,e[i+1]|=r>>>8},e.H.I=function(e,t,r){r<<=7&t;const i=t>>>3;e[i]|=r,e[i+1]|=r>>>8,e[i+2]|=r>>>16},e.H.e=function(e,t,r){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<r)-1},e.H.b=function(e,t,r){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<r)-1},e.H.Z=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},e.H.i=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},e.H.m=function(){const e=Uint16Array,t=Uint32Array;return{K:new e(16),j:new e(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new e(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new t(32),J:new e(512),_:[],h:new e(32),$:[],w:new e(32768),C:[],v:[],d:new e(32768),D:[],u:new e(512),Q:[],r:new e(32768),s:new t(286),Y:new t(30),a:new t(19),t:new t(15e3),k:new e(65536),g:new e(32768)}}(),function(){const t=e.H.m;for(var r=0;r<32768;r++){let e=r;e=(2863311530&e)>>>1|(1431655765&e)<<1,e=(3435973836&e)>>>2|(858993459&e)<<2,e=(4042322160&e)>>>4|(252645135&e)<<4,e=(4278255360&e)>>>8|(16711935&e)<<8,t.r[r]=(e>>>16|e<<16)>>>17}function n(e,t,r){for(;0!=t--;)e.push(0,r)}for(r=0;r<32;r++)t.q[r]=t.S[r]<<3|t.T[r],t.c[r]=t.p[r]<<4|t.z[r];n(t._,144,8),n(t._,112,9),n(t._,24,7),n(t._,8,8),e.H.n(t._,9),e.H.A(t._,9,t.J),e.H.l(t._,9),n(t.$,32,5),e.H.n(t.$,5),e.H.A(t.$,5,t.h),e.H.l(t.$,5),n(t.Q,19,0),n(t.C,286,0),n(t.D,30,0),n(t.v,320,0)}(),e.H.N}();function _getBPP(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth}function _filterZero(e,t,r,i,o){let a=_getBPP(t);const s=Math.ceil(i*a/8);let f,l;a=Math.ceil(a/8);let c=e[r],u=0;if(c>1&&(e[r]=[0,0,1][c-2]),3==c)for(u=a;u<s;u++)e[u+1]=e[u+1]+(e[u+1-a]>>>1)&255;for(let t=0;t<o;t++)if(f=r+t*s,l=f+t+1,c=e[l-1],u=0,0==c)for(;u<s;u++)e[f+u]=e[l+u];else if(1==c){for(;u<a;u++)e[f+u]=e[l+u];for(;u<s;u++)e[f+u]=e[l+u]+e[f+u-a]}else if(2==c)for(;u<s;u++)e[f+u]=e[l+u]+e[f+u-s];else if(3==c){for(;u<a;u++)e[f+u]=e[l+u]+(e[f+u-s]>>>1);for(;u<s;u++)e[f+u]=e[l+u]+(e[f+u-s]+e[f+u-a]>>>1)}else{for(;u<a;u++)e[f+u]=e[l+u]+_paeth(0,e[f+u-s],0);for(;u<s;u++)e[f+u]=e[l+u]+_paeth(e[f+u-a],e[f+u-s],e[f+u-a-s])}return e}function _paeth(e,t,r){const i=e+t-r,o=i-e,a=i-t,s=i-r;return o*o<=a*a&&o*o<=s*s?e:a*a<=s*s?t:r}function _IHDR(t,r,i){i.width=e.readUint(t,r),r+=4,i.height=e.readUint(t,r),r+=4,i.depth=t[r],r++,i.ctype=t[r],r++,i.compress=t[r],r++,i.filter=t[r],r++,i.interlace=t[r],r++}function _copyTile(e,t,r,i,o,a,s,f,l){const c=Math.min(t,o),u=Math.min(r,a);let h=0,d=0;for(let r=0;r<u;r++)for(let a=0;a<c;a++)if(s>=0&&f>=0?(h=r*t+a<<2,d=(f+r)*o+s+a<<2):(h=(-f+r)*t-s+a<<2,d=r*o+a<<2),0==l)i[d]=e[h],i[d+1]=e[h+1],i[d+2]=e[h+2],i[d+3]=e[h+3];else if(1==l){var A=e[h+3]*(1/255),g=e[h]*A,p=e[h+1]*A,m=e[h+2]*A,w=i[d+3]*(1/255),v=i[d]*w,b=i[d+1]*w,y=i[d+2]*w;const t=1-A,r=A+w*t,o=0==r?0:1/r;i[d+3]=255*r,i[d+0]=(g+v*t)*o,i[d+1]=(p+b*t)*o,i[d+2]=(m+y*t)*o}else if(2==l){A=e[h+3],g=e[h],p=e[h+1],m=e[h+2],w=i[d+3],v=i[d],b=i[d+1],y=i[d+2];A==w&&g==v&&p==b&&m==y?(i[d]=0,i[d+1]=0,i[d+2]=0,i[d+3]=0):(i[d]=g,i[d+1]=p,i[d+2]=m,i[d+3]=A)}else if(3==l){A=e[h+3],g=e[h],p=e[h+1],m=e[h+2],w=i[d+3],v=i[d],b=i[d+1],y=i[d+2];if(A==w&&g==v&&p==b&&m==y)continue;if(A<220&&w>20)return!1}return!0}return{decode:function decode(r){const i=new Uint8Array(r);let o=8;const a=e,s=a.readUshort,f=a.readUint,l={tabs:{},frames:[]},c=new Uint8Array(i.length);let u,h=0,d=0;const A=[137,80,78,71,13,10,26,10];for(var g=0;g<8;g++)if(i[g]!=A[g])throw\"The input is not a PNG file!\";for(;o<i.length;){const e=a.readUint(i,o);o+=4;const r=a.readASCII(i,o,4);if(o+=4,\"IHDR\"==r)_IHDR(i,o,l);else if(\"iCCP\"==r){for(var p=o;0!=i[p];)p++;a.readASCII(i,o,p-o),i[p+1];const s=i.slice(p+2,o+e);let f=null;try{f=_inflate(s)}catch(e){f=t(s)}l.tabs[r]=f}else if(\"CgBI\"==r)l.tabs[r]=i.slice(o,o+4);else if(\"IDAT\"==r){for(g=0;g<e;g++)c[h+g]=i[o+g];h+=e}else if(\"acTL\"==r)l.tabs[r]={num_frames:f(i,o),num_plays:f(i,o+4)},u=new Uint8Array(i.length);else if(\"fcTL\"==r){if(0!=d)(E=l.frames[l.frames.length-1]).data=_decompress(l,u.slice(0,d),E.rect.width,E.rect.height),d=0;const e={x:f(i,o+12),y:f(i,o+16),width:f(i,o+4),height:f(i,o+8)};let t=s(i,o+22);t=s(i,o+20)/(0==t?100:t);const r={rect:e,delay:Math.round(1e3*t),dispose:i[o+24],blend:i[o+25]};l.frames.push(r)}else if(\"fdAT\"==r){for(g=0;g<e-4;g++)u[d+g]=i[o+g+4];d+=e-4}else if(\"pHYs\"==r)l.tabs[r]=[a.readUint(i,o),a.readUint(i,o+4),i[o+8]];else if(\"cHRM\"==r){l.tabs[r]=[];for(g=0;g<8;g++)l.tabs[r].push(a.readUint(i,o+4*g))}else if(\"tEXt\"==r||\"zTXt\"==r){null==l.tabs[r]&&(l.tabs[r]={});var m=a.nextZero(i,o),w=a.readASCII(i,o,m-o),v=o+e-m-1;if(\"tEXt\"==r)y=a.readASCII(i,m+1,v);else{var b=_inflate(i.slice(m+2,m+2+v));y=a.readUTF8(b,0,b.length)}l.tabs[r][w]=y}else if(\"iTXt\"==r){null==l.tabs[r]&&(l.tabs[r]={});m=0,p=o;m=a.nextZero(i,p);w=a.readASCII(i,p,m-p);const t=i[p=m+1];var y;i[p+1],p+=2,m=a.nextZero(i,p),a.readASCII(i,p,m-p),p=m+1,m=a.nextZero(i,p),a.readUTF8(i,p,m-p);v=e-((p=m+1)-o);if(0==t)y=a.readUTF8(i,p,v);else{b=_inflate(i.slice(p,p+v));y=a.readUTF8(b,0,b.length)}l.tabs[r][w]=y}else if(\"PLTE\"==r)l.tabs[r]=a.readBytes(i,o,e);else if(\"hIST\"==r){const e=l.tabs.PLTE.length/3;l.tabs[r]=[];for(g=0;g<e;g++)l.tabs[r].push(s(i,o+2*g))}else if(\"tRNS\"==r)3==l.ctype?l.tabs[r]=a.readBytes(i,o,e):0==l.ctype?l.tabs[r]=s(i,o):2==l.ctype&&(l.tabs[r]=[s(i,o),s(i,o+2),s(i,o+4)]);else if(\"gAMA\"==r)l.tabs[r]=a.readUint(i,o)/1e5;else if(\"sRGB\"==r)l.tabs[r]=i[o];else if(\"bKGD\"==r)0==l.ctype||4==l.ctype?l.tabs[r]=[s(i,o)]:2==l.ctype||6==l.ctype?l.tabs[r]=[s(i,o),s(i,o+2),s(i,o+4)]:3==l.ctype&&(l.tabs[r]=i[o]);else if(\"IEND\"==r)break;o+=e,a.readUint(i,o),o+=4}var E;return 0!=d&&((E=l.frames[l.frames.length-1]).data=_decompress(l,u.slice(0,d),E.rect.width,E.rect.height)),l.data=_decompress(l,c,l.width,l.height),delete l.compress,delete l.interlace,delete l.filter,l},toRGBA8:function toRGBA8(e){const t=e.width,r=e.height;if(null==e.tabs.acTL)return[decodeImage(e.data,t,r,e).buffer];const i=[];null==e.frames[0].data&&(e.frames[0].data=e.data);const o=t*r*4,a=new Uint8Array(o),s=new Uint8Array(o),f=new Uint8Array(o);for(let c=0;c<e.frames.length;c++){const u=e.frames[c],h=u.rect.x,d=u.rect.y,A=u.rect.width,g=u.rect.height,p=decodeImage(u.data,A,g,e);if(0!=c)for(var l=0;l<o;l++)f[l]=a[l];if(0==u.blend?_copyTile(p,A,g,a,t,r,h,d,0):1==u.blend&&_copyTile(p,A,g,a,t,r,h,d,1),i.push(a.buffer.slice(0)),0==u.dispose);else if(1==u.dispose)_copyTile(s,A,g,a,t,r,h,d,0);else if(2==u.dispose)for(l=0;l<o;l++)a[l]=f[l]}return i},_paeth:_paeth,_copyTile:_copyTile,_bin:e}}();!function(){const{_copyTile:e}=UPNG,{_bin:t}=UPNG,r=UPNG._paeth;var i={table:function(){const e=new Uint32Array(256);for(let t=0;t<256;t++){let r=t;for(let e=0;e<8;e++)1&r?r=3988292384^r>>>1:r>>>=1;e[t]=r}return e}(),update(e,t,r,o){for(let a=0;a<o;a++)e=i.table[255&(e^t[r+a])]^e>>>8;return e},crc:(e,t,r)=>4294967295^i.update(4294967295,e,t,r)};function addErr(e,t,r,i){t[r]+=e[0]*i>>4,t[r+1]+=e[1]*i>>4,t[r+2]+=e[2]*i>>4,t[r+3]+=e[3]*i>>4}function N(e){return Math.max(0,Math.min(255,e))}function D(e,t){const r=e[0]-t[0],i=e[1]-t[1],o=e[2]-t[2],a=e[3]-t[3];return r*r+i*i+o*o+a*a}function dither(e,t,r,i,o,a,s){null==s&&(s=1);const f=i.length,l=[];for(var c=0;c<f;c++){const e=i[c];l.push([e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255])}for(c=0;c<f;c++){let e=4294967295;for(var u=0,h=0;h<f;h++){var d=D(l[c],l[h]);h!=c&&d<e&&(e=d,u=h)}}const A=new Uint32Array(o.buffer),g=new Int16Array(t*r*4),p=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(c=0;c<p.length;c++)p[c]=255*((p[c]+.5)/16-.5);for(let o=0;o<r;o++)for(let w=0;w<t;w++){var m;c=4*(o*t+w);if(2!=s)m=[N(e[c]+g[c]),N(e[c+1]+g[c+1]),N(e[c+2]+g[c+2]),N(e[c+3]+g[c+3])];else{d=p[4*(3&o)+(3&w)];m=[N(e[c]+d),N(e[c+1]+d),N(e[c+2]+d),N(e[c+3]+d)]}u=0;let v=16777215;for(h=0;h<f;h++){const e=D(m,l[h]);e<v&&(v=e,u=h)}const b=l[u],y=[m[0]-b[0],m[1]-b[1],m[2]-b[2],m[3]-b[3]];1==s&&(w!=t-1&&addErr(y,g,c+4,7),o!=r-1&&(0!=w&&addErr(y,g,c+4*t-4,3),addErr(y,g,c+4*t,5),w!=t-1&&addErr(y,g,c+4*t+4,1))),a[c>>2]=u,A[c>>2]=i[u]}}function _main(e,r,o,a,s){null==s&&(s={});const{crc:f}=i,l=t.writeUint,c=t.writeUshort,u=t.writeASCII;let h=8;const d=e.frames.length>1;let A,g=!1,p=33+(d?20:0);if(null!=s.sRGB&&(p+=13),null!=s.pHYs&&(p+=21),null!=s.iCCP&&(A=pako.deflate(s.iCCP),p+=21+A.length+4),3==e.ctype){for(var m=e.plte.length,w=0;w<m;w++)e.plte[w]>>>24!=255&&(g=!0);p+=8+3*m+4+(g?8+1*m+4:0)}for(var v=0;v<e.frames.length;v++){d&&(p+=38),p+=(F=e.frames[v]).cimg.length+12,0!=v&&(p+=4)}p+=12;const b=new Uint8Array(p),y=[137,80,78,71,13,10,26,10];for(w=0;w<8;w++)b[w]=y[w];if(l(b,h,13),h+=4,u(b,h,\"IHDR\"),h+=4,l(b,h,r),h+=4,l(b,h,o),h+=4,b[h]=e.depth,h++,b[h]=e.ctype,h++,b[h]=0,h++,b[h]=0,h++,b[h]=0,h++,l(b,h,f(b,h-17,17)),h+=4,null!=s.sRGB&&(l(b,h,1),h+=4,u(b,h,\"sRGB\"),h+=4,b[h]=s.sRGB,h++,l(b,h,f(b,h-5,5)),h+=4),null!=s.iCCP){const e=13+A.length;l(b,h,e),h+=4,u(b,h,\"iCCP\"),h+=4,u(b,h,\"ICC profile\"),h+=11,h+=2,b.set(A,h),h+=A.length,l(b,h,f(b,h-(e+4),e+4)),h+=4}if(null!=s.pHYs&&(l(b,h,9),h+=4,u(b,h,\"pHYs\"),h+=4,l(b,h,s.pHYs[0]),h+=4,l(b,h,s.pHYs[1]),h+=4,b[h]=s.pHYs[2],h++,l(b,h,f(b,h-13,13)),h+=4),d&&(l(b,h,8),h+=4,u(b,h,\"acTL\"),h+=4,l(b,h,e.frames.length),h+=4,l(b,h,null!=s.loop?s.loop:0),h+=4,l(b,h,f(b,h-12,12)),h+=4),3==e.ctype){l(b,h,3*(m=e.plte.length)),h+=4,u(b,h,\"PLTE\"),h+=4;for(w=0;w<m;w++){const t=3*w,r=e.plte[w],i=255&r,o=r>>>8&255,a=r>>>16&255;b[h+t+0]=i,b[h+t+1]=o,b[h+t+2]=a}if(h+=3*m,l(b,h,f(b,h-3*m-4,3*m+4)),h+=4,g){l(b,h,m),h+=4,u(b,h,\"tRNS\"),h+=4;for(w=0;w<m;w++)b[h+w]=e.plte[w]>>>24&255;h+=m,l(b,h,f(b,h-m-4,m+4)),h+=4}}let E=0;for(v=0;v<e.frames.length;v++){var F=e.frames[v];d&&(l(b,h,26),h+=4,u(b,h,\"fcTL\"),h+=4,l(b,h,E++),h+=4,l(b,h,F.rect.width),h+=4,l(b,h,F.rect.height),h+=4,l(b,h,F.rect.x),h+=4,l(b,h,F.rect.y),h+=4,c(b,h,a[v]),h+=2,c(b,h,1e3),h+=2,b[h]=F.dispose,h++,b[h]=F.blend,h++,l(b,h,f(b,h-30,30)),h+=4);const t=F.cimg;l(b,h,(m=t.length)+(0==v?0:4)),h+=4;const r=h;u(b,h,0==v?\"IDAT\":\"fdAT\"),h+=4,0!=v&&(l(b,h,E++),h+=4),b.set(t,h),h+=m,l(b,h,f(b,r,h-r)),h+=4}return l(b,h,0),h+=4,u(b,h,\"IEND\"),h+=4,l(b,h,f(b,h-4,4)),h+=4,b.buffer}function compressPNG(e,t,r){for(let i=0;i<e.frames.length;i++){const o=e.frames[i];o.rect.width;const a=o.rect.height,s=new Uint8Array(a*o.bpl+a);o.cimg=_filterZero(o.img,a,o.bpp,o.bpl,s,t,r)}}function compress(t,r,i,o,a){const s=a[0],f=a[1],l=a[2],c=a[3],u=a[4],h=a[5];let d=6,A=8,g=255;for(var p=0;p<t.length;p++){const e=new Uint8Array(t[p]);for(var m=e.length,w=0;w<m;w+=4)g&=e[w+3]}const v=255!=g,b=function framize(t,r,i,o,a,s){const f=[];for(var l=0;l<t.length;l++){const h=new Uint8Array(t[l]),A=new Uint32Array(h.buffer);var c;let g=0,p=0,m=r,w=i,v=o?1:0;if(0!=l){const b=s||o||1==l||0!=f[l-2].dispose?1:2;let y=0,E=1e9;for(let e=0;e<b;e++){var u=new Uint8Array(t[l-1-e]);const o=new Uint32Array(t[l-1-e]);let s=r,f=i,c=-1,h=-1;for(let e=0;e<i;e++)for(let t=0;t<r;t++){A[d=e*r+t]!=o[d]&&(t<s&&(s=t),t>c&&(c=t),e<f&&(f=e),e>h&&(h=e))}-1==c&&(s=f=c=h=0),a&&(1==(1&s)&&s--,1==(1&f)&&f--);const v=(c-s+1)*(h-f+1);v<E&&(E=v,y=e,g=s,p=f,m=c-s+1,w=h-f+1)}u=new Uint8Array(t[l-1-y]);1==y&&(f[l-1].dispose=2),c=new Uint8Array(m*w*4),e(u,r,i,c,m,w,-g,-p,0),v=e(h,r,i,c,m,w,-g,-p,3)?1:0,1==v?_prepareDiff(h,r,i,c,{x:g,y:p,width:m,height:w}):e(h,r,i,c,m,w,-g,-p,0)}else c=h.slice(0);f.push({rect:{x:g,y:p,width:m,height:w},img:c,blend:v,dispose:0})}if(o)for(l=0;l<f.length;l++){if(1==(A=f[l]).blend)continue;const e=A.rect,o=f[l-1].rect,s=Math.min(e.x,o.x),c=Math.min(e.y,o.y),u={x:s,y:c,width:Math.max(e.x+e.width,o.x+o.width)-s,height:Math.max(e.y+e.height,o.y+o.height)-c};f[l-1].dispose=1,l-1!=0&&_updateFrame(t,r,i,f,l-1,u,a),_updateFrame(t,r,i,f,l,u,a)}let h=0;if(1!=t.length)for(var d=0;d<f.length;d++){var A;h+=(A=f[d]).rect.width*A.rect.height}return f}(t,r,i,s,f,l),y={},E=[],F=[];if(0!=o){const e=[];for(w=0;w<b.length;w++)e.push(b[w].img.buffer);const t=function concatRGBA(e){let t=0;for(var r=0;r<e.length;r++)t+=e[r].byteLength;const i=new Uint8Array(t);let o=0;for(r=0;r<e.length;r++){const t=new Uint8Array(e[r]),a=t.length;for(let e=0;e<a;e+=4){let r=t[e],a=t[e+1],s=t[e+2];const f=t[e+3];0==f&&(r=a=s=0),i[o+e]=r,i[o+e+1]=a,i[o+e+2]=s,i[o+e+3]=f}o+=a}return i.buffer}(e),r=quantize(t,o);for(w=0;w<r.plte.length;w++)E.push(r.plte[w].est.rgba);let i=0;for(w=0;w<b.length;w++){const e=(B=b[w]).img.length;var _=new Uint8Array(r.inds.buffer,i>>2,e>>2);F.push(_);const t=new Uint8Array(r.abuf,i,e);h&&dither(B.img,B.rect.width,B.rect.height,E,t,_),B.img.set(t),i+=e}}else for(p=0;p<b.length;p++){var B=b[p];const e=new Uint32Array(B.img.buffer);var U=B.rect.width;m=e.length,_=new Uint8Array(m);F.push(_);for(w=0;w<m;w++){const t=e[w];if(0!=w&&t==e[w-1])_[w]=_[w-1];else if(w>U&&t==e[w-U])_[w]=_[w-U];else{let e=y[t];if(null==e&&(y[t]=e=E.length,E.push(t),E.length>=300))break;_[w]=e}}}const C=E.length;C<=256&&0==u&&(A=C<=2?1:C<=4?2:C<=16?4:8,A=Math.max(A,c));for(p=0;p<b.length;p++){(B=b[p]).rect.x,B.rect.y;U=B.rect.width;const e=B.rect.height;let t=B.img;new Uint32Array(t.buffer);let r=4*U,i=4;if(C<=256&&0==u){r=Math.ceil(A*U/8);var I=new Uint8Array(r*e);const o=F[p];for(let t=0;t<e;t++){w=t*r;const e=t*U;if(8==A)for(var Q=0;Q<U;Q++)I[w+Q]=o[e+Q];else if(4==A)for(Q=0;Q<U;Q++)I[w+(Q>>1)]|=o[e+Q]<<4-4*(1&Q);else if(2==A)for(Q=0;Q<U;Q++)I[w+(Q>>2)]|=o[e+Q]<<6-2*(3&Q);else if(1==A)for(Q=0;Q<U;Q++)I[w+(Q>>3)]|=o[e+Q]<<7-1*(7&Q)}t=I,d=3,i=1}else if(0==v&&1==b.length){I=new Uint8Array(U*e*3);const o=U*e;for(w=0;w<o;w++){const e=3*w,r=4*w;I[e]=t[r],I[e+1]=t[r+1],I[e+2]=t[r+2]}t=I,d=2,i=3,r=3*U}B.img=t,B.bpl=r,B.bpp=i}return{ctype:d,depth:A,plte:E,frames:b}}function _updateFrame(t,r,i,o,a,s,f){const l=Uint8Array,c=Uint32Array,u=new l(t[a-1]),h=new c(t[a-1]),d=a+1<t.length?new l(t[a+1]):null,A=new l(t[a]),g=new c(A.buffer);let p=r,m=i,w=-1,v=-1;for(let e=0;e<s.height;e++)for(let t=0;t<s.width;t++){const i=s.x+t,f=s.y+e,l=f*r+i,c=g[l];0==c||0==o[a-1].dispose&&h[l]==c&&(null==d||0!=d[4*l+3])||(i<p&&(p=i),i>w&&(w=i),f<m&&(m=f),f>v&&(v=f))}-1==w&&(p=m=w=v=0),f&&(1==(1&p)&&p--,1==(1&m)&&m--),s={x:p,y:m,width:w-p+1,height:v-m+1};const b=o[a];b.rect=s,b.blend=1,b.img=new Uint8Array(s.width*s.height*4),0==o[a-1].dispose?(e(u,r,i,b.img,s.width,s.height,-s.x,-s.y,0),_prepareDiff(A,r,i,b.img,s)):e(A,r,i,b.img,s.width,s.height,-s.x,-s.y,0)}function _prepareDiff(t,r,i,o,a){e(t,r,i,o,a.width,a.height,-a.x,-a.y,2)}function _filterZero(e,t,r,i,o,a,s){const f=[];let l,c=[0,1,2,3,4];-1!=a?c=[a]:(t*i>5e5||1==r)&&(c=[0]),s&&(l={level:0});const u=UZIP;for(var h=0;h<c.length;h++){for(let a=0;a<t;a++)_filterLine(o,e,a,i,r,c[h]);f.push(u.deflate(o,l))}let d,A=1e9;for(h=0;h<f.length;h++)f[h].length<A&&(d=h,A=f[h].length);return f[d]}function _filterLine(e,t,i,o,a,s){const f=i*o;let l=f+i;if(e[l]=s,l++,0==s)if(o<500)for(var c=0;c<o;c++)e[l+c]=t[f+c];else e.set(new Uint8Array(t.buffer,f,o),l);else if(1==s){for(c=0;c<a;c++)e[l+c]=t[f+c];for(c=a;c<o;c++)e[l+c]=t[f+c]-t[f+c-a]+256&255}else if(0==i){for(c=0;c<a;c++)e[l+c]=t[f+c];if(2==s)for(c=a;c<o;c++)e[l+c]=t[f+c];if(3==s)for(c=a;c<o;c++)e[l+c]=t[f+c]-(t[f+c-a]>>1)+256&255;if(4==s)for(c=a;c<o;c++)e[l+c]=t[f+c]-r(t[f+c-a],0,0)+256&255}else{if(2==s)for(c=0;c<o;c++)e[l+c]=t[f+c]+256-t[f+c-o]&255;if(3==s){for(c=0;c<a;c++)e[l+c]=t[f+c]+256-(t[f+c-o]>>1)&255;for(c=a;c<o;c++)e[l+c]=t[f+c]+256-(t[f+c-o]+t[f+c-a]>>1)&255}if(4==s){for(c=0;c<a;c++)e[l+c]=t[f+c]+256-r(0,t[f+c-o],0)&255;for(c=a;c<o;c++)e[l+c]=t[f+c]+256-r(t[f+c-a],t[f+c-o],t[f+c-a-o])&255}}}function quantize(e,t){const r=new Uint8Array(e),i=r.slice(0),o=new Uint32Array(i.buffer),a=getKDtree(i,t),s=a[0],f=a[1],l=r.length,c=new Uint8Array(l>>2);let u;if(r.length<2e7)for(var h=0;h<l;h+=4){u=getNearest(s,d=r[h]*(1/255),A=r[h+1]*(1/255),g=r[h+2]*(1/255),p=r[h+3]*(1/255)),c[h>>2]=u.ind,o[h>>2]=u.est.rgba}else for(h=0;h<l;h+=4){var d=r[h]*(1/255),A=r[h+1]*(1/255),g=r[h+2]*(1/255),p=r[h+3]*(1/255);for(u=s;u.left;)u=planeDst(u.est,d,A,g,p)<=0?u.left:u.right;c[h>>2]=u.ind,o[h>>2]=u.est.rgba}return{abuf:i.buffer,inds:c,plte:f}}function getKDtree(e,t,r){null==r&&(r=1e-4);const i=new Uint32Array(e.buffer),o={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};o.bst=stats(e,o.i0,o.i1),o.est=estats(o.bst);const a=[o];for(;a.length<t;){let t=0,o=0;for(var s=0;s<a.length;s++)a[s].est.L>t&&(t=a[s].est.L,o=s);if(t<r)break;const f=a[o],l=splitPixels(e,i,f.i0,f.i1,f.est.e,f.est.eMq255);if(f.i0>=l||f.i1<=l){f.est.L=0;continue}const c={i0:f.i0,i1:l,bst:null,est:null,tdst:0,left:null,right:null};c.bst=stats(e,c.i0,c.i1),c.est=estats(c.bst);const u={i0:l,i1:f.i1,bst:null,est:null,tdst:0,left:null,right:null};u.bst={R:[],m:[],N:f.bst.N-c.bst.N};for(s=0;s<16;s++)u.bst.R[s]=f.bst.R[s]-c.bst.R[s];for(s=0;s<4;s++)u.bst.m[s]=f.bst.m[s]-c.bst.m[s];u.est=estats(u.bst),f.left=c,f.right=u,a[o]=c,a.push(u)}a.sort(((e,t)=>t.bst.N-e.bst.N));for(s=0;s<a.length;s++)a[s].ind=s;return[o,a]}function getNearest(e,t,r,i,o){if(null==e.left)return e.tdst=function dist(e,t,r,i,o){const a=t-e[0],s=r-e[1],f=i-e[2],l=o-e[3];return a*a+s*s+f*f+l*l}(e.est.q,t,r,i,o),e;const a=planeDst(e.est,t,r,i,o);let s=e.left,f=e.right;a>0&&(s=e.right,f=e.left);const l=getNearest(s,t,r,i,o);if(l.tdst<=a*a)return l;const c=getNearest(f,t,r,i,o);return c.tdst<l.tdst?c:l}function planeDst(e,t,r,i,o){const{e:a}=e;return a[0]*t+a[1]*r+a[2]*i+a[3]*o-e.eMq}function splitPixels(e,t,r,i,o,a){for(i-=4;r<i;){for(;vecDot(e,r,o)<=a;)r+=4;for(;vecDot(e,i,o)>a;)i-=4;if(r>=i)break;const s=t[r>>2];t[r>>2]=t[i>>2],t[i>>2]=s,r+=4,i-=4}for(;vecDot(e,r,o)>a;)r-=4;return r+4}function vecDot(e,t,r){return e[t]*r[0]+e[t+1]*r[1]+e[t+2]*r[2]+e[t+3]*r[3]}function stats(e,t,r){const i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=[0,0,0,0],a=r-t>>2;for(let a=t;a<r;a+=4){const t=e[a]*(1/255),r=e[a+1]*(1/255),s=e[a+2]*(1/255),f=e[a+3]*(1/255);o[0]+=t,o[1]+=r,o[2]+=s,o[3]+=f,i[0]+=t*t,i[1]+=t*r,i[2]+=t*s,i[3]+=t*f,i[5]+=r*r,i[6]+=r*s,i[7]+=r*f,i[10]+=s*s,i[11]+=s*f,i[15]+=f*f}return i[4]=i[1],i[8]=i[2],i[9]=i[6],i[12]=i[3],i[13]=i[7],i[14]=i[11],{R:i,m:o,N:a}}function estats(e){const{R:t}=e,{m:r}=e,{N:i}=e,a=r[0],s=r[1],f=r[2],l=r[3],c=0==i?0:1/i,u=[t[0]-a*a*c,t[1]-a*s*c,t[2]-a*f*c,t[3]-a*l*c,t[4]-s*a*c,t[5]-s*s*c,t[6]-s*f*c,t[7]-s*l*c,t[8]-f*a*c,t[9]-f*s*c,t[10]-f*f*c,t[11]-f*l*c,t[12]-l*a*c,t[13]-l*s*c,t[14]-l*f*c,t[15]-l*l*c],h=u,d=o;let A=[Math.random(),Math.random(),Math.random(),Math.random()],g=0,p=0;if(0!=i)for(let e=0;e<16&&(A=d.multVec(h,A),p=Math.sqrt(d.dot(A,A)),A=d.sml(1/p,A),!(0!=e&&Math.abs(p-g)<1e-9));e++)g=p;const m=[a*c,s*c,f*c,l*c];return{Cov:u,q:m,e:A,L:g,eMq255:d.dot(d.sml(255,m),A),eMq:d.dot(A,m),rgba:(Math.round(255*m[3])<<24|Math.round(255*m[2])<<16|Math.round(255*m[1])<<8|Math.round(255*m[0])<<0)>>>0}}var o={multVec:(e,t)=>[e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],e[4]*t[0]+e[5]*t[1]+e[6]*t[2]+e[7]*t[3],e[8]*t[0]+e[9]*t[1]+e[10]*t[2]+e[11]*t[3],e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]*t[3]],dot:(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],sml:(e,t)=>[e*t[0],e*t[1],e*t[2],e*t[3]]};UPNG.encode=function encode(e,t,r,i,o,a,s){null==i&&(i=0),null==s&&(s=!1);const f=compress(e,t,r,i,[!1,!1,!1,0,s,!1]);return compressPNG(f,-1),_main(f,t,r,o,a)},UPNG.encodeLL=function encodeLL(e,t,r,i,o,a,s,f){const l={ctype:0+(1==i?0:2)+(0==o?0:4),depth:a,frames:[]},c=(i+o)*a,u=c*t;for(let i=0;i<e.length;i++)l.frames.push({rect:{x:0,y:0,width:t,height:r},img:new Uint8Array(e[i]),blend:0,dispose:1,bpp:Math.ceil(c/8),bpl:Math.ceil(u/8)});return compressPNG(l,0,!0),_main(l,t,r,s,f)},UPNG.encode.compress=compress,UPNG.encode.dither=dither,UPNG.quantize=quantize,UPNG.quantize.getKDtree=getKDtree,UPNG.quantize.getNearest=getNearest}();const r={toArrayBuffer(e,t){const i=e.width,o=e.height,a=i<<2,s=e.getContext(\"2d\").getImageData(0,0,i,o),f=new Uint32Array(s.data.buffer),l=(32*i+31)/32<<2,c=l*o,u=122+c,h=new ArrayBuffer(u),d=new DataView(h),A=1<<20;let g,p,m,w,v=A,b=0,y=0,E=0;function set16(e){d.setUint16(y,e,!0),y+=2}function set32(e){d.setUint32(y,e,!0),y+=4}function seek(e){y+=e}set16(19778),set32(u),seek(4),set32(122),set32(108),set32(i),set32(-o>>>0),set16(1),set16(32),set32(3),set32(c),set32(2835),set32(2835),seek(8),set32(16711680),set32(65280),set32(255),set32(4278190080),set32(1466527264),function convert(){for(;b<o&&v>0;){for(w=122+b*l,g=0;g<a;)v--,p=f[E++],m=p>>>24,d.setUint32(w+g,p<<8|m),g+=4;b++}E<f.length?(v=A,setTimeout(convert,r._dly)):t(h)}()},toBlob(e,t){this.toArrayBuffer(e,(e=>{t(new Blob([e],{type:\"image/bmp\"}))}))},_dly:9};var i={CHROME:\"CHROME\",FIREFOX:\"FIREFOX\",DESKTOP_SAFARI:\"DESKTOP_SAFARI\",IE:\"IE\",IOS:\"IOS\",ETC:\"ETC\"},o={[i.CHROME]:16384,[i.FIREFOX]:11180,[i.DESKTOP_SAFARI]:16384,[i.IE]:8192,[i.IOS]:4096,[i.ETC]:8192};const a=\"undefined\"!=typeof window,s=\"undefined\"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,f=a&&window.cordova&&window.cordova.require&&window.cordova.require(\"cordova/modulemapper\"),CustomFile=(a||s)&&(f&&f.getOriginalSymbol(window,\"File\")||\"undefined\"!=typeof File&&File),CustomFileReader=(a||s)&&(f&&f.getOriginalSymbol(window,\"FileReader\")||\"undefined\"!=typeof FileReader&&FileReader);function getFilefromDataUrl(e,t,r=Date.now()){return new Promise((i=>{const o=e.split(\",\"),a=o[0].match(/:(.*?);/)[1],s=globalThis.atob(o[1]);let f=s.length;const l=new Uint8Array(f);for(;f--;)l[f]=s.charCodeAt(f);const c=new Blob([l],{type:a});c.name=t,c.lastModified=r,i(c)}))}function getDataUrlFromFile(e){return new Promise(((t,r)=>{const i=new CustomFileReader;i.onload=()=>t(i.result),i.onerror=e=>r(e),i.readAsDataURL(e)}))}function loadImage(e){return new Promise(((t,r)=>{const i=new Image;i.onload=()=>t(i),i.onerror=e=>r(e),i.src=e}))}function getBrowserName(){if(void 0!==getBrowserName.cachedResult)return getBrowserName.cachedResult;let e=i.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=i.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=i.IOS:/Safari/i.test(t)?e=i.DESKTOP_SAFARI:/Firefox/i.test(t)?e=i.FIREFOX:(/MSIE/i.test(t)||!0==!!document.documentMode)&&(e=i.IE),getBrowserName.cachedResult=e,getBrowserName.cachedResult}function approximateBelowMaximumCanvasSizeOfBrowser(e,t){const r=getBrowserName(),i=o[r];let a=e,s=t,f=a*s;const l=a>s?s/a:a/s;for(;f>i*i;){const e=(i+a)/2,t=(i+s)/2;e<t?(s=t,a=t*l):(s=e*l,a=e),f=a*s}return{width:a,height:s}}function getNewCanvasAndCtx(e,t){let r,i;try{if(r=new OffscreenCanvas(e,t),i=r.getContext(\"2d\"),null===i)throw new Error(\"getContext of OffscreenCanvas returns null\")}catch(e){r=document.createElement(\"canvas\"),i=r.getContext(\"2d\")}return r.width=e,r.height=t,[r,i]}function drawImageInCanvas(e,t){const{width:r,height:i}=approximateBelowMaximumCanvasSizeOfBrowser(e.width,e.height),[o,a]=getNewCanvasAndCtx(r,i);return t&&/jpe?g/.test(t)&&(a.fillStyle=\"white\",a.fillRect(0,0,o.width,o.height)),a.drawImage(e,0,0,o.width,o.height),o}function isIOS(){return void 0!==isIOS.cachedResult||(isIOS.cachedResult=[\"iPad Simulator\",\"iPhone Simulator\",\"iPod Simulator\",\"iPad\",\"iPhone\",\"iPod\"].includes(navigator.platform)||navigator.userAgent.includes(\"Mac\")&&\"undefined\"!=typeof document&&\"ontouchend\"in document),isIOS.cachedResult}function drawFileInCanvas(e,t={}){return new Promise((function(r,o){let a,s;var $Try_2_Post=function(){try{return s=drawImageInCanvas(a,t.fileType||e.type),r([a,s])}catch(e){return o(e)}},$Try_2_Catch=function(t){try{0;var $Try_3_Catch=function(e){try{throw e}catch(e){return o(e)}};try{let t;return getDataUrlFromFile(e).then((function(e){try{return t=e,loadImage(t).then((function(e){try{return a=e,function(){try{return $Try_2_Post()}catch(e){return o(e)}}()}catch(e){return $Try_3_Catch(e)}}),$Try_3_Catch)}catch(e){return $Try_3_Catch(e)}}),$Try_3_Catch)}catch(e){$Try_3_Catch(e)}}catch(e){return o(e)}};try{if(isIOS()||[i.DESKTOP_SAFARI,i.MOBILE_SAFARI].includes(getBrowserName()))throw new Error(\"Skip createImageBitmap on IOS and Safari\");return createImageBitmap(e).then((function(e){try{return a=e,$Try_2_Post()}catch(e){return $Try_2_Catch()}}),$Try_2_Catch)}catch(e){$Try_2_Catch()}}))}function canvasToFile(e,t,i,o,a=1){return new Promise((function(s,f){let l;if(\"image/png\"===t){let c,u,h;return c=e.getContext(\"2d\"),({data:u}=c.getImageData(0,0,e.width,e.height)),h=UPNG.encode([u.buffer],e.width,e.height,4096*a),l=new Blob([h],{type:t}),l.name=i,l.lastModified=o,$If_4.call(this)}{if(\"image/bmp\"===t)return new Promise((t=>r.toBlob(e,t))).then(function(e){try{return l=e,l.name=i,l.lastModified=o,$If_5.call(this)}catch(e){return f(e)}}.bind(this),f);{if(\"function\"==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:a}).then(function(e){try{return l=e,l.name=i,l.lastModified=o,$If_6.call(this)}catch(e){return f(e)}}.bind(this),f);{let d;return d=e.toDataURL(t,a),getFilefromDataUrl(d,i,o).then(function(e){try{return l=e,$If_6.call(this)}catch(e){return f(e)}}.bind(this),f)}function $If_6(){return $If_5.call(this)}}function $If_5(){return $If_4.call(this)}}function $If_4(){return s(l)}}))}function cleanupCanvasMemory(e){e.width=0,e.height=0}function isAutoOrientationInBrowser(){return new Promise((function(e,t){let r,i,o,a,s;return void 0!==isAutoOrientationInBrowser.cachedResult?e(isAutoOrientationInBrowser.cachedResult):(r=\"data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==\",getFilefromDataUrl(\"data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==\",\"test.jpg\",Date.now()).then((function(r){try{return i=r,drawFileInCanvas(i).then((function(r){try{return o=r[1],canvasToFile(o,i.type,i.name,i.lastModified).then((function(r){try{return a=r,cleanupCanvasMemory(o),drawFileInCanvas(a).then((function(r){try{return s=r[0],isAutoOrientationInBrowser.cachedResult=1===s.width&&2===s.height,e(isAutoOrientationInBrowser.cachedResult)}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t))}))}function getExifOrientation(e){return new Promise(((t,r)=>{const i=new CustomFileReader;i.onload=e=>{const r=new DataView(e.target.result);if(65496!=r.getUint16(0,!1))return t(-2);const i=r.byteLength;let o=2;for(;o<i;){if(r.getUint16(o+2,!1)<=8)return t(-1);const e=r.getUint16(o,!1);if(o+=2,65505==e){if(1165519206!=r.getUint32(o+=2,!1))return t(-1);const e=18761==r.getUint16(o+=6,!1);o+=r.getUint32(o+4,e);const i=r.getUint16(o,e);o+=2;for(let a=0;a<i;a++)if(274==r.getUint16(o+12*a,e))return t(r.getUint16(o+12*a+8,e))}else{if(65280!=(65280&e))break;o+=r.getUint16(o,!1)}}return t(-1)},i.onerror=e=>r(e),i.readAsArrayBuffer(e)}))}function handleMaxWidthOrHeight(e,t){const{width:r}=e,{height:i}=e,{maxWidthOrHeight:o}=t;let a,s=e;return isFinite(o)&&(r>o||i>o)&&([s,a]=getNewCanvasAndCtx(r,i),r>i?(s.width=o,s.height=i/r*o):(s.width=r/i*o,s.height=o),a.drawImage(e,0,0,s.width,s.height),cleanupCanvasMemory(e)),s}function followExifOrientation(e,t){const{width:r}=e,{height:i}=e,[o,a]=getNewCanvasAndCtx(r,i);switch(t>4&&t<9?(o.width=i,o.height=r):(o.width=r,o.height=i),t){case 2:a.transform(-1,0,0,1,r,0);break;case 3:a.transform(-1,0,0,-1,r,i);break;case 4:a.transform(1,0,0,-1,0,i);break;case 5:a.transform(0,1,1,0,0,0);break;case 6:a.transform(0,1,-1,0,i,0);break;case 7:a.transform(0,-1,-1,0,i,r);break;case 8:a.transform(0,-1,1,0,0,r)}return a.drawImage(e,0,0,r,i),cleanupCanvasMemory(e),o}function compress(e,t,r=0){return new Promise((function(i,o){let a,s,f,l,c,u,h,d,A,g,p,m,w,v,b,y,E,F,_,B;function incProgress(e=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;a+=e,t.onProgress(Math.min(a,100))}function setProgress(e){if(t.signal&&t.signal.aborted)throw t.signal.reason;a=Math.min(Math.max(e,a),100),t.onProgress(a)}return a=r,s=t.maxIteration||10,f=1024*t.maxSizeMB*1024,incProgress(),drawFileInCanvas(e,t).then(function(r){try{return[,l]=r,incProgress(),c=handleMaxWidthOrHeight(l,t),incProgress(),new Promise((function(r,i){var o;if(!(o=t.exifOrientation))return getExifOrientation(e).then(function(e){try{return o=e,$If_2.call(this)}catch(e){return i(e)}}.bind(this),i);function $If_2(){return r(o)}return $If_2.call(this)})).then(function(r){try{return u=r,incProgress(),isAutoOrientationInBrowser().then(function(r){try{return h=r?c:followExifOrientation(c,u),incProgress(),d=t.initialQuality||1,A=t.fileType||e.type,canvasToFile(h,A,e.name,e.lastModified,d).then(function(r){try{{if(g=r,incProgress(),p=g.size>f,m=g.size>e.size,!p&&!m)return setProgress(100),i(g);var a;function $Loop_3(){if(s--&&(b>f||b>w)){let t,r;return t=B?.95*_.width:_.width,r=B?.95*_.height:_.height,[E,F]=getNewCanvasAndCtx(t,r),F.drawImage(_,0,0,t,r),d*=\"image/png\"===A?.85:.95,canvasToFile(E,A,e.name,e.lastModified,d).then((function(e){try{return y=e,cleanupCanvasMemory(_),_=E,b=y.size,setProgress(Math.min(99,Math.floor((v-b)/(v-f)*100))),$Loop_3}catch(e){return o(e)}}),o)}return[1]}return w=e.size,v=g.size,b=v,_=h,B=!t.alwaysKeepResolution&&p,(a=function(e){for(;e;){if(e.then)return void e.then(a,o);try{if(e.pop){if(e.length)return e.pop()?$Loop_3_exit.call(this):e;e=$Loop_3}else e=e.call(this)}catch(e){return o(e)}}}.bind(this))($Loop_3);function $Loop_3_exit(){return cleanupCanvasMemory(_),cleanupCanvasMemory(E),cleanupCanvasMemory(c),cleanupCanvasMemory(h),cleanupCanvasMemory(l),setProgress(100),i(y)}}}catch(u){return o(u)}}.bind(this),o)}catch(e){return o(e)}}.bind(this),o)}catch(e){return o(e)}}.bind(this),o)}catch(e){return o(e)}}.bind(this),o)}))}const l=\"\\nlet scriptImported = false\\nself.addEventListener('message', async (e) => {\\n  const { file, id, imageCompressionLibUrl, options } = e.data\\n  options.onProgress = (progress) => self.postMessage({ progress, id })\\n  try {\\n    if (!scriptImported) {\\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\\n      self.importScripts(imageCompressionLibUrl)\\n      scriptImported = true\\n    }\\n    // console.log('[worker] self', self)\\n    const compressedFile = await imageCompression(file, options)\\n    self.postMessage({ file: compressedFile, id })\\n  } catch (e) {\\n    // console.error('[worker] error', e)\\n    self.postMessage({ error: e.message + '\\\\n' + e.stack, id })\\n  }\\n})\\n\";let c;function compressOnWebWorker(e,t){return new Promise(((r,i)=>{c||(c=function createWorkerScriptURL(e){const t=[];return\"function\"==typeof e?t.push(`(${e})()`):t.push(e),URL.createObjectURL(new Blob(t))}(l));const o=new Worker(c);o.addEventListener(\"message\",(function handler(e){if(t.signal&&t.signal.aborted)o.terminate();else if(void 0===e.data.progress){if(e.data.error)return i(new Error(e.data.error)),void o.terminate();r(e.data.file),o.terminate()}else t.onProgress(e.data.progress)})),o.addEventListener(\"error\",i),t.signal&&t.signal.addEventListener(\"abort\",(()=>{i(t.signal.reason),o.terminate()})),o.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})}))}function imageCompression(e,t){return new Promise((function(r,i){let o,a,s,f,l,c;if(o={...t},s=0,({onProgress:f}=o),o.maxSizeMB=o.maxSizeMB||Number.POSITIVE_INFINITY,l=\"boolean\"!=typeof o.useWebWorker||o.useWebWorker,delete o.useWebWorker,o.onProgress=e=>{s=e,\"function\"==typeof f&&f(s)},!(e instanceof Blob||e instanceof CustomFile))return i(new Error(\"The file given is not an instance of Blob or File\"));if(!/^image/.test(e.type))return i(new Error(\"The file given is not an image\"));if(c=\"undefined\"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!l||\"function\"!=typeof Worker||c)return compress(e,o).then(function(e){try{return a=e,$If_4.call(this)}catch(e){return i(e)}}.bind(this),i);var u=function(){try{return $If_4.call(this)}catch(e){return i(e)}}.bind(this),$Try_1_Catch=function(t){try{return compress(e,o).then((function(e){try{return a=e,u()}catch(e){return i(e)}}),i)}catch(e){return i(e)}};try{return o.libURL=o.libURL||\"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js\",compressOnWebWorker(e,o).then((function(e){try{return a=e,u()}catch(e){return $Try_1_Catch()}}),$Try_1_Catch)}catch(e){$Try_1_Catch()}function $If_4(){try{a.name=e.name,a.lastModified=e.lastModified}catch(e){}try{o.preserveExif&&\"image/jpeg\"===e.type&&(!o.fileType||o.fileType&&o.fileType===e.type)&&(a=copyExifWithoutOrientation(e,a))}catch(e){}return r(a)}}))}imageCompression.getDataUrlFromFile=getDataUrlFromFile,imageCompression.getFilefromDataUrl=getFilefromDataUrl,imageCompression.loadImage=loadImage,imageCompression.drawImageInCanvas=drawImageInCanvas,imageCompression.drawFileInCanvas=drawFileInCanvas,imageCompression.canvasToFile=canvasToFile,imageCompression.getExifOrientation=getExifOrientation,imageCompression.handleMaxWidthOrHeight=handleMaxWidthOrHeight,imageCompression.followExifOrientation=followExifOrientation,imageCompression.cleanupCanvasMemory=cleanupCanvasMemory,imageCompression.isAutoOrientationInBrowser=isAutoOrientationInBrowser,imageCompression.approximateBelowMaximumCanvasSizeOfBrowser=approximateBelowMaximumCanvasSizeOfBrowser,imageCompression.copyExifWithoutOrientation=copyExifWithoutOrientation,imageCompression.getBrowserName=getBrowserName,imageCompression.version=\"2.0.2\";export{imageCompression as default};\n//# sourceMappingURL=browser-image-compression.mjs.map\n","import React, { useState, useRef } from 'react';\r\nimport { Camera, Upload, X } from 'lucide-react';\r\nimport { Button } from '../../../shared/ui/button';\r\nimport { PhotoUploadProps } from '../types';\r\nimport imageCompression from 'browser-image-compression';\r\n\r\nexport function PhotoUpload({ \r\n  onPhotoCapture, \r\n  maxSizeMB = 1, \r\n  disabled = false \r\n}: PhotoUploadProps) {\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [isCameraOpen, setIsCameraOpen] = useState(false);\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n  const videoRef = useRef<HTMLVideoElement>(null);\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const streamRef = useRef<MediaStream | null>(null);\r\n\r\n  const compressImage = async (file: File): Promise<string> => {\r\n    try {\r\n      const options = {\r\n        maxSizeMB,\r\n        maxWidthOrHeight: 1920,\r\n        useWebWorker: true,\r\n        fileType: 'image/jpeg' as const,\r\n        quality: 0.8\r\n      };\r\n      \r\n      const compressedFile = await imageCompression(file, options);\r\n      \r\n      return new Promise((resolve, reject) => {\r\n        const reader = new FileReader();\r\n        reader.onload = () => resolve(reader.result as string);\r\n        reader.onerror = reject;\r\n        reader.readAsDataURL(compressedFile);\r\n      });\r\n    } catch (error) {\r\n      console.error('Image compression failed:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    if (!file.type.startsWith('image/')) {\r\n      alert('Please select an image file');\r\n      return;\r\n    }\r\n\r\n    setIsProcessing(true);\r\n    try {\r\n      const compressedImageData = await compressImage(file);\r\n      onPhotoCapture(compressedImageData);\r\n    } catch (error) {\r\n      console.error('Failed to process image:', error);\r\n      alert('Failed to process image. Please try again.');\r\n    } finally {\r\n      setIsProcessing(false);\r\n      // Reset file input\r\n      if (fileInputRef.current) {\r\n        fileInputRef.current.value = '';\r\n      }\r\n    }\r\n  };\r\n\r\n  const startCamera = async () => {\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({ \r\n        video: { facingMode: 'environment' } // Use back camera on mobile\r\n      });\r\n      \r\n      streamRef.current = stream;\r\n      if (videoRef.current) {\r\n        videoRef.current.srcObject = stream;\r\n        videoRef.current.play();\r\n        setIsCameraOpen(true);\r\n      }\r\n    } catch (error) {\r\n      console.error('Camera access failed:', error);\r\n      alert('Camera access denied. Please use file upload instead.');\r\n    }\r\n  };\r\n\r\n  const stopCamera = () => {\r\n    if (streamRef.current) {\r\n      streamRef.current.getTracks().forEach(track => track.stop());\r\n      streamRef.current = null;\r\n    }\r\n    setIsCameraOpen(false);\r\n  };\r\n\r\n  const capturePhoto = async () => {\r\n    if (!videoRef.current || !canvasRef.current) return;\r\n\r\n    const canvas = canvasRef.current;\r\n    const video = videoRef.current;\r\n    const context = canvas.getContext('2d');\r\n    \r\n    if (!context) return;\r\n\r\n    // Set canvas size to video size\r\n    canvas.width = video.videoWidth;\r\n    canvas.height = video.videoHeight;\r\n    \r\n    // Draw current video frame to canvas\r\n    context.drawImage(video, 0, 0);\r\n    \r\n    setIsProcessing(true);\r\n    try {\r\n      // Convert canvas to blob\r\n      const blob = await new Promise<Blob>((resolve) => {\r\n        canvas.toBlob((blob) => resolve(blob!), 'image/jpeg', 0.8);\r\n      });\r\n      \r\n      // Create file from blob for compression\r\n      const file = new File([blob], 'camera-capture.jpg', { type: 'image/jpeg' });\r\n      const compressedImageData = await compressImage(file);\r\n      \r\n      onPhotoCapture(compressedImageData);\r\n      stopCamera();\r\n    } catch (error) {\r\n      console.error('Failed to capture photo:', error);\r\n      alert('Failed to capture photo. Please try again.');\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  if (isCameraOpen) {\r\n    return (\r\n      <div className=\"relative\">\r\n        <video \r\n          ref={videoRef}\r\n          className=\"w-full max-w-md mx-auto rounded-lg\"\r\n          autoPlay\r\n          playsInline\r\n          muted\r\n        />\r\n        <canvas ref={canvasRef} className=\"hidden\" />\r\n        \r\n        <div className=\"flex justify-center gap-4 mt-4\">\r\n          <Button \r\n            onClick={capturePhoto}\r\n            disabled={isProcessing}\r\n            className=\"bg-blue-600 hover:bg-blue-700\"\r\n          >\r\n            {isProcessing ? 'Processing...' : 'Capture Photo'}\r\n          </Button>\r\n          <Button \r\n            onClick={stopCamera}\r\n            variant=\"outline\"\r\n            disabled={isProcessing}\r\n          >\r\n            <X className=\"w-4 h-4 mr-2\" />\r\n            Cancel\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex gap-4 justify-center\">\r\n        <Button\r\n          onClick={startCamera}\r\n          disabled={disabled || isProcessing}\r\n          className=\"flex items-center gap-2\"\r\n        >\r\n          <Camera className=\"w-4 h-4\" />\r\n          Take Photo\r\n        </Button>\r\n        \r\n        <Button\r\n          onClick={() => fileInputRef.current?.click()}\r\n          disabled={disabled || isProcessing}\r\n          variant=\"outline\"\r\n          className=\"flex items-center gap-2\"\r\n        >\r\n          <Upload className=\"w-4 h-4\" />\r\n          Upload Photo\r\n        </Button>\r\n      </div>\r\n\r\n      <input\r\n        ref={fileInputRef}\r\n        type=\"file\"\r\n        accept=\"image/*\"\r\n        onChange={handleFileUpload}\r\n        className=\"hidden\"\r\n        aria-label=\"Upload photo\"\r\n      />\r\n      \r\n      {isProcessing && (\r\n        <div className=\"text-center text-sm text-gray-600\">\r\n          Processing image...\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n} ","import { IdentifiedFood, ValidationResult } from '../types';\r\n\r\ninterface NutritionData {\r\n  calories: number;\r\n  protein: number;\r\n  carbs: number;\r\n  fat: number;\r\n  commonPortions: string[];\r\n}\r\n\r\n// Basic nutrition database for validation\r\nconst NUTRITION_DATABASE: Record<string, NutritionData> = {\r\n  // Proteins\r\n  'grilled chicken breast': { calories: 165, protein: 31, carbs: 0, fat: 3.6, commonPortions: ['3 oz', '4 oz', '6 oz'] },\r\n  'salmon fillet': { calories: 206, protein: 22, carbs: 0, fat: 12, commonPortions: ['3 oz', '4 oz', '6 oz'] },\r\n  'ground beef': { calories: 250, protein: 26, carbs: 0, fat: 15, commonPortions: ['3 oz', '4 oz', '1/4 lb'] },\r\n  'eggs': { calories: 70, protein: 6, carbs: 0.6, fat: 5, commonPortions: ['1 large', '2 large', '3 large'] },\r\n  \r\n  // Carbs\r\n  'white rice': { calories: 130, protein: 2.7, carbs: 28, fat: 0.3, commonPortions: ['1/2 cup', '1 cup', '1.5 cups'] },\r\n  'brown rice': { calories: 112, protein: 2.6, carbs: 23, fat: 0.9, commonPortions: ['1/2 cup', '1 cup', '1.5 cups'] },\r\n  'pasta': { calories: 131, protein: 5, carbs: 25, fat: 1.1, commonPortions: ['1/2 cup', '1 cup', '1.5 cups'] },\r\n  'bread slice': { calories: 79, protein: 2.3, carbs: 14, fat: 1.1, commonPortions: ['1 slice', '2 slices', '3 slices'] },\r\n  \r\n  // Vegetables\r\n  'steamed broccoli': { calories: 25, protein: 3, carbs: 5, fat: 0.3, commonPortions: ['1/2 cup', '1 cup', '1.5 cups'] },\r\n  'mixed salad': { calories: 20, protein: 1.5, carbs: 4, fat: 0.2, commonPortions: ['1 cup', '2 cups', '3 cups'] },\r\n  'carrots': { calories: 25, protein: 0.5, carbs: 6, fat: 0.1, commonPortions: ['1/2 cup', '1 cup', '1 medium'] },\r\n  \r\n  // Fast Food\r\n  'pizza slice': { calories: 285, protein: 12, carbs: 36, fat: 10, commonPortions: ['1 slice', '2 slices', '3 slices'] },\r\n  'hamburger': { calories: 354, protein: 20, carbs: 32, fat: 16, commonPortions: ['1 burger', '1 small', '1 large'] },\r\n  'french fries': { calories: 365, protein: 4, carbs: 63, fat: 17, commonPortions: ['small', 'medium', 'large'] },\r\n  \r\n  // Fruits\r\n  'apple': { calories: 95, protein: 0.5, carbs: 25, fat: 0.3, commonPortions: ['1 medium', '1 large', '1 small'] },\r\n  'banana': { calories: 105, protein: 1.3, carbs: 27, fat: 0.4, commonPortions: ['1 medium', '1 large', '1 small'] },\r\n  'orange': { calories: 62, protein: 1.2, carbs: 15, fat: 0.2, commonPortions: ['1 medium', '1 large', '1 small'] }\r\n};\r\n\r\nexport class NutritionValidator {\r\n  \r\n  async validateFoods(foods: IdentifiedFood[]): Promise<ValidationResult> {\r\n    const corrections: string[] = [];\r\n    let totalConfidence = 0;\r\n    let validatedFoods = 0;\r\n\r\n    for (const food of foods) {\r\n      const validation = this.validateSingleFood(food);\r\n      \r\n      if (validation.isValid) {\r\n        validatedFoods++;\r\n        totalConfidence += food.confidence;\r\n      } else {\r\n        corrections.push(...validation.corrections);\r\n      }\r\n    }\r\n\r\n    const overallConfidence = validatedFoods > 0 ? totalConfidence / validatedFoods : 0;\r\n    const isValid = corrections.length === 0 && validatedFoods > 0;\r\n\r\n    return {\r\n      isValid,\r\n      corrections,\r\n      confidence: overallConfidence\r\n    };\r\n  }\r\n\r\n  private validateSingleFood(food: IdentifiedFood): ValidationResult {\r\n    const normalizedName = food.name.toLowerCase();\r\n    const nutritionData = this.findNutritionData(normalizedName);\r\n    const corrections: string[] = [];\r\n\r\n    if (!nutritionData) {\r\n      corrections.push(`Unknown food: \"${food.name}\" - using estimated values`);\r\n      return {\r\n        isValid: false,\r\n        corrections,\r\n        confidence: food.confidence * 0.7 // Reduce confidence for unknown foods\r\n      };\r\n    }\r\n\r\n    // Validate portion size\r\n    const isPortionValid = this.validatePortion(food.portion, nutritionData.commonPortions);\r\n    if (!isPortionValid) {\r\n      corrections.push(`Unusual portion for ${food.name}: \"${food.portion}\"`);\r\n    }\r\n\r\n    // Validate confidence threshold\r\n    if (food.confidence < 0.6) {\r\n      corrections.push(`Low confidence for ${food.name}: ${(food.confidence * 100).toFixed(0)}%`);\r\n    }\r\n\r\n    return {\r\n      isValid: corrections.length === 0,\r\n      corrections,\r\n      confidence: food.confidence\r\n    };\r\n  }\r\n\r\n  private findNutritionData(foodName: string): NutritionData | null {\r\n    // Direct match\r\n    if (NUTRITION_DATABASE[foodName]) {\r\n      return NUTRITION_DATABASE[foodName];\r\n    }\r\n\r\n    // Fuzzy matching for common variations\r\n    const keys = Object.keys(NUTRITION_DATABASE);\r\n    for (const key of keys) {\r\n      if (foodName.includes(key) || key.includes(foodName)) {\r\n        return NUTRITION_DATABASE[key];\r\n      }\r\n    }\r\n\r\n    // Check for common food words\r\n    const foodWords = foodName.split(' ');\r\n    for (const word of foodWords) {\r\n      for (const key of keys) {\r\n        if (key.includes(word) && word.length > 3) {\r\n          return NUTRITION_DATABASE[key];\r\n        }\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  private validatePortion(portion: string, commonPortions: string[]): boolean {\r\n    const normalizedPortion = portion.toLowerCase();\r\n    \r\n    return commonPortions.some(common => {\r\n      const normalizedCommon = common.toLowerCase();\r\n      return normalizedPortion.includes(normalizedCommon) || \r\n             normalizedCommon.includes(normalizedPortion);\r\n    });\r\n  }\r\n\r\n  // Get nutrition data for a food item\r\n  getNutritionData(foodName: string): NutritionData | null {\r\n    return this.findNutritionData(foodName.toLowerCase());\r\n  }\r\n\r\n  // Estimate calories based on portion and food type\r\n  estimateCalories(foodName: string, portion: string): number {\r\n    const nutritionData = this.findNutritionData(foodName.toLowerCase());\r\n    if (!nutritionData) {\r\n      return 150; // Default estimate for unknown foods\r\n    }\r\n\r\n    // Simple portion multiplier logic\r\n    const portionMultiplier = this.getPortionMultiplier(portion);\r\n    return Math.round(nutritionData.calories * portionMultiplier);\r\n  }\r\n\r\n  private getPortionMultiplier(portion: string): number {\r\n    const normalizedPortion = portion.toLowerCase();\r\n    \r\n    // Extract numbers from portion string\r\n    const numberMatch = normalizedPortion.match(/(\\d+(?:\\.\\d+)?)/);\r\n    const baseNumber = numberMatch ? parseFloat(numberMatch[1]) : 1;\r\n\r\n    // Adjust based on portion type\r\n    if (normalizedPortion.includes('large')) return baseNumber * 1.5;\r\n    if (normalizedPortion.includes('small')) return baseNumber * 0.7;\r\n    if (normalizedPortion.includes('medium')) return baseNumber * 1.0;\r\n    if (normalizedPortion.includes('cup')) return baseNumber * 1.0;\r\n    if (normalizedPortion.includes('slice')) return baseNumber * 1.0;\r\n    if (normalizedPortion.includes('oz')) return baseNumber / 3; // 3oz is typical serving\r\n    \r\n    return baseNumber;\r\n  }\r\n} ","import { \r\n  FoodAnalysisAgentConfig, \r\n  FoodAnalysisResult, \r\n  IdentifiedFood, \r\n  CalorieEstimate,\r\n  ValidationResult \r\n} from '../types';\r\nimport { NutritionValidator } from './NutritionValidator';\r\n\r\nexport class FoodAnalysisAgent {\r\n  private config: FoodAnalysisAgentConfig;\r\n  private nutritionValidator: NutritionValidator;\r\n\r\n  constructor(config: FoodAnalysisAgentConfig) {\r\n    this.config = {\r\n      maxTokens: 1000,\r\n      temperature: 0.1,\r\n      ...config\r\n    };\r\n    this.nutritionValidator = new NutritionValidator();\r\n  }\r\n\r\n  async analyzePhoto(imageData: string, retries: number = 2): Promise<FoodAnalysisResult> {\r\n    const startTime = Date.now();\r\n    \r\n    // Validate image data\r\n    if (!imageData || !imageData.startsWith('data:image/')) {\r\n      throw new Error('Invalid image data format');\r\n    }\r\n    \r\n    let lastError: Error | null = null;\r\n    \r\n    for (let attempt = 0; attempt <= retries; attempt++) {\r\n      try {\r\n        const response = await this.callOpenAIVision(imageData);\r\n        const analysisTime = Date.now() - startTime;\r\n        \r\n        // Validate response\r\n        if (!response.foods || response.foods.length === 0) {\r\n          throw new Error('No foods detected in image');\r\n        }\r\n        \r\n        return {\r\n          ...response,\r\n          analysisTime\r\n        };\r\n      } catch (error) {\r\n        lastError = error instanceof Error ? error : new Error('Unknown error');\r\n        console.warn(`Food analysis attempt ${attempt + 1} failed:`, lastError.message);\r\n        \r\n        if (attempt < retries) {\r\n          // Wait before retry (exponential backoff)\r\n          await new Promise(resolve => setTimeout(resolve, Math.pow(2, attempt) * 1000));\r\n        }\r\n      }\r\n    }\r\n    \r\n    console.error('Food analysis failed after all retries:', lastError);\r\n    throw new Error(`Failed to analyze food image: ${lastError?.message || 'Unknown error'}`);\r\n  }\r\n\r\n  async estimateCalories(foods: IdentifiedFood[]): Promise<CalorieEstimate[]> {\r\n    const estimates: CalorieEstimate[] = [];\r\n    \r\n    for (const food of foods) {\r\n      // Basic calorie estimation logic - in production this would use a nutrition database\r\n      const estimate = this.estimateCaloriesForFood(food);\r\n      estimates.push(estimate);\r\n    }\r\n    \r\n    return estimates;\r\n  }\r\n\r\n  async validateNutrition(foods: IdentifiedFood[]): Promise<ValidationResult> {\r\n    return await this.nutritionValidator.validateFoods(foods);\r\n  }\r\n\r\n  private async callOpenAIVision(imageData: string): Promise<Omit<FoodAnalysisResult, 'analysisTime'>> {\r\n    const prompt = `Analyze this food image and identify all food items visible. For each food item, provide:\r\n1. Name of the food\r\n2. Estimated portion size (e.g., \"1 cup\", \"6 oz\", \"1 slice\")\r\n3. Confidence score (0-1)\r\n4. Estimated calories\r\n\r\nRespond in JSON format:\r\n{\r\n  \"foods\": [\r\n    {\r\n      \"name\": \"food name\",\r\n      \"portion\": \"portion size\",\r\n      \"confidence\": 0.95,\r\n      \"category\": \"food category\"\r\n    }\r\n  ],\r\n  \"totalCalories\": 450,\r\n  \"confidence\": 0.88\r\n}`;\r\n\r\n    const payload = {\r\n      model: this.config.model,\r\n      messages: [\r\n        {\r\n          role: 'user',\r\n          content: [\r\n            {\r\n              type: 'text',\r\n              text: prompt\r\n            },\r\n            {\r\n              type: 'image_url',\r\n              image_url: {\r\n                url: imageData\r\n              }\r\n            }\r\n          ]\r\n        }\r\n      ],\r\n      max_tokens: this.config.maxTokens,\r\n      temperature: this.config.temperature\r\n    };\r\n\r\n    const response = await fetch('https://api.openai.com/v1/chat/completions', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${this.config.apiKey}`\r\n      },\r\n      body: JSON.stringify(payload)\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`OpenAI API error: ${response.status} ${response.statusText}`);\r\n    }\r\n\r\n    const data = await response.json();\r\n    const content = data.choices[0]?.message?.content;\r\n    \r\n    if (!content) {\r\n      throw new Error('No response from OpenAI API');\r\n    }\r\n\r\n    try {\r\n      const parsed = JSON.parse(content);\r\n      return {\r\n        foods: parsed.foods || [],\r\n        totalCalories: parsed.totalCalories || 0,\r\n        confidence: parsed.confidence || 0\r\n      };\r\n    } catch (error) {\r\n      console.error('Failed to parse OpenAI response:', content);\r\n      throw new Error('Invalid response format from AI');\r\n    }\r\n  }\r\n\r\n  private estimateCaloriesForFood(food: IdentifiedFood): CalorieEstimate {\r\n    const nutritionData = this.nutritionValidator.getNutritionData(food.name);\r\n    const calories = this.nutritionValidator.estimateCalories(food.name, food.portion);\r\n\r\n    if (nutritionData) {\r\n      return {\r\n        food: food.name,\r\n        calories,\r\n        macros: {\r\n          protein: nutritionData.protein,\r\n          carbs: nutritionData.carbs,\r\n          fat: nutritionData.fat\r\n        },\r\n        confidence: food.confidence\r\n      };\r\n    }\r\n\r\n    // Fallback for unknown foods\r\n    return {\r\n      food: food.name,\r\n      calories,\r\n      macros: {\r\n        protein: 5,\r\n        carbs: 20,\r\n        fat: 5\r\n      },\r\n      confidence: food.confidence * 0.7 // Reduce confidence for unknown foods\r\n    };\r\n  }\r\n} ","import React, { useState } from 'react'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/shared/ui/card'\r\nimport { Button } from '@/shared/ui/button'\r\nimport { Input } from '@/shared/ui/input'\r\nimport { Label } from '@/shared/ui/label'\r\nimport { UtensilsCrossed, Plus, Calendar, Clock, Camera } from 'lucide-react'\r\nimport { useMealStore } from '../store'\r\nimport { MealType, MealEntryInput, FoodAnalysisResult } from '../types'\r\nimport { Badge } from '@/shared/ui/badge'\r\nimport { useTouchFeedback, useResponsiveBreakpoint } from '@/shared/hooks/useMobileInteractions'\r\nimport { PhotoUpload } from './PhotoUpload'\r\nimport { FoodAnalysisAgent } from '../services/FoodAnalysisAgent'\r\nimport { keyVaultService } from '@/services/keyVaultService'\r\n\r\nexport function MealEntryForm() {\r\n  const [mealType, setMealType] = useState<MealType>(() => {\r\n    // Smart default based on time of day\r\n    const hour = new Date().getHours()\r\n    if (hour < 10) return 'breakfast'\r\n    if (hour < 15) return 'lunch'\r\n    if (hour < 20) return 'dinner'\r\n    return 'snack'\r\n  })\r\n  const [foodName, setFoodName] = useState('')\r\n  const [calories, setCalories] = useState('')\r\n  const [isExpanded, setIsExpanded] = useState(false)\r\n  const [showPhotoUpload, setShowPhotoUpload] = useState(false)\r\n  const [isAnalyzing, setIsAnalyzing] = useState(false)\r\n  const [analysisResult, setAnalysisResult] = useState<FoodAnalysisResult | null>(null)\r\n  const [analysisError, setAnalysisError] = useState<string | null>(null)\r\n  const [errors, setErrors] = useState<{ foodName?: string; calories?: string }>({})\r\n\r\n  const { isLoading, addMeal } = useMealStore()\r\n  \r\n  // Mobile interactions\r\n  const { isMobile } = useResponsiveBreakpoint()\r\n  const buttonFeedback = useTouchFeedback<HTMLButtonElement>({ \r\n    scale: 0.95, \r\n    haptic: true \r\n  })\r\n\r\n  const validateForm = () => {\r\n    const newErrors: { foodName?: string; calories?: string } = {}\r\n\r\n    if (!foodName.trim()) {\r\n      newErrors.foodName = 'Food name is required'\r\n    }\r\n\r\n    const caloriesNum = parseFloat(calories)\r\n    if (!calories) {\r\n      newErrors.calories = 'Calories are required'\r\n    } else if (isNaN(caloriesNum) || caloriesNum <= 0) {\r\n      newErrors.calories = 'Calories must be a positive number'\r\n    } else if (caloriesNum >= 5000) {\r\n      newErrors.calories = 'Calories must be less than 5000'\r\n    }\r\n\r\n    setErrors(newErrors)\r\n    return Object.keys(newErrors).length === 0\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n\r\n    if (!validateForm()) {\r\n      return\r\n    }\r\n\r\n    try {\r\n      const mealInput: MealEntryInput = {\r\n        type: mealType,\r\n        foods: [{\r\n          name: foodName.trim(),\r\n          quantity: 1,\r\n          unit: 'serving',\r\n          calories: parseFloat(calories),\r\n          macros: {\r\n            protein: 0, // TODO: Add macro inputs\r\n            carbs: 0,\r\n            fat: 0,\r\n            fiber: 0,\r\n          }\r\n        }],\r\n        notes: '',\r\n      }\r\n\r\n      await addMeal(mealInput)\r\n\r\n      // Reset form\r\n      setFoodName('')\r\n      setCalories('')\r\n      setErrors({})\r\n      setIsExpanded(false)\r\n    } catch (error) {\r\n      console.error('Failed to add meal:', error)\r\n    }\r\n  }\r\n\r\n  const handleKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter' && foodName.trim() && calories.trim()) {\r\n      handleSubmit(e as React.FormEvent)\r\n    }\r\n  }\r\n\r\n  const getMealTypeIcon = (type: MealType) => {\r\n    switch (type) {\r\n      case 'breakfast': return ''\r\n      case 'lunch': return ''\r\n      case 'dinner': return ''\r\n      case 'snack': return ''\r\n    }\r\n  }\r\n\r\n  const getMealTypeColor = (type: MealType) => {\r\n    switch (type) {\r\n      case 'breakfast': return 'text-yellow-400'\r\n      case 'lunch': return 'text-orange-400'\r\n      case 'dinner': return 'text-purple-400'\r\n      case 'snack': return 'text-green-400'\r\n    }\r\n  }\r\n\r\n  const handlePhotoAnalysis = async (imageData: string) => {\r\n    setIsAnalyzing(true)\r\n    setAnalysisError(null)\r\n    setAnalysisResult(null)\r\n    \r\n    try {\r\n      // Get OpenAI API key from environment\r\n      const apiKey = await keyVaultService.getSecret('OPENAI_API_KEY')\r\n      if (!apiKey) {\r\n        throw new Error('OpenAI API key not configured. Please check your environment setup.')\r\n      }\r\n\r\n      const agent = new FoodAnalysisAgent({\r\n        apiKey,\r\n        model: 'gpt-4o-mini'\r\n      })\r\n\r\n      const result = await agent.analyzePhoto(imageData)\r\n      setAnalysisResult(result)\r\n\r\n      // Auto-populate form with first detected food\r\n      if (result.foods.length > 0) {\r\n        const primaryFood = result.foods[0]\r\n        setFoodName(primaryFood.name)\r\n        \r\n        // Calculate calories more intelligently\r\n        const estimatedCalories = result.totalCalories || \r\n          (result.foods.reduce((sum, food) => sum + (food.confidence * 200), 0)) // Fallback estimation\r\n        setCalories(Math.round(estimatedCalories).toString())\r\n      }\r\n\r\n      // Keep photo upload section open for review\r\n      // setShowPhotoUpload(false) - Let user review results first\r\n    } catch (error) {\r\n      console.error('Photo analysis failed:', error)\r\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred'\r\n      setAnalysisError(`Analysis failed: ${errorMessage}`)\r\n    } finally {\r\n      setIsAnalyzing(false)\r\n    }\r\n  }\r\n\r\n  const handleAcceptAnalysis = () => {\r\n    setShowPhotoUpload(false)\r\n    setAnalysisError(null)\r\n  }\r\n\r\n  const handleRetryAnalysis = () => {\r\n    setAnalysisResult(null)\r\n    setAnalysisError(null)\r\n    // Keep photo upload open for retry\r\n  }\r\n\r\n  return (\r\n    <Card className={`cyber-card mobile-card mobile-responsive ${isMobile ? 'galaxy-s24-ultra-optimized' : ''}`}>\r\n      <CardHeader className=\"mobile-layout\">\r\n        <CardTitle className=\"cyber-subtitle flex items-center gap-2 text-plasma-cyan mobile-heading\">\r\n          <UtensilsCrossed className=\"cyber-icon h-5 w-5\" />\r\n          Log Meal Entry\r\n        </CardTitle>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-4 mobile-form-spacing\">\r\n        {/* Quick entry row - always visible */}\r\n        <div className=\"flex gap-2 mobile-button-group\">\r\n          <Input\r\n            id=\"meal-quick\"\r\n            type=\"text\"\r\n            placeholder=\"Enter food (e.g., chicken salad)\"\r\n            value={foodName}\r\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\r\n              setFoodName(e.target.value)\r\n            }\r\n            onKeyPress={handleKeyPress}\r\n            className={`\r\n              flex-1 font-mono touch-target mobile-body\r\n              focus:border-plasma-cyan focus:ring-plasma-cyan/20 border-gray-600 bg-gray-900 text-white\r\n              ${errors.foodName ? 'border-red-500' : ''}\r\n            `}\r\n            disabled={isLoading}\r\n            aria-label=\"Food name\"\r\n          />\r\n          <Input\r\n            type=\"number\"\r\n            placeholder=\"Cal\"\r\n            value={calories}\r\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\r\n              setCalories(e.target.value)\r\n            }\r\n            onKeyPress={handleKeyPress}\r\n            className={`\r\n              w-20 font-mono touch-target mobile-body\r\n              focus:border-plasma-cyan focus:ring-plasma-cyan/20 border-gray-600 bg-gray-900 text-white\r\n              ${errors.calories ? 'border-red-500' : ''}\r\n            `}\r\n            disabled={isLoading}\r\n            aria-label=\"Calories\"\r\n          />\r\n          <Button\r\n            onClick={() => setShowPhotoUpload(!showPhotoUpload)}\r\n            variant=\"outline\"\r\n            size=\"icon\"\r\n            className={`border-gray-600 bg-transparent text-gray-300 hover:bg-gray-800 touch-target ${showPhotoUpload ? 'bg-gray-800' : ''}`}\r\n            title=\"Analyze meal photo\"\r\n            aria-label=\"Take or upload meal photo\"\r\n            disabled={isAnalyzing}\r\n          >\r\n            <Camera className=\"h-4 w-4\" />\r\n          </Button>\r\n          <Button\r\n            onClick={() => setIsExpanded(!isExpanded)}\r\n            variant=\"outline\"\r\n            size=\"icon\"\r\n            className={`border-gray-600 bg-transparent text-gray-300 hover:bg-gray-800 touch-target ${isExpanded ? 'bg-gray-800' : ''}`}\r\n            title=\"Meal options\"\r\n            aria-label=\"Toggle meal options\"\r\n          >\r\n            <Clock className=\"h-4 w-4\" />\r\n          </Button>\r\n          <Button\r\n            ref={buttonFeedback.elementRef}\r\n            onClick={handleSubmit}\r\n            variant=\"cyber-ki\"\r\n            disabled={isLoading || !foodName.trim() || !calories.trim()}\r\n            className=\"touch-target mobile-button\"\r\n            aria-label=\"Log meal entry\"\r\n          >\r\n            <Plus className=\"mr-2 h-4 w-4\" />\r\n            {isLoading ? 'LOGGING...' : 'LOG'}\r\n          </Button>\r\n        </div>\r\n\r\n        {/* Error display */}\r\n        {(errors.foodName || errors.calories) && (\r\n          <div className=\"space-y-1\">\r\n            {errors.foodName && (\r\n              <p className=\"font-mono text-sm text-red-400\">{errors.foodName}</p>\r\n            )}\r\n            {errors.calories && (\r\n              <p className=\"font-mono text-sm text-red-400\">{errors.calories}</p>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Photo Upload Section */}\r\n        {showPhotoUpload && (\r\n          <div className=\"border-t border-gray-700 pt-4\">\r\n            <Label className=\"cyber-label text-gray-300 mb-2 block\">\r\n               Analyze Meal Photo\r\n            </Label>\r\n            <PhotoUpload \r\n              onPhotoCapture={handlePhotoAnalysis}\r\n              disabled={isAnalyzing}\r\n              maxSizeMB={1}\r\n            />\r\n            {isAnalyzing && (\r\n              <div className=\"text-center mt-4\">\r\n                <p className=\"text-plasma-cyan animate-pulse\">Analyzing your meal...</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Analysis Error */}\r\n        {analysisError && (\r\n          <div className=\"border border-red-500/20 rounded-lg p-4 bg-red-900/10\">\r\n            <h4 className=\"text-red-400 font-mono text-sm mb-2\">\r\n               Analysis Error\r\n            </h4>\r\n            <p className=\"text-red-300 text-sm mb-3\">{analysisError}</p>\r\n            <div className=\"flex gap-2\">\r\n              <Button\r\n                onClick={handleRetryAnalysis}\r\n                size=\"sm\"\r\n                variant=\"outline\"\r\n                className=\"border-red-500 text-red-400 hover:bg-red-900/20\"\r\n              >\r\n                Try Again\r\n              </Button>\r\n              <Button\r\n                onClick={() => setShowPhotoUpload(false)}\r\n                size=\"sm\"\r\n                variant=\"outline\"\r\n                className=\"border-gray-600 text-gray-400\"\r\n              >\r\n                Cancel\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Analysis Results */}\r\n        {analysisResult && (\r\n          <div className=\"border border-plasma-cyan/20 rounded-lg p-4 bg-gray-900/50\">\r\n            <h4 className=\"text-plasma-cyan font-mono text-sm mb-2\">\r\n               AI Analysis Results (Confidence: {(analysisResult.confidence * 100).toFixed(0)}%)\r\n            </h4>\r\n            <div className=\"space-y-2\">\r\n              {analysisResult.foods.map((food, index) => (\r\n                <div key={index} className=\"flex justify-between items-center text-sm\" data-testid=\"detected-food-item\">\r\n                  <span className=\"text-gray-300\">\r\n                    {food.name} ({food.portion})\r\n                  </span>\r\n                  <Badge variant=\"outline\" className=\"text-xs\">\r\n                    {(food.confidence * 100).toFixed(0)}%\r\n                  </Badge>\r\n                </div>\r\n              ))}\r\n              <div className=\"border-t border-gray-700 pt-2 mt-2\">\r\n                <p className=\"text-sm text-gray-400\">\r\n                  Total Calories: <span className=\"text-plasma-cyan\">{analysisResult.totalCalories}</span>\r\n                </p>\r\n                <p className=\"text-xs text-gray-500 mt-1\">\r\n                  Analysis time: {(analysisResult.analysisTime / 1000).toFixed(1)}s\r\n                </p>\r\n              </div>\r\n              <div className=\"flex gap-2 mt-3 pt-2 border-t border-gray-700\">\r\n                <Button\r\n                  onClick={handleAcceptAnalysis}\r\n                  size=\"sm\"\r\n                  className=\"bg-plasma-cyan text-black hover:bg-plasma-cyan/80\"\r\n                >\r\n                   Accept & Use\r\n                </Button>\r\n                <Button\r\n                  onClick={handleRetryAnalysis}\r\n                  size=\"sm\"\r\n                  variant=\"outline\"\r\n                  className=\"border-gray-600 text-gray-400\"\r\n                >\r\n                   Analyze Again\r\n                </Button>\r\n                <Button\r\n                  onClick={() => setShowPhotoUpload(false)}\r\n                  size=\"sm\"\r\n                  variant=\"outline\"\r\n                  className=\"border-gray-600 text-gray-400\"\r\n                >\r\n                  Cancel\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Meal type selection - expandable */}\r\n        {isExpanded && (\r\n          <div className=\"space-y-3 border-t border-gray-700 pt-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label className=\"cyber-label text-gray-300\">\r\n                Meal Type\r\n              </Label>\r\n              <div className=\"grid grid-cols-2 gap-2\">\r\n                {(['breakfast', 'lunch', 'dinner', 'snack'] as MealType[]).map((type) => (\r\n                  <Button\r\n                    key={type}\r\n                    type=\"button\"\r\n                    variant=\"outline\"\r\n                    size=\"sm\"\r\n                    onClick={() => setMealType(type)}\r\n                    className={`\r\n                      border-gray-600 bg-transparent text-gray-300 hover:bg-gray-800 \r\n                      ${mealType === type ? `bg-gray-800 ${getMealTypeColor(type)}` : ''}\r\n                    `}\r\n                  >\r\n                    <span className=\"mr-2\">{getMealTypeIcon(type)}</span>\r\n                    {type.charAt(0).toUpperCase() + type.slice(1)}\r\n                  </Button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Meal preview with context */}\r\n        {foodName.trim() && calories.trim() && (\r\n          <div className=\"cyber-card rounded-lg bg-gray-900/50 p-3\">\r\n            <div className=\"flex items-center justify-between text-sm\">\r\n              <span className=\"font-medium text-gray-300\">Meal Preview:</span>\r\n              <div className=\"flex items-center gap-2\">\r\n                <Badge variant=\"outline\" className={`text-xs ${getMealTypeColor(mealType)}`}>\r\n                  <span className=\"mr-1\">{getMealTypeIcon(mealType)}</span>\r\n                  {mealType}\r\n                </Badge>\r\n                <Badge variant=\"outline\" className=\"font-mono text-xs\">\r\n                  {parseFloat(calories).toFixed(0)} cal\r\n                </Badge>\r\n                <Badge variant=\"outline\" className=\"text-xs\">\r\n                  <Calendar className=\"mr-1 h-3 w-3\" />\r\n                  {new Date().toLocaleDateString()}\r\n                </Badge>\r\n              </div>\r\n            </div>\r\n            <div className=\"mt-2 text-sm text-gray-400\">\r\n              {foodName}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Additional tips */}\r\n        <div className=\"flex items-center justify-between text-xs text-gray-500\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <UtensilsCrossed className=\"h-3 w-3\" />\r\n            <span>Press Enter to log quickly</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <Clock className=\"h-3 w-3\" />\r\n            <span>Smart meal type by time</span>\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n} ","import { Card, CardContent, CardHeader, CardTitle } from '@/shared/ui/card'\r\nimport { Badge } from '@/shared/ui/badge'\r\nimport { Progress } from '@/shared/ui/progress'\r\nimport { UtensilsCrossed, TrendingUp, Target, BarChart3, Flame } from 'lucide-react'\r\nimport { useMealStore } from '../store'\r\nimport { MealType } from '../types'\r\nimport { useResponsiveBreakpoint } from '@/shared/hooks/useMobileInteractions'\r\n\r\nexport function MealAnalytics() {\r\n  const { meals, analytics, isAnalyticsLoading } = useMealStore()\r\n  \r\n  // Mobile responsiveness\r\n  const { isMobile } = useResponsiveBreakpoint()\r\n\r\n  if (isAnalyticsLoading) {\r\n    return (\r\n      <Card className={`cyber-card mobile-card mobile-responsive ${isMobile ? 'galaxy-s24-ultra-optimized' : ''}`}>\r\n        <CardContent className=\"p-6\">\r\n          <div className=\"flex items-center justify-center\">\r\n            <div className=\"shimmer h-8 w-32 rounded bg-gray-700\"></div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  if (!analytics || meals.length === 0) {\r\n    return null\r\n  }\r\n\r\n  const getMealTypeIcon = (type: MealType) => {\r\n    switch (type) {\r\n      case 'breakfast': return ''\r\n      case 'lunch': return ''\r\n      case 'dinner': return ''\r\n      case 'snack': return ''\r\n    }\r\n  }\r\n\r\n  const getMealTypeColor = (type: MealType) => {\r\n    switch (type) {\r\n      case 'breakfast': return 'text-yellow-400'\r\n      case 'lunch': return 'text-orange-400'\r\n      case 'dinner': return 'text-purple-400'\r\n      case 'snack': return 'text-green-400'\r\n    }\r\n  }\r\n\r\n  // Calculate daily calorie goal (simplified - could be based on user profile)\r\n  const dailyCalorieGoal = 2000\r\n  const todayCalories = meals\r\n    .filter(meal => {\r\n      const mealDate = new Date(meal.timestamp).toDateString()\r\n      const today = new Date().toDateString()\r\n      return mealDate === today\r\n    })\r\n    .reduce((sum, meal) => sum + meal.nutrition.calories, 0)\r\n\r\n  const calorieProgress = Math.min(100, (todayCalories / dailyCalorieGoal) * 100)\r\n\r\n  return (\r\n    <div className={`space-y-6 ${isMobile ? 'mobile-layout' : ''}`}>\r\n      {/* Main Analytics Card */}\r\n      <Card className={`cyber-card mobile-card mobile-responsive ${isMobile ? 'galaxy-s24-ultra-optimized' : ''}`}>\r\n        <CardHeader className=\"mobile-layout\">\r\n          <CardTitle className=\"cyber-subtitle flex items-center gap-2 text-plasma-cyan mobile-heading\">\r\n            <BarChart3 className=\"cyber-icon h-5 w-5\" />\r\n            Nutrition Analytics\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-6 mobile-form-spacing\">\r\n          {/* Key Metrics */}\r\n          <div className={`grid ${isMobile ? 'grid-cols-2' : 'grid-cols-4'} gap-4 text-center mobile-grid`}>\r\n            <div className=\"text-center\">\r\n              <div className=\"gradient-text-cyan metric-display text-2xl font-bold\">\r\n                {analytics.totalMeals}\r\n              </div>\r\n              <div className=\"font-mono text-xs text-gray-400\">Total Meals</div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <div className=\"gradient-text-ki metric-display text-2xl font-bold\">\r\n                {Math.round(analytics.averageCalories)}\r\n              </div>\r\n              <div className=\"font-mono text-xs text-gray-400\">Avg Calories</div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <div className=\"gradient-text-magenta metric-display text-2xl font-bold\">\r\n                {analytics.streak}\r\n              </div>\r\n              <div className=\"font-mono text-xs text-gray-400\">Day Streak</div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <div className=\"gradient-text-plasma metric-display text-2xl font-bold\">\r\n                {Math.round(todayCalories)}\r\n              </div>\r\n              <div className=\"font-mono text-xs text-gray-400\">Today</div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Daily Calorie Progress */}\r\n          <div className=\"space-y-3\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <Flame className=\"h-4 w-4 text-orange-400\" />\r\n                <span className=\"font-mono text-sm text-gray-300\">Daily Calories</span>\r\n              </div>\r\n              <span className=\"font-mono text-sm text-gray-400\">\r\n                {Math.round(todayCalories)} / {dailyCalorieGoal} cal\r\n              </span>\r\n            </div>\r\n            <Progress \r\n              value={calorieProgress} \r\n              className=\"h-2 bg-gray-800\"\r\n            />\r\n            <div className=\"flex justify-between text-xs text-gray-500\">\r\n              <span>0</span>\r\n              <span className={calorieProgress >= 100 ? 'text-ki-green' : 'text-gray-400'}>\r\n                {calorieProgress >= 100 ? 'Goal Reached!' : `${Math.round(dailyCalorieGoal - todayCalories)} cal remaining`}\r\n              </span>\r\n              <span>{dailyCalorieGoal}</span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Macro Balance */}\r\n          <div className=\"space-y-3\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <Target className=\"h-4 w-4 text-hyper-magenta\" />\r\n              <span className=\"font-mono text-sm text-gray-300\">Macro Balance</span>\r\n            </div>\r\n            <div className=\"grid grid-cols-3 gap-4\">\r\n              <div className=\"text-center\">\r\n                <div className=\"text-orange-400 font-mono text-lg font-semibold\">\r\n                  {Math.round(analytics.macroBalance.protein)}%\r\n                </div>\r\n                <div className=\"font-mono text-xs text-gray-400\">Protein</div>\r\n              </div>\r\n              <div className=\"text-center\">\r\n                <div className=\"text-blue-400 font-mono text-lg font-semibold\">\r\n                  {Math.round(analytics.macroBalance.carbs)}%\r\n                </div>\r\n                <div className=\"font-mono text-xs text-gray-400\">Carbs</div>\r\n              </div>\r\n              <div className=\"text-center\">\r\n                <div className=\"text-yellow-400 font-mono text-lg font-semibold\">\r\n                  {Math.round(analytics.macroBalance.fat)}%\r\n                </div>\r\n                <div className=\"font-mono text-xs text-gray-400\">Fat</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Meal Frequency Analysis */}\r\n      <Card className=\"cyber-card\">\r\n        <CardHeader>\r\n          <CardTitle className=\"cyber-subtitle flex items-center gap-2 text-plasma-cyan\">\r\n            <UtensilsCrossed className=\"cyber-icon h-5 w-5\" />\r\n            Meal Patterns\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            {Object.entries(analytics.mealFrequency).map(([mealType, count]) => (\r\n              <div key={mealType} className=\"flex items-center justify-between p-3 rounded-lg bg-gray-900/50\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <span className=\"text-lg\">{getMealTypeIcon(mealType as MealType)}</span>\r\n                  <div>\r\n                    <div className={`font-mono text-sm font-semibold ${getMealTypeColor(mealType as MealType)}`}>\r\n                      {mealType.charAt(0).toUpperCase() + mealType.slice(1)}\r\n                    </div>\r\n                    <div className=\"font-mono text-xs text-gray-400\">\r\n                      {count} logged\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <Badge variant=\"outline\" className=\"font-mono\">\r\n                  {count}\r\n                </Badge>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Weekly Trends */}\r\n          <div className=\"space-y-3 border-t border-gray-700 pt-4\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <TrendingUp className=\"h-4 w-4 text-ki-green\" />\r\n              <span className=\"font-mono text-sm text-gray-300\">Weekly Summary</span>\r\n            </div>\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div className=\"text-center p-3 rounded-lg bg-gray-900/50\">\r\n                <div className=\"font-mono text-lg font-semibold text-ki-green\">\r\n                  {Math.round(analytics.weeklyCalories)}\r\n                </div>\r\n                <div className=\"font-mono text-xs text-gray-400\">Weekly Calories</div>\r\n              </div>\r\n              <div className=\"text-center p-3 rounded-lg bg-gray-900/50\">\r\n                <div className=\"font-mono text-lg font-semibold text-plasma-cyan\">\r\n                  {Math.round(analytics.weeklyCalories / 7)}\r\n                </div>\r\n                <div className=\"font-mono text-xs text-gray-400\">Daily Average</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n} ","import * as React from 'react'\r\n\r\nimport { cn } from '@/shared/utils/cn'\r\n\r\nexport interface TextareaProps\r\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\r\n\r\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\r\n  ({ className, ...props }, ref) => {\r\n    return (\r\n      <textarea\r\n        className={cn(\r\n          'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nTextarea.displayName = 'Textarea'\r\n\r\nexport { Textarea }\r\n","export type ExerciseType = 'cardio' | 'strength' | 'flexibility' | 'sports' | 'other'\r\nexport type IntensityLevel = 'light' | 'moderate' | 'intense'\r\nexport type HealthTab = 'weight' | 'meals' | 'workout'\r\n\r\nexport interface Exercise {\r\n  id: string\r\n  name: string\r\n  type: ExerciseType\r\n  category: string\r\n  description?: string\r\n  instructions?: string\r\n  muscleGroups?: string[]\r\n  equipment?: string[]\r\n  isCustom: boolean\r\n  createdAt: string\r\n  updatedAt: string\r\n}\r\n\r\nexport interface WorkoutEntry {\r\n  id: string\r\n  exerciseId: string\r\n  exerciseName: string\r\n  exerciseType: ExerciseType\r\n  duration: number // in minutes\r\n  intensity: IntensityLevel\r\n  calories?: number\r\n  notes?: string\r\n  sets?: number\r\n  reps?: number\r\n  weight?: number // in kg for strength training\r\n  distance?: number // in km for cardio\r\n  createdAt: string\r\n  updatedAt: string\r\n}\r\n\r\nexport interface WorkoutTemplate {\r\n  id: string\r\n  name: string\r\n  description?: string\r\n  exercises: {\r\n    exerciseId: string\r\n    exerciseName: string\r\n    duration: number\r\n    intensity: IntensityLevel\r\n    sets?: number\r\n    reps?: number\r\n    weight?: number\r\n    restTime?: number\r\n  }[]\r\n  estimatedDuration: number\r\n  difficulty: IntensityLevel\r\n  tags: string[]\r\n  isCustom: boolean\r\n  createdAt: string\r\n  updatedAt: string\r\n}\r\n\r\nexport interface WorkoutAnalytics {\r\n  totalWorkouts: number\r\n  totalDuration: number // in minutes\r\n  totalCalories: number\r\n  currentStreak: number\r\n  longestStreak: number\r\n  averageIntensity: number\r\n  favoriteExerciseType: ExerciseType\r\n  weeklyGoal: number // minutes per week\r\n  weeklyProgress: number // current week minutes\r\n  monthlyStats: {\r\n    workouts: number\r\n    duration: number\r\n    calories: number\r\n  }\r\n  exerciseTypeBreakdown: Record<ExerciseType, {\r\n    count: number\r\n    duration: number\r\n    calories: number\r\n  }>\r\n}\r\n\r\nexport interface WorkoutGoal {\r\n  id: string\r\n  type: 'duration' | 'frequency' | 'calories' | 'streak'\r\n  target: number\r\n  period: 'daily' | 'weekly' | 'monthly'\r\n  description: string\r\n  isActive: boolean\r\n  createdAt: string\r\n  updatedAt: string\r\n}\r\n\r\n// Common exercise library\r\nexport const EXERCISE_LIBRARY: Omit<Exercise, 'id' | 'createdAt' | 'updatedAt' | 'isCustom'>[] = [\r\n  // Cardio\r\n  { name: 'Running', type: 'cardio', category: 'Running', muscleGroups: ['legs', 'core'], equipment: [] },\r\n  { name: 'Walking', type: 'cardio', category: 'Walking', muscleGroups: ['legs'], equipment: [] },\r\n  { name: 'Cycling', type: 'cardio', category: 'Cycling', muscleGroups: ['legs', 'core'], equipment: ['bike'] },\r\n  { name: 'Swimming', type: 'cardio', category: 'Swimming', muscleGroups: ['full-body'], equipment: ['pool'] },\r\n  { name: 'Jump Rope', type: 'cardio', category: 'HIIT', muscleGroups: ['legs', 'arms', 'core'], equipment: ['jump-rope'] },\r\n  \r\n  // Strength\r\n  { name: 'Push-ups', type: 'strength', category: 'Bodyweight', muscleGroups: ['chest', 'arms', 'core'], equipment: [] },\r\n  { name: 'Pull-ups', type: 'strength', category: 'Bodyweight', muscleGroups: ['back', 'arms'], equipment: ['pull-up-bar'] },\r\n  { name: 'Squats', type: 'strength', category: 'Bodyweight', muscleGroups: ['legs', 'glutes'], equipment: [] },\r\n  { name: 'Deadlifts', type: 'strength', category: 'Weightlifting', muscleGroups: ['back', 'legs', 'core'], equipment: ['barbell'] },\r\n  { name: 'Bench Press', type: 'strength', category: 'Weightlifting', muscleGroups: ['chest', 'arms'], equipment: ['barbell', 'bench'] },\r\n  \r\n  // Flexibility\r\n  { name: 'Yoga', type: 'flexibility', category: 'Yoga', muscleGroups: ['full-body'], equipment: ['yoga-mat'] },\r\n  { name: 'Stretching', type: 'flexibility', category: 'Stretching', muscleGroups: ['full-body'], equipment: [] },\r\n  { name: 'Pilates', type: 'flexibility', category: 'Pilates', muscleGroups: ['core', 'full-body'], equipment: ['yoga-mat'] },\r\n  \r\n  // Sports\r\n  { name: 'Basketball', type: 'sports', category: 'Team Sports', muscleGroups: ['legs', 'core'], equipment: ['basketball'] },\r\n  { name: 'Tennis', type: 'sports', category: 'Racquet Sports', muscleGroups: ['arms', 'legs', 'core'], equipment: ['tennis-racquet'] },\r\n  { name: 'Soccer', type: 'sports', category: 'Team Sports', muscleGroups: ['legs', 'core'], equipment: ['soccer-ball'] },\r\n  \r\n  // Martial Arts\r\n  { name: 'Boxing Training', type: 'cardio', category: 'Martial Arts', muscleGroups: ['arms', 'core', 'legs'], equipment: ['boxing-gloves'] },\r\n  { name: 'Kickboxing', type: 'cardio', category: 'Martial Arts', muscleGroups: ['full-body'], equipment: ['boxing-gloves'] },\r\n  { name: 'Karate Practice', type: 'sports', category: 'Martial Arts', muscleGroups: ['full-body'], equipment: [] },\r\n  { name: 'Taekwondo', type: 'sports', category: 'Martial Arts', muscleGroups: ['legs', 'core'], equipment: [] },\r\n  { name: 'Shadow Boxing', type: 'cardio', category: 'Martial Arts', muscleGroups: ['arms', 'core'], equipment: [] },\r\n]\r\n\r\n// Utility functions\r\nexport const getExerciseTypeColor = (type: ExerciseType): string => {\r\n  switch (type) {\r\n    case 'cardio': return 'text-red-400'\r\n    case 'strength': return 'text-blue-400'\r\n    case 'flexibility': return 'text-green-400'\r\n    case 'sports': return 'text-purple-400'\r\n    case 'other': return 'text-gray-400'\r\n  }\r\n}\r\n\r\nexport const getIntensityColor = (intensity: IntensityLevel): string => {\r\n  switch (intensity) {\r\n    case 'light': return 'text-green-400'\r\n    case 'moderate': return 'text-yellow-400'\r\n    case 'intense': return 'text-red-400'\r\n  }\r\n}\r\n\r\nexport const calculateCalories = (\r\n  exerciseType: ExerciseType,\r\n  duration: number,\r\n  intensity: IntensityLevel,\r\n  weight: number = 70 // default weight in kg\r\n): number => {\r\n  // Base MET values for different exercise types\r\n  const baseMET: Record<ExerciseType, number> = {\r\n    cardio: 8,\r\n    strength: 6,\r\n    flexibility: 3,\r\n    sports: 7,\r\n    other: 5\r\n  }\r\n  \r\n  // Intensity multipliers\r\n  const intensityMultiplier: Record<IntensityLevel, number> = {\r\n    light: 0.7,\r\n    moderate: 1.0,\r\n    intense: 1.4\r\n  }\r\n  \r\n  const met = baseMET[exerciseType] * intensityMultiplier[intensity]\r\n  return Math.round((met * weight * duration) / 60)\r\n} ","\r\n/* eslint-disable @typescript-eslint/ban-ts-comment */\r\n// @ts-nocheck\r\nimport { create } from 'zustand'\r\nimport { supabase } from '@/lib/supabase'\r\n\r\n// Use non-null assertion since supabase should be available in this context\r\nimport { \r\n  WorkoutEntry, \r\n  Exercise, \r\n  WorkoutTemplate, \r\n  WorkoutAnalytics,\r\n  WorkoutGoal,\r\n  EXERCISE_LIBRARY,\r\n  calculateCalories\r\n} from '../types'\r\n\r\ninterface WorkoutStore {\r\n  // State\r\n  workouts: WorkoutEntry[]\r\n  exercises: Exercise[]\r\n  templates: WorkoutTemplate[]\r\n  analytics: WorkoutAnalytics | null\r\n  goals: WorkoutGoal[]\r\n  isLoading: boolean\r\n  error: string | null\r\n\r\n  // Actions\r\n  loadWorkouts: () => Promise<void>\r\n  loadExercises: () => Promise<void>\r\n  loadTemplates: () => Promise<void>\r\n  loadAnalytics: () => Promise<void>\r\n  loadGoals: () => Promise<void>\r\n  \r\n  addWorkout: (workout: Omit<WorkoutEntry, 'id' | 'createdAt' | 'updatedAt'>) => Promise<void>\r\n  updateWorkout: (id: string, updates: Partial<WorkoutEntry>) => Promise<void>\r\n  deleteWorkout: (id: string) => Promise<void>\r\n  \r\n  addExercise: (exercise: Omit<Exercise, 'id' | 'createdAt' | 'updatedAt'>) => Promise<void>\r\n  updateExercise: (id: string, updates: Partial<Exercise>) => Promise<void>\r\n  deleteExercise: (id: string) => Promise<void>\r\n  \r\n  addTemplate: (template: Omit<WorkoutTemplate, 'id' | 'createdAt' | 'updatedAt'>) => Promise<void>\r\n  updateTemplate: (id: string, updates: Partial<WorkoutTemplate>) => Promise<void>\r\n  deleteTemplate: (id: string) => Promise<void>\r\n  \r\n  addGoal: (goal: Omit<WorkoutGoal, 'id' | 'createdAt' | 'updatedAt'>) => Promise<void>\r\n  updateGoal: (id: string, updates: Partial<WorkoutGoal>) => Promise<void>\r\n  deleteGoal: (id: string) => Promise<void>\r\n  \r\n  initializeExerciseLibrary: () => Promise<void>\r\n}\r\n\r\nexport const useWorkoutStore = create<WorkoutStore>((set, get) => ({\r\n  // Initial state\r\n  workouts: [],\r\n  exercises: [],\r\n  templates: [],\r\n  analytics: null,\r\n  goals: [],\r\n  isLoading: false,\r\n  error: null,\r\n\r\n  // Load workouts\r\n  loadWorkouts: async () => {\r\n    set({ isLoading: true, error: null })\r\n    try {\r\n      const { data, error } = await supabase!\r\n        .from('workout_entries')\r\n        .select('*')\r\n        .order('created_at', { ascending: false })\r\n\r\n      if (error) throw error\r\n      set({ workouts: data || [], isLoading: false })\r\n    } catch (error) {\r\n      set({ error: (error as Error).message, isLoading: false })\r\n    }\r\n  },\r\n\r\n  // Load exercises\r\n  loadExercises: async () => {\r\n    set({ isLoading: true, error: null })\r\n    try {\r\n      const { data, error } = await supabase!\r\n        .from('exercises')\r\n        .select('*')\r\n        .order('name')\r\n\r\n      if (error) throw error\r\n      \r\n      // Map snake_case fields to camelCase for the store\r\n      const mappedData = (data || []).map(item => ({\r\n        id: item.id,\r\n        name: item.name,\r\n        type: item.type,\r\n        category: item.category,\r\n        description: item.description,\r\n        instructions: item.instructions,\r\n        muscleGroups: item.muscle_groups, // snake_case to camelCase\r\n        equipment: item.equipment,\r\n        isCustom: item.is_custom, // snake_case to camelCase\r\n        createdAt: item.created_at,\r\n        updatedAt: item.updated_at,\r\n      }))\r\n      \r\n      set({ exercises: mappedData, isLoading: false })\r\n    } catch (error) {\r\n      set({ error: (error as Error).message, isLoading: false })\r\n    }\r\n  },\r\n\r\n  // Load templates\r\n  loadTemplates: async () => {\r\n    set({ isLoading: true, error: null })\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('workout_templates')\r\n        .select('*')\r\n        .order('name')\r\n\r\n      if (error) throw error\r\n      set({ templates: data || [], isLoading: false })\r\n    } catch (error) {\r\n      set({ error: (error as Error).message, isLoading: false })\r\n    }\r\n  },\r\n\r\n  // Load analytics\r\n  loadAnalytics: async () => {\r\n    const { workouts } = get()\r\n    if (workouts.length === 0) return\r\n\r\n    try {\r\n      // Calculate analytics from workouts\r\n      const totalWorkouts = workouts.length\r\n      const totalDuration = workouts.reduce((sum, w) => sum + w.duration, 0)\r\n      const totalCalories = workouts.reduce((sum, w) => sum + (w.calories || 0), 0)\r\n      \r\n      // Calculate streak\r\n      const sortedWorkouts = [...workouts].sort((a, b) => \r\n        new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\r\n      )\r\n      \r\n      let currentStreak = 0\r\n      let longestStreak = 0\r\n      let tempStreak = 0\r\n      \r\n      const today = new Date()\r\n      const workoutDates = new Set(\r\n        sortedWorkouts.map(w => new Date(w.createdAt).toDateString())\r\n      )\r\n      \r\n      // Calculate current streak\r\n      for (let i = 0; i < 30; i++) {\r\n        const checkDate = new Date(today)\r\n        checkDate.setDate(today.getDate() - i)\r\n        \r\n        if (workoutDates.has(checkDate.toDateString())) {\r\n          if (i === 0 || currentStreak > 0) currentStreak++\r\n        } else if (i > 0) {\r\n          break\r\n        }\r\n      }\r\n      \r\n      // Calculate longest streak\r\n      sortedWorkouts.forEach((workout, index) => {\r\n        const workoutDate = new Date(workout.createdAt)\r\n        const prevWorkoutDate = index > 0 ? new Date(sortedWorkouts[index - 1].createdAt) : null\r\n        \r\n        if (!prevWorkoutDate || \r\n            Math.abs(workoutDate.getTime() - prevWorkoutDate.getTime()) <= 24 * 60 * 60 * 1000) {\r\n          tempStreak++\r\n          longestStreak = Math.max(longestStreak, tempStreak)\r\n        } else {\r\n          tempStreak = 1\r\n        }\r\n      })\r\n      \r\n      // Calculate average intensity\r\n      const intensityValues = { light: 1, moderate: 2, intense: 3 }\r\n      const avgIntensity = workouts.reduce((sum, w) => \r\n        sum + intensityValues[w.intensity], 0) / workouts.length\r\n      \r\n      // Exercise type breakdown\r\n      const exerciseTypeBreakdown = workouts.reduce((acc, workout) => {\r\n        const type = workout.exerciseType\r\n        if (!acc[type]) {\r\n          acc[type] = { count: 0, duration: 0, calories: 0 }\r\n        }\r\n        acc[type].count++\r\n        acc[type].duration += workout.duration\r\n        acc[type].calories += workout.calories || 0\r\n        return acc\r\n      }, {} as Record<string, { count: number; duration: number; calories: number }>)\r\n      \r\n      // Find favorite exercise type\r\n      const favoriteExerciseType = Object.entries(exerciseTypeBreakdown)\r\n        .sort(([,a], [,b]) => b.count - a.count)[0]?.[0] || 'cardio'\r\n      \r\n      // Weekly progress\r\n      const weekStart = new Date()\r\n      weekStart.setDate(weekStart.getDate() - weekStart.getDay())\r\n      weekStart.setHours(0, 0, 0, 0)\r\n      \r\n      const weeklyProgress = workouts\r\n        .filter(w => new Date(w.createdAt) >= weekStart)\r\n        .reduce((sum, w) => sum + w.duration, 0)\r\n      \r\n      // Monthly stats\r\n      const monthStart = new Date()\r\n      monthStart.setDate(1)\r\n      monthStart.setHours(0, 0, 0, 0)\r\n      \r\n      const monthlyWorkouts = workouts.filter(w => new Date(w.createdAt) >= monthStart)\r\n      const monthlyStats = {\r\n        workouts: monthlyWorkouts.length,\r\n        duration: monthlyWorkouts.reduce((sum, w) => sum + w.duration, 0),\r\n        calories: monthlyWorkouts.reduce((sum, w) => sum + (w.calories || 0), 0)\r\n      }\r\n\r\n      const analytics: WorkoutAnalytics = {\r\n        totalWorkouts,\r\n        totalDuration,\r\n        totalCalories,\r\n        currentStreak,\r\n        longestStreak,\r\n        averageIntensity: avgIntensity,\r\n        favoriteExerciseType: favoriteExerciseType as 'cardio' | 'strength' | 'flexibility' | 'sports',\r\n        weeklyGoal: 150, // Default WHO recommendation\r\n        weeklyProgress,\r\n        monthlyStats,\r\n        exerciseTypeBreakdown\r\n      }\r\n\r\n      set({ analytics })\r\n    } catch (error) {\r\n      set({ error: (error as Error).message })\r\n    }\r\n  },\r\n\r\n  // Load goals\r\n  loadGoals: async () => {\r\n    set({ isLoading: true, error: null })\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('workout_goals')\r\n        .select('*')\r\n        .order('created_at', { ascending: false })\r\n\r\n      if (error) throw error\r\n      set({ goals: data || [], isLoading: false })\r\n    } catch (error) {\r\n      set({ error: (error as Error).message, isLoading: false })\r\n    }\r\n  },\r\n\r\n  // Add workout\r\n  addWorkout: async (workoutData) => {\r\n    set({ isLoading: true, error: null })\r\n    try {\r\n      // Calculate calories if not provided\r\n      const calories = workoutData.calories || calculateCalories(\r\n        workoutData.exerciseType,\r\n        workoutData.duration,\r\n        workoutData.intensity\r\n      )\r\n\r\n      const { data, error } = await supabase\r\n        .from('workout_entries')\r\n        .insert([{\r\n          ...workoutData,\r\n          calories,\r\n          created_at: new Date().toISOString(),\r\n          updated_at: new Date().toISOString()\r\n        }])\r\n        .select()\r\n        .single()\r\n\r\n      if (error) throw error\r\n\r\n      const { workouts } = get()\r\n      set({ \r\n        workouts: [data, ...workouts],\r\n        isLoading: false \r\n      })\r\n\r\n      // Refresh analytics\r\n      get().loadAnalytics()\r\n    } catch (error) {\r\n      set({ error: (error as Error).message, isLoading: false })\r\n    }\r\n  },\r\n\r\n  // Update workout\r\n  updateWorkout: async (id, updates) => {\r\n    set({ isLoading: true, error: null })\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('workout_entries')\r\n        .update({\r\n          ...updates,\r\n          updated_at: new Date().toISOString()\r\n        })\r\n        .eq('id', id)\r\n        .select()\r\n        .single()\r\n\r\n      if (error) throw error\r\n\r\n      const { workouts } = get()\r\n      set({\r\n        workouts: workouts.map(w => w.id === id ? data : w),\r\n        isLoading: false\r\n      })\r\n\r\n      // Refresh analytics\r\n      get().loadAnalytics()\r\n    } catch (error) {\r\n      set({ error: (error as Error).message, isLoading: false })\r\n    }\r\n  },\r\n\r\n  // Delete workout\r\n  deleteWorkout: async (id) => {\r\n    set({ isLoading: true, error: null })\r\n    try {\r\n      const { error } = await supabase\r\n        .from('workout_entries')\r\n        .delete()\r\n        .eq('id', id)\r\n\r\n      if (error) throw error\r\n\r\n      const { workouts } = get()\r\n      set({\r\n        workouts: workouts.filter(w => w.id !== id),\r\n        isLoading: false\r\n      })\r\n\r\n      // Refresh analytics\r\n      get().loadAnalytics()\r\n    } catch (error) {\r\n      set({ error: (error as Error).message, isLoading: false })\r\n    }\r\n  },\r\n\r\n  // Add exercise\r\n  addExercise: async (exerciseData) => {\r\n    set({ isLoading: true, error: null })\r\n    try {\r\n      // Map camelCase fields to snake_case for database\r\n      const dbData = {\r\n        name: exerciseData.name,\r\n        type: exerciseData.type,\r\n        category: exerciseData.category,\r\n        description: exerciseData.description,\r\n        instructions: exerciseData.instructions,\r\n        muscle_groups: exerciseData.muscleGroups, // camelCase to snake_case\r\n        equipment: exerciseData.equipment,\r\n        is_custom: exerciseData.isCustom, // camelCase to snake_case\r\n        created_at: new Date().toISOString(),\r\n        updated_at: new Date().toISOString()\r\n      }\r\n\r\n      const { data, error } = await supabase\r\n        .from('exercises')\r\n        .insert([dbData])\r\n        .select()\r\n        .single()\r\n\r\n      if (error) throw error\r\n\r\n      // Map snake_case fields back to camelCase for the store\r\n      const mappedData = {\r\n        id: data.id,\r\n        name: data.name,\r\n        type: data.type,\r\n        category: data.category,\r\n        description: data.description,\r\n        instructions: data.instructions,\r\n        muscleGroups: data.muscle_groups, // snake_case to camelCase\r\n        equipment: data.equipment,\r\n        isCustom: data.is_custom, // snake_case to camelCase\r\n        createdAt: data.created_at,\r\n        updatedAt: data.updated_at,\r\n      }\r\n\r\n      const { exercises } = get()\r\n      set({ \r\n        exercises: [...exercises, mappedData],\r\n        isLoading: false \r\n      })\r\n    } catch (error) {\r\n      set({ error: (error as Error).message, isLoading: false })\r\n    }\r\n  },\r\n\r\n  // Update exercise\r\n  updateExercise: async (id, updates) => {\r\n    set({ isLoading: true, error: null })\r\n    try {\r\n      // Map camelCase fields to snake_case for database\r\n      const dbUpdates: Record<string, unknown> = {\r\n        updated_at: new Date().toISOString()\r\n      }\r\n      \r\n      if (updates.name !== undefined) dbUpdates.name = updates.name\r\n      if (updates.type !== undefined) dbUpdates.type = updates.type\r\n      if (updates.category !== undefined) dbUpdates.category = updates.category\r\n      if (updates.description !== undefined) dbUpdates.description = updates.description\r\n      if (updates.instructions !== undefined) dbUpdates.instructions = updates.instructions\r\n      if (updates.muscleGroups !== undefined) dbUpdates.muscle_groups = updates.muscleGroups\r\n      if (updates.equipment !== undefined) dbUpdates.equipment = updates.equipment\r\n      if (updates.isCustom !== undefined) dbUpdates.is_custom = updates.isCustom\r\n\r\n      const { data, error } = await supabase\r\n        .from('exercises')\r\n        .update(dbUpdates)\r\n        .eq('id', id)\r\n        .select()\r\n        .single()\r\n\r\n      if (error) throw error\r\n\r\n      // Map snake_case fields back to camelCase for the store\r\n      const mappedData = {\r\n        id: data.id,\r\n        name: data.name,\r\n        type: data.type,\r\n        category: data.category,\r\n        description: data.description,\r\n        instructions: data.instructions,\r\n        muscleGroups: data.muscle_groups, // snake_case to camelCase\r\n        equipment: data.equipment,\r\n        isCustom: data.is_custom, // snake_case to camelCase\r\n        createdAt: data.created_at,\r\n        updatedAt: data.updated_at,\r\n      }\r\n\r\n      const { exercises } = get()\r\n      set({\r\n        exercises: exercises.map(e => e.id === id ? mappedData : e),\r\n        isLoading: false\r\n      })\r\n    } catch (error) {\r\n      set({ error: (error as Error).message, isLoading: false })\r\n    }\r\n  },\r\n\r\n  // Delete exercise\r\n  deleteExercise: async (id) => {\r\n    set({ isLoading: true, error: null })\r\n    try {\r\n      const { error } = await supabase\r\n        .from('exercises')\r\n        .delete()\r\n        .eq('id', id)\r\n\r\n      if (error) throw error\r\n\r\n      const { exercises } = get()\r\n      set({\r\n        exercises: exercises.filter(e => e.id !== id),\r\n        isLoading: false\r\n      })\r\n    } catch (error) {\r\n      set({ error: (error as Error).message, isLoading: false })\r\n    }\r\n  },\r\n\r\n  // Add template\r\n  addTemplate: async (templateData) => {\r\n    set({ isLoading: true, error: null })\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('workout_templates')\r\n        .insert([{\r\n          ...templateData,\r\n          created_at: new Date().toISOString(),\r\n          updated_at: new Date().toISOString()\r\n        }])\r\n        .select()\r\n        .single()\r\n\r\n      if (error) throw error\r\n\r\n      const { templates } = get()\r\n      set({ \r\n        templates: [...templates, data],\r\n        isLoading: false \r\n      })\r\n    } catch (error) {\r\n      set({ error: (error as Error).message, isLoading: false })\r\n    }\r\n  },\r\n\r\n  // Update template\r\n  updateTemplate: async (id, updates) => {\r\n    set({ isLoading: true, error: null })\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('workout_templates')\r\n        .update({\r\n          ...updates,\r\n          updated_at: new Date().toISOString()\r\n        })\r\n        .eq('id', id)\r\n        .select()\r\n        .single()\r\n\r\n      if (error) throw error\r\n\r\n      const { templates } = get()\r\n      set({\r\n        templates: templates.map(t => t.id === id ? data : t),\r\n        isLoading: false\r\n      })\r\n    } catch (error) {\r\n      set({ error: (error as Error).message, isLoading: false })\r\n    }\r\n  },\r\n\r\n  // Delete template\r\n  deleteTemplate: async (id) => {\r\n    set({ isLoading: true, error: null })\r\n    try {\r\n      const { error } = await supabase\r\n        .from('workout_templates')\r\n        .delete()\r\n        .eq('id', id)\r\n\r\n      if (error) throw error\r\n\r\n      const { templates } = get()\r\n      set({\r\n        templates: templates.filter(t => t.id !== id),\r\n        isLoading: false\r\n      })\r\n    } catch (error) {\r\n      set({ error: (error as Error).message, isLoading: false })\r\n    }\r\n  },\r\n\r\n  // Add goal\r\n  addGoal: async (goalData) => {\r\n    set({ isLoading: true, error: null })\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('workout_goals')\r\n        .insert([{\r\n          ...goalData,\r\n          created_at: new Date().toISOString(),\r\n          updated_at: new Date().toISOString()\r\n        }])\r\n        .select()\r\n        .single()\r\n\r\n      if (error) throw error\r\n\r\n      const { goals } = get()\r\n      set({ \r\n        goals: [data, ...goals],\r\n        isLoading: false \r\n      })\r\n    } catch (error) {\r\n      set({ error: (error as Error).message, isLoading: false })\r\n    }\r\n  },\r\n\r\n  // Update goal\r\n  updateGoal: async (id, updates) => {\r\n    set({ isLoading: true, error: null })\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('workout_goals')\r\n        .update({\r\n          ...updates,\r\n          updated_at: new Date().toISOString()\r\n        })\r\n        .eq('id', id)\r\n        .select()\r\n        .single()\r\n\r\n      if (error) throw error\r\n\r\n      const { goals } = get()\r\n      set({\r\n        goals: goals.map(g => g.id === id ? data : g),\r\n        isLoading: false\r\n      })\r\n    } catch (error) {\r\n      set({ error: (error as Error).message, isLoading: false })\r\n    }\r\n  },\r\n\r\n  // Delete goal\r\n  deleteGoal: async (id) => {\r\n    set({ isLoading: true, error: null })\r\n    try {\r\n      const { error } = await supabase\r\n        .from('workout_goals')\r\n        .delete()\r\n        .eq('id', id)\r\n\r\n      if (error) throw error\r\n\r\n      const { goals } = get()\r\n      set({\r\n        goals: goals.filter(g => g.id !== id),\r\n        isLoading: false\r\n      })\r\n    } catch (error) {\r\n      set({ error: (error as Error).message, isLoading: false })\r\n    }\r\n  },\r\n\r\n  // Initialize exercise library\r\n  initializeExerciseLibrary: async () => {\r\n    set({ isLoading: true, error: null })\r\n    try {\r\n      const { exercises } = get()\r\n      \r\n      // Only add exercises that don't already exist\r\n      const existingNames = new Set(exercises.map(e => e.name))\r\n      const newExercises = EXERCISE_LIBRARY.filter(e => !existingNames.has(e.name))\r\n      \r\n      if (newExercises.length > 0) {\r\n        // Map camelCase fields to snake_case for database\r\n        const exercisesToInsert = newExercises.map(exercise => ({\r\n          name: exercise.name,\r\n          type: exercise.type,\r\n          category: exercise.category,\r\n          description: exercise.description,\r\n          instructions: exercise.instructions,\r\n          muscle_groups: exercise.muscleGroups, // camelCase to snake_case\r\n          equipment: exercise.equipment,\r\n          is_custom: false, // camelCase to snake_case\r\n          created_at: new Date().toISOString(),\r\n          updated_at: new Date().toISOString()\r\n        }))\r\n\r\n        const { data, error } = await supabase\r\n          .from('exercises')\r\n          .insert(exercisesToInsert)\r\n          .select()\r\n\r\n        if (error) throw error\r\n\r\n        // Map snake_case fields back to camelCase for the store\r\n        const mappedData = data.map(item => ({\r\n          id: item.id,\r\n          name: item.name,\r\n          type: item.type,\r\n          category: item.category,\r\n          description: item.description,\r\n          instructions: item.instructions,\r\n          muscleGroups: item.muscle_groups, // snake_case to camelCase\r\n          equipment: item.equipment,\r\n          isCustom: item.is_custom, // snake_case to camelCase\r\n          createdAt: item.created_at,\r\n          updatedAt: item.updated_at,\r\n        }))\r\n\r\n        set({ \r\n          exercises: [...exercises, ...mappedData],\r\n          isLoading: false \r\n        })\r\n      } else {\r\n        set({ isLoading: false })\r\n      }\r\n    } catch (error) {\r\n      set({ error: (error as Error).message, isLoading: false })\r\n    }\r\n  }\r\n})) ","import { useState } from 'react'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/shared/ui/card'\r\nimport { Button } from '@/shared/ui/button'\r\nimport { Input } from '@/shared/ui/input'\r\nimport { Label } from '@/shared/ui/label'\r\nimport { Textarea } from '@/shared/ui/textarea'\r\n// Using native select for now\r\nimport { Dumbbell, Clock, Zap, Plus } from 'lucide-react'\r\nimport { useWorkoutStore } from '../store'\r\nimport { ExerciseType, IntensityLevel } from '../types'\r\nimport { useResponsiveBreakpoint } from '@/shared/hooks/useMobileInteractions'\r\n\r\nexport function WorkoutEntryForm() {\r\n  const { exercises, addWorkout, isLoading } = useWorkoutStore()\r\n  const [selectedExercise, setSelectedExercise] = useState('')\r\n  const [customExerciseName, setCustomExerciseName] = useState('')\r\n  const [exerciseType, setExerciseType] = useState<ExerciseType>('cardio')\r\n  const [duration, setDuration] = useState('')\r\n  const [intensity, setIntensity] = useState<IntensityLevel>('moderate')\r\n  const [notes, setNotes] = useState('')\r\n  const [sets, setSets] = useState('')\r\n  const [reps, setReps] = useState('')\r\n  const [weight, setWeight] = useState('')\r\n  const [distance, setDistance] = useState('')\r\n  \r\n  // Mobile interactions\r\n  const { isMobile } = useResponsiveBreakpoint()\r\n  // const buttonFeedback = useTouchFeedback<HTMLButtonElement>({ \r\n  //   scale: 0.95, \r\n  //   haptic: true \r\n  // }) // Unused variable\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    \r\n    if (!duration || (!selectedExercise && !customExerciseName)) return\r\n\r\n    const selectedExerciseData = exercises.find(ex => ex.id === selectedExercise)\r\n    const exerciseName = selectedExerciseData?.name || customExerciseName\r\n    const finalExerciseType = selectedExerciseData?.type || exerciseType\r\n\r\n    const workoutData = {\r\n      exerciseId: selectedExercise || 'custom',\r\n      exerciseName,\r\n      exerciseType: finalExerciseType,\r\n      duration: parseInt(duration),\r\n      intensity,\r\n      notes: notes || undefined,\r\n      sets: sets ? parseInt(sets) : undefined,\r\n      reps: reps ? parseInt(reps) : undefined,\r\n      weight: weight ? parseFloat(weight) : undefined,\r\n      distance: distance ? parseFloat(distance) : undefined,\r\n    }\r\n\r\n    await addWorkout(workoutData)\r\n\r\n    // Reset form\r\n    setSelectedExercise('')\r\n    setCustomExerciseName('')\r\n    setExerciseType('cardio')\r\n    setDuration('')\r\n    setIntensity('moderate')\r\n    setNotes('')\r\n    setSets('')\r\n    setReps('')\r\n    setWeight('')\r\n    setDistance('')\r\n  }\r\n\r\n  const selectedExerciseData = exercises.find(ex => ex.id === selectedExercise)\r\n  const currentExerciseType = selectedExerciseData?.type || exerciseType\r\n\r\n  return (\r\n    <Card className={`cyber-card mobile-card mobile-responsive ${isMobile ? 'galaxy-s24-ultra-optimized' : ''}`}>\r\n      <CardHeader className=\"mobile-layout\">\r\n        <CardTitle className=\"flex items-center gap-2 gradient-text-ki mobile-heading\">\r\n          <Dumbbell className=\"h-5 w-5\" />\r\n          Log Workout\r\n        </CardTitle>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <form onSubmit={handleSubmit} className=\"space-y-4 mobile-form-spacing\">\r\n          {/* Exercise Selection */}\r\n          <div className=\"space-y-2\">\r\n            <Label>Exercise</Label>\r\n            <select \r\n              value={selectedExercise} \r\n              onChange={(e) => setSelectedExercise(e.target.value)}\r\n              className=\"cyber-input w-full\"\r\n            >\r\n              <option value=\"\">Select an exercise</option>\r\n              <option value=\"custom\">Custom Exercise</option>\r\n              {exercises.map((exercise) => (\r\n                <option key={exercise.id} value={exercise.id}>\r\n                  {exercise.name} ({exercise.category})\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          {/* Custom Exercise Name */}\r\n          {selectedExercise === 'custom' && (\r\n            <div className=\"space-y-2\">\r\n              <Label>Custom Exercise Name</Label>\r\n              <Input\r\n                value={customExerciseName}\r\n                onChange={(e) => setCustomExerciseName(e.target.value)}\r\n                placeholder=\"Enter exercise name\"\r\n                className=\"cyber-input\"\r\n                required\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {/* Exercise Type (for custom exercises) */}\r\n          {selectedExercise === 'custom' && (\r\n            <div className=\"space-y-2\">\r\n              <Label>Exercise Type</Label>\r\n              <select \r\n                value={exerciseType} \r\n                onChange={(e) => setExerciseType(e.target.value as ExerciseType)}\r\n                className=\"cyber-input w-full\"\r\n              >\r\n                <option value=\"cardio\">Cardio</option>\r\n                <option value=\"strength\">Strength</option>\r\n                <option value=\"flexibility\">Flexibility</option>\r\n                <option value=\"sports\">Sports</option>\r\n                <option value=\"other\">Other</option>\r\n              </select>\r\n            </div>\r\n          )}\r\n\r\n          {/* Duration and Intensity */}\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label className=\"flex items-center gap-1\">\r\n                <Clock className=\"h-4 w-4\" />\r\n                Duration (minutes)\r\n              </Label>\r\n              <Input\r\n                type=\"number\"\r\n                value={duration}\r\n                onChange={(e) => setDuration(e.target.value)}\r\n                placeholder=\"30\"\r\n                className=\"cyber-input\"\r\n                required\r\n                min=\"1\"\r\n              />\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <Label className=\"flex items-center gap-1\">\r\n                <Zap className=\"h-4 w-4\" />\r\n                Intensity\r\n              </Label>\r\n              <select \r\n                value={intensity} \r\n                onChange={(e) => setIntensity(e.target.value as IntensityLevel)}\r\n                className=\"cyber-input w-full\"\r\n              >\r\n                <option value=\"light\">Light</option>\r\n                <option value=\"moderate\">Moderate</option>\r\n                <option value=\"intense\">Intense</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Additional Fields for Strength Training */}\r\n          {currentExerciseType === 'strength' && (\r\n            <div className=\"grid grid-cols-3 gap-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label>Sets</Label>\r\n                <Input\r\n                  type=\"number\"\r\n                  value={sets}\r\n                  onChange={(e) => setSets(e.target.value)}\r\n                  placeholder=\"3\"\r\n                  className=\"cyber-input\"\r\n                  min=\"1\"\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label>Reps</Label>\r\n                <Input\r\n                  type=\"number\"\r\n                  value={reps}\r\n                  onChange={(e) => setReps(e.target.value)}\r\n                  placeholder=\"12\"\r\n                  className=\"cyber-input\"\r\n                  min=\"1\"\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label>Weight (kg)</Label>\r\n                <Input\r\n                  type=\"number\"\r\n                  step=\"0.5\"\r\n                  value={weight}\r\n                  onChange={(e) => setWeight(e.target.value)}\r\n                  placeholder=\"50\"\r\n                  className=\"cyber-input\"\r\n                  min=\"0\"\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Additional Field for Cardio */}\r\n          {currentExerciseType === 'cardio' && (\r\n            <div className=\"space-y-2\">\r\n              <Label>Distance (km)</Label>\r\n              <Input\r\n                type=\"number\"\r\n                step=\"0.1\"\r\n                value={distance}\r\n                onChange={(e) => setDistance(e.target.value)}\r\n                placeholder=\"5.0\"\r\n                className=\"cyber-input\"\r\n                min=\"0\"\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {/* Notes */}\r\n          <div className=\"space-y-2\">\r\n            <Label>Notes (optional)</Label>\r\n            <Textarea\r\n              value={notes}\r\n              onChange={(e) => setNotes(e.target.value)}\r\n              placeholder=\"How did it feel? Any observations...\"\r\n              className=\"cyber-input min-h-[80px]\"\r\n            />\r\n          </div>\r\n\r\n          {/* Submit Button */}\r\n          <Button\r\n            type=\"submit\"\r\n            disabled={isLoading || !duration || (!selectedExercise && !customExerciseName)}\r\n            className=\"w-full cyber-button-ki\"\r\n          >\r\n            <Plus className=\"mr-2 h-4 w-4\" />\r\n            {isLoading ? 'Logging...' : 'Log Workout'}\r\n          </Button>\r\n        </form>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n} ","import { Card, CardContent, CardHeader, CardTitle } from '@/shared/ui/card'\r\nimport { Progress } from '@/shared/ui/progress'\r\nimport { Badge } from '@/shared/ui/badge'\r\nimport { \r\n  Activity, \r\n  Target, \r\n  TrendingUp, \r\n  Calendar,\r\n  Zap\r\n} from 'lucide-react'\r\nimport { useWorkoutStore } from '../store'\r\nimport { getExerciseTypeColor } from '../types'\r\nimport { useResponsiveBreakpoint } from '@/shared/hooks/useMobileInteractions'\r\n\r\nexport function WorkoutAnalytics() {\r\n  const { analytics } = useWorkoutStore()\r\n  \r\n  // Mobile responsiveness\r\n  const { isMobile } = useResponsiveBreakpoint()\r\n\r\n  if (!analytics) {\r\n    return (\r\n      <Card className={`cyber-card mobile-card mobile-responsive ${isMobile ? 'galaxy-s24-ultra-optimized' : ''}`}>\r\n        <CardContent className=\"p-6 text-center text-gray-400 mobile-layout\">\r\n          <Activity className=\"h-12 w-12 mx-auto mb-4 opacity-50\" />\r\n          <p className=\"mobile-body\">No workout data yet</p>\r\n          <p className=\"text-sm mobile-caption\">Start logging workouts to see analytics</p>\r\n        </CardContent>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  const weeklyProgressPercent = (analytics.weeklyProgress / analytics.weeklyGoal) * 100\r\n\r\n  return (\r\n    <div className={`space-y-6 ${isMobile ? 'mobile-layout' : ''}`}>\r\n      {/* Overview Stats */}\r\n      <Card className={`cyber-card mobile-card mobile-responsive ${isMobile ? 'galaxy-s24-ultra-optimized' : ''}`}>\r\n        <CardHeader className=\"mobile-layout\">\r\n          <CardTitle className=\"flex items-center gap-2 gradient-text-ki mobile-heading\">\r\n            <Activity className=\"h-5 w-5\" />\r\n            Workout Overview\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"mobile-form-spacing\">\r\n          <div className={`grid ${isMobile ? 'grid-cols-2' : 'grid-cols-2 md:grid-cols-4'} gap-4 mobile-grid`}>\r\n            <div className=\"text-center\">\r\n              <div className=\"gradient-text-ki metric-display text-2xl font-bold\">\r\n                {analytics.totalWorkouts}\r\n              </div>\r\n              <div className=\"font-mono text-xs text-gray-400\">Total Workouts</div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <div className=\"gradient-text-cyan metric-display text-2xl font-bold\">\r\n                {Math.round(analytics.totalDuration / 60)}h\r\n              </div>\r\n              <div className=\"font-mono text-xs text-gray-400\">Total Hours</div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <div className=\"gradient-text-magenta metric-display text-2xl font-bold\">\r\n                {analytics.totalCalories}\r\n              </div>\r\n              <div className=\"font-mono text-xs text-gray-400\">Calories Burned</div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <div className=\"gradient-text-yellow metric-display text-2xl font-bold\">\r\n                {analytics.currentStreak}\r\n              </div>\r\n              <div className=\"font-mono text-xs text-gray-400\">Day Streak</div>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Weekly Goal Progress */}\r\n      <Card className=\"cyber-card\">\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2 gradient-text-cyan\">\r\n            <Target className=\"h-5 w-5\" />\r\n            Weekly Goal Progress\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex justify-between items-center\">\r\n              <span className=\"font-mono text-sm\">\r\n                {analytics.weeklyProgress} / {analytics.weeklyGoal} minutes\r\n              </span>\r\n              <Badge variant={weeklyProgressPercent >= 100 ? \"default\" : \"outline\"}>\r\n                {Math.round(weeklyProgressPercent)}%\r\n              </Badge>\r\n            </div>\r\n            <Progress \r\n              value={Math.min(weeklyProgressPercent, 100)} \r\n              className=\"h-3\"\r\n            />\r\n            <div className=\"text-xs text-gray-400 font-mono\">\r\n              {weeklyProgressPercent >= 100 \r\n                ? \" Weekly goal achieved!\" \r\n                : `${analytics.weeklyGoal - analytics.weeklyProgress} minutes to go`\r\n              }\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Exercise Type Breakdown */}\r\n      <Card className=\"cyber-card\">\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2 gradient-text-magenta\">\r\n            <TrendingUp className=\"h-5 w-5\" />\r\n            Exercise Breakdown\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"space-y-3\">\r\n            {Object.entries(analytics.exerciseTypeBreakdown).map(([type, data]) => (\r\n              <div key={type} className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <span className={`${getExerciseTypeColor(type as 'cardio' | 'strength' | 'flexibility' | 'sports')} text-lg`}></span>\r\n                  <span className=\"capitalize font-mono text-sm\">{type}</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-4 text-sm\">\r\n                  <span className=\"text-gray-400\">{data.count} workouts</span>\r\n                  <span className=\"text-gray-400\">{Math.round(data.duration / 60)}h</span>\r\n                  <span className=\"text-gray-400\">{data.calories} cal</span>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Monthly Stats */}\r\n      <Card className=\"cyber-card\">\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2 gradient-text-yellow\">\r\n            <Calendar className=\"h-5 w-5\" />\r\n            This Month\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"grid grid-cols-3 gap-4 text-center\">\r\n            <div>\r\n              <div className=\"gradient-text-ki metric-display text-xl font-bold\">\r\n                {analytics.monthlyStats.workouts}\r\n              </div>\r\n              <div className=\"font-mono text-xs text-gray-400\">Workouts</div>\r\n            </div>\r\n            <div>\r\n              <div className=\"gradient-text-cyan metric-display text-xl font-bold\">\r\n                {Math.round(analytics.monthlyStats.duration / 60)}h\r\n              </div>\r\n              <div className=\"font-mono text-xs text-gray-400\">Hours</div>\r\n            </div>\r\n            <div>\r\n              <div className=\"gradient-text-magenta metric-display text-xl font-bold\">\r\n                {analytics.monthlyStats.calories}\r\n              </div>\r\n              <div className=\"font-mono text-xs text-gray-400\">Calories</div>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Additional Stats */}\r\n      <Card className=\"cyber-card\">\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2 gradient-text-plasma\">\r\n            <Zap className=\"h-5 w-5\" />\r\n            Performance Stats\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"text-center\">\r\n              <div className=\"gradient-text-ki metric-display text-lg font-bold\">\r\n                {analytics.longestStreak}\r\n              </div>\r\n              <div className=\"font-mono text-xs text-gray-400\">Longest Streak</div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <div className=\"gradient-text-cyan metric-display text-lg font-bold\">\r\n                {analytics.averageIntensity.toFixed(1)}\r\n              </div>\r\n              <div className=\"font-mono text-xs text-gray-400\">Avg Intensity</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"mt-4 text-center\">\r\n            <div className=\"flex items-center justify-center gap-2\">\r\n              <span className=\"text-sm text-gray-400\">Favorite Exercise Type:</span>\r\n              <Badge className={`${getExerciseTypeColor(analytics.favoriteExerciseType)} border-current`}>\r\n                {analytics.favoriteExerciseType}\r\n              </Badge>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n} ","import { useState, useEffect } from 'react'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/shared/ui/card'\r\nimport { Button } from '@/shared/ui/button'\r\nimport { Badge } from '@/shared/ui/badge'\r\nimport { \r\n  Zap, \r\n  RotateCcw, \r\n  TrendingUp,\r\n  Calendar,\r\n  Target\r\n} from 'lucide-react'\r\nimport { useTouchFeedback, useResponsiveBreakpoint } from '@/shared/hooks/useMobileInteractions'\r\n\r\ninterface DailyCounterData {\r\n  date: string\r\n  punches: number\r\n  kicks: number\r\n  total: number\r\n}\r\n\r\nexport function DailyCounter() {\r\n  const [todayData, setTodayData] = useState<DailyCounterData>({\r\n    date: new Date().toDateString(),\r\n    punches: 0,\r\n    kicks: 0,\r\n    total: 0\r\n  })\r\n  \r\n  const [weeklyTotal, setWeeklyTotal] = useState(0)\r\n  const [streak, setStreak] = useState(0)\r\n  \r\n  // Mobile interactions\r\n  const { isMobile } = useResponsiveBreakpoint()\r\n  const buttonFeedback = useTouchFeedback<HTMLButtonElement>({ \r\n    scale: 0.95, \r\n    haptic: true \r\n  })\r\n\r\n  // Load data from localStorage on mount\r\n  useEffect(() => {\r\n    loadTodayData()\r\n    loadWeeklyStats()\r\n  }, [])\r\n\r\n  const loadTodayData = () => {\r\n    const today = new Date().toDateString()\r\n    const saved = localStorage.getItem(`daily-counter-${today}`)\r\n    \r\n    if (saved) {\r\n      const data = JSON.parse(saved)\r\n      setTodayData(data)\r\n    } else {\r\n      // Initialize today's data\r\n      const newData = {\r\n        date: today,\r\n        punches: 0,\r\n        kicks: 0,\r\n        total: 0\r\n      }\r\n      setTodayData(newData)\r\n      localStorage.setItem(`daily-counter-${today}`, JSON.stringify(newData))\r\n    }\r\n  }\r\n\r\n  const loadWeeklyStats = () => {\r\n    const today = new Date()\r\n    let weekTotal = 0\r\n    let currentStreak = 0\r\n    \r\n    // Calculate weekly total (last 7 days)\r\n    for (let i = 0; i < 7; i++) {\r\n      const date = new Date(today)\r\n      date.setDate(today.getDate() - i)\r\n      const dateStr = date.toDateString()\r\n      const dayData = localStorage.getItem(`daily-counter-${dateStr}`)\r\n      \r\n      if (dayData) {\r\n        const parsed = JSON.parse(dayData)\r\n        weekTotal += parsed.total\r\n        \r\n        // Calculate streak (consecutive days with activity)\r\n        if (parsed.total > 0) {\r\n          if (i === currentStreak) {\r\n            currentStreak++\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    setWeeklyTotal(weekTotal)\r\n    setStreak(currentStreak)\r\n  }\r\n\r\n  const updateCount = (type: 'punches' | 'kicks', increment: number) => {\r\n    const newData = {\r\n      ...todayData,\r\n      [type]: todayData[type] + increment,\r\n      total: todayData.total + increment\r\n    }\r\n    \r\n    setTodayData(newData)\r\n    localStorage.setItem(`daily-counter-${newData.date}`, JSON.stringify(newData))\r\n    \r\n    // Update weekly stats\r\n    loadWeeklyStats()\r\n  }\r\n\r\n  const resetToday = () => {\r\n    const resetData = {\r\n      date: todayData.date,\r\n      punches: 0,\r\n      kicks: 0,\r\n      total: 0\r\n    }\r\n    \r\n    setTodayData(resetData)\r\n    localStorage.setItem(`daily-counter-${resetData.date}`, JSON.stringify(resetData))\r\n    loadWeeklyStats()\r\n  }\r\n\r\n  const incrementButtons = [5, 10, 25]\r\n\r\n  return (\r\n    <Card className={`cyber-card mobile-card mobile-responsive ${isMobile ? 'galaxy-s24-ultra-optimized' : ''}`}>\r\n      <CardHeader className=\"mobile-layout\">\r\n        <CardTitle className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-2 gradient-text-ki mobile-heading\">\r\n            <Zap className=\"h-5 w-5\" />\r\n            Daily Strike Counter\r\n          </div>\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={resetToday}\r\n            className=\"text-xs touch-target mobile-button\"\r\n            aria-label=\"Reset daily counter\"\r\n          >\r\n            <RotateCcw className=\"h-3 w-3 mr-1\" />\r\n            Reset\r\n          </Button>\r\n        </CardTitle>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-6 mobile-form-spacing\">\r\n        {/* Today's Totals */}\r\n        <div className=\"grid grid-cols-3 gap-4 text-center mobile-grid\">\r\n          <div>\r\n            <div className=\"gradient-text-ki metric-display text-2xl font-bold mobile-large\">\r\n              {todayData.punches}\r\n            </div>\r\n            <div className=\"font-mono text-xs text-gray-400 mobile-caption\">Punches</div>\r\n          </div>\r\n          <div>\r\n            <div className=\"gradient-text-cyan metric-display text-2xl font-bold mobile-large\">\r\n              {todayData.kicks}\r\n            </div>\r\n            <div className=\"font-mono text-xs text-gray-400 mobile-caption\">Kicks</div>\r\n          </div>\r\n          <div>\r\n            <div className=\"gradient-text-magenta metric-display text-2xl font-bold mobile-large\">\r\n              {todayData.total}\r\n            </div>\r\n            <div className=\"font-mono text-xs text-gray-400 mobile-caption\">Total</div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Punch Counter */}\r\n        <div className=\"space-y-3\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <h3 className=\"font-mono text-sm gradient-text-ki\"> Punches</h3>\r\n            <Badge variant=\"outline\" className=\"text-ki-green border-ki-green\">\r\n              {todayData.punches}\r\n            </Badge>\r\n          </div>\r\n          <div className=\"flex gap-2 mobile-button-group\">\r\n            {incrementButtons.map((count) => (\r\n              <Button\r\n                key={`punch-${count}`}\r\n                ref={buttonFeedback.elementRef}\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={() => updateCount('punches', count)}\r\n                className=\"flex-1 cyber-button-ki touch-target mobile-button\"\r\n                aria-label={`Add ${count} punches`}\r\n              >\r\n                +{count}\r\n              </Button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Kick Counter */}\r\n        <div className=\"space-y-3\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <h3 className=\"font-mono text-sm gradient-text-cyan\"> Kicks</h3>\r\n            <Badge variant=\"outline\" className=\"text-plasma-cyan border-plasma-cyan\">\r\n              {todayData.kicks}\r\n            </Badge>\r\n          </div>\r\n          <div className=\"flex gap-2 mobile-button-group\">\r\n            {incrementButtons.map((count) => (\r\n              <Button\r\n                key={`kick-${count}`}\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={() => updateCount('kicks', count)}\r\n                className=\"flex-1 cyber-button-cyan touch-target mobile-button\"\r\n                aria-label={`Add ${count} kicks`}\r\n              >\r\n                +{count}\r\n              </Button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Weekly Stats */}\r\n        <div className=\"border-t border-gray-700 pt-4\">\r\n          <div className=\"grid grid-cols-2 gap-4 text-center\">\r\n            <div>\r\n              <div className=\"flex items-center justify-center gap-1 mb-1\">\r\n                <Calendar className=\"h-4 w-4 text-gray-400\" />\r\n                <span className=\"font-mono text-xs text-gray-400\">7-Day Total</span>\r\n              </div>\r\n              <div className=\"gradient-text-yellow metric-display text-lg font-bold\">\r\n                {weeklyTotal}\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <div className=\"flex items-center justify-center gap-1 mb-1\">\r\n                <TrendingUp className=\"h-4 w-4 text-gray-400\" />\r\n                <span className=\"font-mono text-xs text-gray-400\">Streak</span>\r\n              </div>\r\n              <div className=\"gradient-text-plasma metric-display text-lg font-bold\">\r\n                {streak} days\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Quick Goals */}\r\n        <div className=\"bg-gray-800/30 rounded-lg p-3\">\r\n          <div className=\"flex items-center gap-2 mb-2\">\r\n            <Target className=\"h-4 w-4 text-gray-400\" />\r\n            <span className=\"font-mono text-xs text-gray-400\">Daily Goals</span>\r\n          </div>\r\n          <div className=\"grid grid-cols-3 gap-2 text-xs\">\r\n            <div className={`text-center p-2 rounded ${todayData.total >= 100 ? 'bg-ki-green/20 text-ki-green' : 'bg-gray-700/50 text-gray-400'}`}>\r\n              <div className=\"font-bold\">100</div>\r\n              <div>Beginner</div>\r\n            </div>\r\n            <div className={`text-center p-2 rounded ${todayData.total >= 250 ? 'bg-plasma-cyan/20 text-plasma-cyan' : 'bg-gray-700/50 text-gray-400'}`}>\r\n              <div className=\"font-bold\">250</div>\r\n              <div>Intermediate</div>\r\n            </div>\r\n            <div className={`text-center p-2 rounded ${todayData.total >= 500 ? 'bg-plasma-magenta/20 text-plasma-magenta' : 'bg-gray-700/50 text-gray-400'}`}>\r\n              <div className=\"font-bold\">500</div>\r\n              <div>Advanced</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Today's Date */}\r\n        <div className=\"text-center\">\r\n          <div className=\"font-mono text-xs text-gray-500\">\r\n            {new Date().toLocaleDateString('en-US', { \r\n              weekday: 'long', \r\n              year: 'numeric', \r\n              month: 'long', \r\n              day: 'numeric' \r\n            })}\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n} ","import { useState, useEffect } from 'react'\r\nimport { Card, CardContent } from '@/shared/ui/card'\r\nimport { Button } from '@/shared/ui/button'\r\nimport { Scale, UtensilsCrossed, TrendingUp, Target, Dumbbell } from 'lucide-react'\r\nimport { useWeightStore } from '@/modules/weight/store'\r\nimport { useMealStore } from '@/modules/meals/store'\r\nimport { WeightEntryForm } from '@/modules/weight/components/WeightEntryForm'\r\nimport { WeightAnalytics } from '@/modules/weight/components/WeightAnalytics'\r\nimport { WeightGoalForm } from '@/modules/weight/components/WeightGoalForm'\r\nimport { MealEntryForm } from '@/modules/meals/components/MealEntryForm'\r\nimport { MealAnalytics } from '@/modules/meals/components/MealAnalytics'\r\nimport { WorkoutEntryForm } from '@/modules/workout/components/WorkoutEntryForm'\r\nimport { WorkoutAnalytics } from '@/modules/workout/components/WorkoutAnalytics'\r\nimport { DailyCounter } from '@/modules/workout/components/DailyCounter'\r\nimport { useWorkoutStore } from '@/modules/workout/store'\r\nimport { HealthTab } from '@/modules/workout/types'\r\nimport { kgToLbs } from '@/modules/weight/types'\r\n\r\nconst HEALTH_TAB_KEY = 'perfect-zenkai-health-tab'\r\n\r\nexport default function HealthHubPage() {\r\n  const [activeTab, setActiveTab] = useState<HealthTab>(() => {\r\n    const saved = localStorage.getItem(HEALTH_TAB_KEY)\r\n    return (saved as HealthTab) || 'weight'\r\n  })\r\n  const [showGoalForm, setShowGoalForm] = useState(false)\r\n\r\n  // Weight store\r\n  const { \r\n    weights, \r\n    activeGoal, \r\n    loadWeights, \r\n    loadActiveGoal, \r\n    isLoading: isWeightLoading \r\n  } = useWeightStore()\r\n\r\n  // Meal store\r\n  const { \r\n    meals, \r\n    loadMeals, \r\n    loadAnalytics, \r\n    isLoading: isMealLoading \r\n  } = useMealStore()\r\n\r\n  // Workout store\r\n  const { \r\n    workouts, \r\n    exercises,\r\n    loadWorkouts, \r\n    loadExercises,\r\n    loadAnalytics: loadWorkoutAnalytics,\r\n    initializeExerciseLibrary,\r\n    isLoading: isWorkoutLoading \r\n  } = useWorkoutStore()\r\n\r\n  // Load data on mount\r\n  useEffect(() => {\r\n    if (weights.length === 0) {\r\n      loadWeights()\r\n    }\r\n    if (!activeGoal) {\r\n      loadActiveGoal()\r\n    }\r\n    if (meals.length === 0) {\r\n      loadMeals()\r\n    }\r\n    if (workouts.length === 0) {\r\n      loadWorkouts()\r\n    }\r\n    if (exercises.length === 0) {\r\n      loadExercises()\r\n      initializeExerciseLibrary()\r\n    }\r\n    loadAnalytics()\r\n    loadWorkoutAnalytics()\r\n  }, [weights.length, loadWeights, activeGoal, loadActiveGoal, meals.length, loadMeals, loadAnalytics, workouts.length, loadWorkouts, exercises.length, loadExercises, initializeExerciseLibrary, loadWorkoutAnalytics])\r\n\r\n  // Persist tab selection\r\n  const handleTabChange = (tab: HealthTab) => {\r\n    setActiveTab(tab)\r\n    localStorage.setItem(HEALTH_TAB_KEY, tab)\r\n  }\r\n\r\n  const isLoading = isWeightLoading || isMealLoading || isWorkoutLoading\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 pb-24 pt-4\">\r\n      {/* Unified Diet Hub Header */}\r\n      <div className=\"mb-6\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h1 className=\"cyber-title gradient-text-ki mb-2\">HEALTH HUB</h1>\r\n            <p className=\"font-mono text-sm text-gray-400\">\r\n              Unified health tracking  {weights.length} weight entries  {meals.length} meals  {workouts.length} workouts\r\n            </p>\r\n          </div>\r\n          <div className=\"flex gap-2\">\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={() => setShowGoalForm(!showGoalForm)}\r\n              className=\"flex items-center gap-2\"\r\n            >\r\n              <Target className=\"h-4 w-4\" />\r\n              {activeGoal ? 'Edit Goal' : 'Set Goal'}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tab Navigation */}\r\n      <Card className=\"cyber-card mb-6\">\r\n        <CardContent className=\"p-0\">\r\n          <div className=\"flex\">\r\n            <Button\r\n              variant={activeTab === 'weight' ? 'cyber-ki' : 'ghost'}\r\n              className={`\r\n                flex-1 rounded-none border-0 h-12\r\n                ${activeTab === 'weight' \r\n                  ? 'bg-gradient-to-r from-ki-green/20 to-ki-green/10 text-ki-green border-b-2 border-ki-green' \r\n                  : 'text-gray-400 hover:text-gray-200 hover:bg-gray-800/50'\r\n                }\r\n              `}\r\n              onClick={() => handleTabChange('weight')}\r\n            >\r\n              <Scale className=\"mr-2 h-4 w-4\" />\r\n              Weight\r\n            </Button>\r\n            <Button\r\n              variant={activeTab === 'meals' ? 'cyber-ki' : 'ghost'}\r\n              className={`\r\n                flex-1 rounded-none border-0 h-12\r\n                ${activeTab === 'meals' \r\n                  ? 'bg-gradient-to-r from-plasma-cyan/20 to-plasma-cyan/10 text-plasma-cyan border-b-2 border-plasma-cyan' \r\n                  : 'text-gray-400 hover:text-gray-200 hover:bg-gray-800/50'\r\n                }\r\n              `}\r\n              onClick={() => handleTabChange('meals')}\r\n            >\r\n              <UtensilsCrossed className=\"mr-2 h-4 w-4\" />\r\n              Meals\r\n            </Button>\r\n            <Button\r\n              variant={activeTab === 'workout' ? 'cyber-ki' : 'ghost'}\r\n              className={`\r\n                flex-1 rounded-none border-0 h-12\r\n                ${activeTab === 'workout' \r\n                  ? 'bg-gradient-to-r from-ki-green/20 to-ki-green/10 text-ki-green border-b-2 border-ki-green' \r\n                  : 'text-gray-400 hover:text-gray-200 hover:bg-gray-800/50'\r\n                }\r\n              `}\r\n              onClick={() => handleTabChange('workout')}\r\n            >\r\n              <Dumbbell className=\"mr-2 h-4 w-4\" />\r\n              Workout\r\n            </Button>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Unified Analytics Header - Visible on both tabs */}\r\n      <div className=\"mb-6\">\r\n        <Card className=\"cyber-card\">\r\n          <CardContent className=\"p-4\">\r\n            <div className=\"grid grid-cols-3 gap-4 text-center\">\r\n              <div>\r\n                <div className=\"gradient-text-ki metric-display text-lg font-bold\">\r\n                  {weights.length + meals.length + workouts.length}\r\n                </div>\r\n                <div className=\"font-mono text-xs text-gray-400\">Total Entries</div>\r\n              </div>\r\n              <div>\r\n                <div className=\"gradient-text-cyan metric-display text-lg font-bold\">\r\n                  {activeTab === 'weight' \r\n                    ? `${weights[0] ? kgToLbs(weights[0].kg).toFixed(1) : 0}lbs`\r\n                    : activeTab === 'meals'\r\n                    ? `${meals.reduce((sum, meal) => sum + meal.nutrition.calories, 0)}cal`\r\n                    : `${workouts.reduce((sum, workout) => sum + workout.duration, 0)}min`\r\n                  }\r\n                </div>\r\n                <div className=\"font-mono text-xs text-gray-400\">\r\n                  {activeTab === 'weight' ? 'Latest Weight' : activeTab === 'meals' ? 'Total Calories' : 'Total Duration'}\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <div className=\"gradient-text-magenta metric-display text-lg font-bold\">\r\n                  <TrendingUp className=\"inline h-4 w-4 mr-1\" />\r\n                  {activeTab === 'weight' ? 'Progress' : activeTab === 'meals' ? 'Nutrition' : 'Fitness'}\r\n                </div>\r\n                <div className=\"font-mono text-xs text-gray-400\">\r\n                  {activeTab === 'weight' ? 'Tracking' : activeTab === 'meals' ? 'Balance' : 'Training'}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Weight Goal Form - Show when requested */}\r\n      {showGoalForm && (\r\n        <div className=\"mb-6\">\r\n          <WeightGoalForm onClose={() => setShowGoalForm(false)} />\r\n        </div>\r\n      )}\r\n\r\n      {/* Tab Content */}\r\n      {activeTab === 'weight' && (\r\n        <div className=\"space-y-6\">\r\n          {/* Weight Entry Form */}\r\n          <WeightEntryForm />\r\n\r\n          {/* Weight Analytics */}\r\n          {weights.length > 0 && !isWeightLoading && (\r\n            <WeightAnalytics />\r\n          )}\r\n\r\n          {/* Weight entries list would go here */}\r\n          {/* TODO: Add WeightList component */}\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'meals' && (\r\n        <div className=\"space-y-6\">\r\n          {/* Meal Entry Form */}\r\n          <MealEntryForm />\r\n\r\n          {/* Meal Analytics */}\r\n          {meals.length > 0 && !isMealLoading && (\r\n            <MealAnalytics />\r\n          )}\r\n\r\n          {/* Meal entries list would go here */}\r\n          {/* TODO: Add MealList component */}\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'workout' && (\r\n        <div className=\"space-y-6\">\r\n          {/* Daily Strike Counter */}\r\n          <DailyCounter />\r\n\r\n          {/* Workout Entry Form */}\r\n          <WorkoutEntryForm />\r\n\r\n          {/* Workout Analytics */}\r\n          {workouts.length > 0 && !isWorkoutLoading && (\r\n            <WorkoutAnalytics />\r\n          )}\r\n\r\n          {/* Workout entries list would go here */}\r\n          {/* TODO: Add WorkoutList component */}\r\n        </div>\r\n      )}\r\n\r\n      {/* Loading state */}\r\n      {isLoading && (\r\n        <div className=\"space-y-4\">\r\n          <div className=\"cyber-card p-4\">\r\n            <div className=\"mb-4 flex items-center gap-3\">\r\n              <div className=\"shimmer h-8 w-8 rounded-full bg-gray-700\"></div>\r\n              <div>\r\n                <div className=\"shimmer mb-2 h-4 w-24 rounded bg-gray-700\"></div>\r\n                <div className=\"shimmer h-3 w-16 rounded bg-gray-700\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Empty state for both tabs */}\r\n      {!isLoading && weights.length === 0 && meals.length === 0 && (\r\n        <div className=\"py-16 text-center\">\r\n          <div className=\"cyber-card mx-auto max-w-md\">\r\n            <div className=\"flex flex-col items-center space-y-6\">\r\n              <div className=\"relative\">\r\n                <div className=\"flex h-20 w-20 items-center justify-center rounded-xl border border-gray-700 bg-gray-900\">\r\n                  {activeTab === 'weight' ? (\r\n                    <Scale className=\"text-ki-green cyber-icon h-10 w-10 animate-pulse\" />\r\n                  ) : (\r\n                    <UtensilsCrossed className=\"text-plasma-cyan cyber-icon h-10 w-10 animate-pulse\" />\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-3\">\r\n                <h3 className=\"cyber-subtitle text-gray-300\">\r\n                  {activeTab === 'weight' ? 'Begin Weight Journey' : 'Start Meal Tracking'}\r\n                </h3>\r\n                <p className=\"font-mono text-sm leading-relaxed text-gray-500\">\r\n                  {activeTab === 'weight' \r\n                    ? 'Track your progress with precision. Every entry brings you closer to your goal.'\r\n                    : 'Log your meals and nutrition. Build healthy eating habits with detailed tracking.'\r\n                  }\r\n                </p>\r\n              </div>\r\n\r\n              <Button\r\n                variant=\"cyber-ki\"\r\n                onClick={() => {\r\n                  const input = document.getElementById(\r\n                    activeTab === 'weight' ? 'weight-quick' : 'meal-quick'\r\n                  )\r\n                  if (input) {\r\n                    input.focus()\r\n                  }\r\n                }}\r\n                className=\"w-full\"\r\n              >\r\n                {activeTab === 'weight' ? (\r\n                  <>\r\n                    <Scale className=\"mr-2 h-4 w-4\" />\r\n                    LOG FIRST WEIGHT\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <UtensilsCrossed className=\"mr-2 h-4 w-4\" />\r\n                    LOG FIRST MEAL\r\n                  </>\r\n                )}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n} ","import { create } from 'zustand'\r\nimport { Todo, TaskTemplate, Subtask, Priority, Category } from './types'\r\nimport { hybridTasksRepo, tasksRepo, initializeTasksDatabase } from './repo'\r\nimport { useAuthStore } from '@/modules/auth'\r\nimport { getSupabaseClient } from '@/lib/supabase-client'\r\n\r\ninterface TasksState {\r\n  todos: Todo[]\r\n  templates: TaskTemplate[]\r\n  isLoading: boolean\r\n  isSyncing: boolean\r\n  error: string | null\r\n\r\n  // Todo Actions\r\n  addTodo: (todo: Omit<Todo, 'id' | 'updatedAt'>) => Promise<void>\r\n  updateTodo: (id: string, updates: Partial<Todo>) => Promise<void>\r\n  updateTodoField: (id: string, field: keyof Todo, value: unknown) => Promise<void>\r\n  deleteTodo: (id: string) => Promise<void>\r\n  toggleTodo: (id: string) => Promise<void>\r\n  loadTodos: () => Promise<void>\r\n  refreshTodos: () => Promise<void>\r\n  syncData: () => Promise<{ synced: number; errors: number }>\r\n\r\n  // Subtask Actions\r\n  addSubtask: (todoId: string, subtaskText: string) => Promise<void>\r\n  updateSubtask: (\r\n    todoId: string,\r\n    subtaskId: string,\r\n    updates: Partial<Subtask>\r\n  ) => Promise<void>\r\n  deleteSubtask: (todoId: string, subtaskId: string) => Promise<void>\r\n  toggleSubtask: (todoId: string, subtaskId: string) => Promise<void>\r\n\r\n  // Template Actions\r\n  addTemplate: (template: Omit<TaskTemplate, 'id'>) => Promise<void>\r\n  updateTemplate: (id: string, updates: Partial<TaskTemplate>) => Promise<void>\r\n  deleteTemplate: (id: string) => Promise<void>\r\n  loadTemplates: () => Promise<void>\r\n  createTodoFromTemplate: (templateId: string) => Promise<void>\r\n\r\n  // Utility Actions\r\n  hydrate: () => Promise<void>\r\n  clearError: () => void\r\n  getOverdueTodos: () => Todo[]\r\n  getTodosByCategory: (category: Category) => Todo[]\r\n  getTodosByPriority: (priority: Priority) => Todo[]\r\n\r\n  // New actions\r\n  getPointsStats: () => {\r\n    dailyPoints: number\r\n    weeklyPoints: number\r\n    totalPoints: number\r\n    totalPossiblePoints: number\r\n    completedTasks: number\r\n    totalTasks: number\r\n    completionPercentage: number\r\n    averageTaskPoints: number\r\n  }\r\n}\r\n\r\nexport const useTasksStore = create<TasksState>((set, get) => ({\r\n  todos: [],\r\n  templates: [],\r\n  isLoading: false,\r\n  isSyncing: false,\r\n  error: null,\r\n\r\n  // Todo Actions\r\n  addTodo: async (todo) => {\r\n    try {\r\n      set({ isLoading: true, error: null })\r\n\r\n      // Get current user for Supabase operations\r\n      const user = useAuthStore.getState().user\r\n      const userId = user?.id\r\n\r\n      // Add the missing fields for the repository\r\n      const todoWithTimestamps = {\r\n        ...todo,\r\n        createdAt: new Date().toISOString(),\r\n        updatedAt: new Date().toISOString(),\r\n      }\r\n\r\n      const newTodo = await hybridTasksRepo.addTodo(todoWithTimestamps, userId)\r\n\r\n      set((state) => ({\r\n        todos: [newTodo, ...state.todos],\r\n        isLoading: false,\r\n      }))\r\n\r\n      console.log(' Todo saved successfully:', { \r\n        local: true, \r\n        cloud: !!userId,\r\n        todo: newTodo \r\n      })\r\n    } catch (error) {\r\n      console.error(' Failed to save todo:', error)\r\n      set({\r\n        error: error instanceof Error ? error.message : 'Failed to add todo',\r\n        isLoading: false,\r\n      })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  updateTodo: async (id, updates) => {\r\n    try {\r\n      set({ isLoading: true, error: null })\r\n\r\n      // Get current user for Supabase operations\r\n      const user = useAuthStore.getState().user\r\n      const userId = user?.id\r\n\r\n      await hybridTasksRepo.updateTodo(id, updates, userId)\r\n\r\n      set((state) => ({\r\n        todos: state.todos.map((todo) =>\r\n          todo.id === id\r\n            ? { ...todo, ...updates, updatedAt: new Date().toISOString() }\r\n            : todo\r\n        ),\r\n        isLoading: false,\r\n      }))\r\n\r\n      console.log(' Todo updated successfully:', { \r\n        local: true, \r\n        cloud: !!userId,\r\n        id, updates \r\n      })\r\n    } catch (error) {\r\n      console.error(' Failed to update todo:', error)\r\n      set({\r\n        error: error instanceof Error ? error.message : 'Failed to update todo',\r\n        isLoading: false,\r\n      })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  deleteTodo: async (id) => {\r\n    try {\r\n      set({ isLoading: true, error: null })\r\n\r\n      // Get current user for Supabase operations\r\n      const user = useAuthStore.getState().user\r\n      const userId = user?.id\r\n\r\n      await hybridTasksRepo.deleteTodo(id, userId)\r\n\r\n      set((state) => ({\r\n        todos: state.todos.filter((todo) => todo.id !== id),\r\n        isLoading: false,\r\n      }))\r\n\r\n      console.log(' Todo deleted successfully:', { \r\n        local: true, \r\n        cloud: !!userId,\r\n        id \r\n      })\r\n    } catch (error) {\r\n      console.error(' Failed to delete todo:', error)\r\n      set({\r\n        error: error instanceof Error ? error.message : 'Failed to delete todo',\r\n        isLoading: false,\r\n      })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  updateTodoField: async (id, field, value) => {\r\n    try {\r\n      const todo = get().todos.find(t => t.id === id)\r\n      if (!todo) throw new Error('Todo not found')\r\n\r\n      const now = new Date().toISOString()\r\n      const updatedTodo = {\r\n        ...todo,\r\n        [field]: value,\r\n        updatedAt: now\r\n      }\r\n\r\n      // Optimistic update\r\n      set(state => ({\r\n        todos: state.todos.map(t => t.id === id ? updatedTodo : t)\r\n      }))\r\n\r\n      // Prepare database update object\r\n      const dbUpdate: Record<string, unknown> = {\r\n        updated_at: now\r\n      }\r\n\r\n      // Map frontend fields to database columns\r\n      switch (field) {\r\n        case 'summary':\r\n          dbUpdate.summary = value\r\n          break\r\n        case 'description':\r\n          dbUpdate.description = value\r\n          break\r\n        case 'descriptionFormat':\r\n          dbUpdate.description_format = value\r\n          break\r\n        case 'points':\r\n          dbUpdate.points = value\r\n          break\r\n        case 'priority':\r\n          dbUpdate.priority = value\r\n          break\r\n        case 'category':\r\n          dbUpdate.category = value\r\n          break\r\n        case 'dueDateTime':\r\n          dbUpdate.due_date_time = value\r\n          break\r\n        case 'done':\r\n          dbUpdate.done = value\r\n          if (value) {\r\n            dbUpdate.completed_at = now\r\n          } else {\r\n            dbUpdate.completed_at = null\r\n          }\r\n          break\r\n        default:\r\n          console.warn(`Field ${field} not mapped for database update`)\r\n          return\r\n      }\r\n\r\n             // Update in database\r\n       const supabase = await getSupabaseClient()\r\n       if (!supabase) throw new Error('Supabase client not available')\r\n       const { error } = await supabase\r\n         .from('todos')\r\n         .update(dbUpdate)\r\n         .eq('id', id)\r\n\r\n      if (error) {\r\n        // Rollback on error\r\n        set(state => ({\r\n          todos: state.todos.map(t => t.id === id ? todo : t)\r\n        }))\r\n        throw error\r\n      }\r\n    } catch (error) {\r\n      console.error(`Failed to update todo ${field}:`, error)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  toggleTodo: async (id: string) => {\r\n    try {\r\n      const todo = get().todos.find(t => t.id === id)\r\n      if (!todo) throw new Error('Todo not found')\r\n\r\n      const now = new Date().toISOString()\r\n      const updates = {\r\n        done: !todo.done,\r\n        updatedAt: now\r\n      }\r\n\r\n      const updatedTodo = {\r\n        ...todo,\r\n        ...updates\r\n      }\r\n\r\n      // Optimistic update\r\n      set(state => ({\r\n        todos: state.todos.map(t => t.id === id ? updatedTodo : t)\r\n      }))\r\n\r\n      try {\r\n        // Get current user for Supabase operations\r\n        const user = useAuthStore.getState().user\r\n        const userId = user?.id\r\n\r\n        // Use hybrid repository pattern instead of direct Supabase calls\r\n        await hybridTasksRepo.updateTodo(id, updates, userId)\r\n\r\n        console.log(' Todo toggled successfully:', { \r\n          local: true, \r\n          cloud: !!userId,\r\n          todoId: id, \r\n          done: updates.done \r\n        })\r\n      } catch (repositoryError) {\r\n        // Rollback on error\r\n        set(state => ({\r\n          todos: state.todos.map(t => t.id === id ? todo : t)\r\n        }))\r\n        throw repositoryError\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to toggle todo:', error)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  loadTodos: async () => {\r\n    try {\r\n      set({ isLoading: true, error: null })\r\n\r\n      // Get current user for Supabase operations\r\n      const user = useAuthStore.getState().user\r\n      const userId = user?.id\r\n\r\n      // Initialize database for this user\r\n      if (userId) {\r\n        initializeTasksDatabase(userId)\r\n        \r\n        // Only sync if not already syncing\r\n        const { isSyncing } = get()\r\n        if (!isSyncing) {\r\n          try {\r\n            set({ isSyncing: true })\r\n            const syncResult = await hybridTasksRepo.syncData(userId)\r\n            if (syncResult.synced > 0) {\r\n              console.info(` Synced ${syncResult.synced} todo entries during load`)\r\n            }\r\n          } catch (syncError) {\r\n            console.warn(' Data sync failed during load, continuing with available data:', syncError)\r\n          } finally {\r\n            set({ isSyncing: false })\r\n          }\r\n        }\r\n      }\r\n\r\n      const todos = await hybridTasksRepo.getAllTodos(userId)\r\n\r\n      set({ todos, isLoading: false })\r\n\r\n      console.log(' Todos loaded successfully:', { \r\n        count: todos.length,\r\n        cloud: !!userId \r\n      })\r\n    } catch (error) {\r\n      console.error(' Failed to load todos:', error)\r\n      set({\r\n        error: error instanceof Error ? error.message : 'Failed to load todos',\r\n        isLoading: false,\r\n        isSyncing: false,\r\n      })\r\n    }\r\n  },\r\n\r\n  refreshTodos: async () => {\r\n    try {\r\n      await get().loadTodos()\r\n    } catch (error) {\r\n      console.error(' Failed to refresh todos:', error)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  syncData: async () => {\r\n    try {\r\n      set({ isLoading: true, error: null })\r\n\r\n      // Get current user for Supabase operations\r\n      const user = useAuthStore.getState().user\r\n      const userId = user?.id\r\n\r\n             const result = await hybridTasksRepo.syncData(userId)\r\n\r\n       // If data was synced, reload the todos to reflect changes\r\n       if (result.synced > 0) {\r\n         await get().loadTodos()\r\n       }\r\n\r\n       set({ isLoading: false })\r\n\r\n       console.log(' Data synced successfully:', { \r\n         local: true, \r\n         cloud: !!userId,\r\n         result \r\n       })\r\n\r\n       return result\r\n    } catch (error) {\r\n      console.error(' Failed to sync data:', error)\r\n      set({\r\n        error: error instanceof Error ? error.message : 'Failed to sync data',\r\n        isLoading: false,\r\n      })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  // Subtask Actions\r\n  addSubtask: async (todoId, subtaskText) => {\r\n    try {\r\n      // Get current user for Supabase operations\r\n      const user = useAuthStore.getState().user\r\n      const userId = user?.id\r\n\r\n      await hybridTasksRepo.addSubtask(todoId, subtaskText, userId)\r\n\r\n      // Refresh the specific todo\r\n      const updatedTodo = await hybridTasksRepo.getTodoById(todoId, userId)\r\n      if (updatedTodo) {\r\n        set((state) => ({\r\n          todos: state.todos.map((todo) =>\r\n            todo.id === todoId ? updatedTodo : todo\r\n          ),\r\n        }))\r\n      }\r\n\r\n      console.log(' Subtask added successfully:', { \r\n        local: true, \r\n        cloud: !!userId,\r\n        todoId, subtaskText \r\n      })\r\n    } catch (error) {\r\n      console.error(' Failed to add subtask:', error)\r\n      set({\r\n        error: error instanceof Error ? error.message : 'Failed to add subtask',\r\n      })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  updateSubtask: async (todoId, subtaskId, updates) => {\r\n    try {\r\n      // Get current user for Supabase operations\r\n      const user = useAuthStore.getState().user\r\n      const userId = user?.id\r\n\r\n      await hybridTasksRepo.updateSubtask(todoId, subtaskId, updates, userId)\r\n\r\n      // Refresh the specific todo\r\n      const updatedTodo = await hybridTasksRepo.getTodoById(todoId, userId)\r\n      if (updatedTodo) {\r\n        set((state) => ({\r\n          todos: state.todos.map((todo) =>\r\n            todo.id === todoId ? updatedTodo : todo\r\n          ),\r\n        }))\r\n      }\r\n\r\n      console.log(' Subtask updated successfully:', { \r\n        local: true, \r\n        cloud: !!userId,\r\n        todoId, subtaskId, updates \r\n      })\r\n    } catch (error) {\r\n      console.error(' Failed to update subtask:', error)\r\n      set({\r\n        error:\r\n          error instanceof Error ? error.message : 'Failed to update subtask',\r\n      })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  deleteSubtask: async (todoId, subtaskId) => {\r\n    try {\r\n      // Get current user for Supabase operations\r\n      const user = useAuthStore.getState().user\r\n      const userId = user?.id\r\n\r\n      await hybridTasksRepo.deleteSubtask(todoId, subtaskId, userId)\r\n\r\n      // Refresh the specific todo\r\n      const updatedTodo = await hybridTasksRepo.getTodoById(todoId, userId)\r\n      if (updatedTodo) {\r\n        set((state) => ({\r\n          todos: state.todos.map((todo) =>\r\n            todo.id === todoId ? updatedTodo : todo\r\n          ),\r\n        }))\r\n      }\r\n\r\n      console.log(' Subtask deleted successfully:', { \r\n        local: true, \r\n        cloud: !!userId,\r\n        todoId, subtaskId \r\n      })\r\n    } catch (error) {\r\n      console.error(' Failed to delete subtask:', error)\r\n      set({\r\n        error:\r\n          error instanceof Error ? error.message : 'Failed to delete subtask',\r\n      })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  toggleSubtask: async (todoId, subtaskId) => {\r\n    try {\r\n      const todo = get().todos.find((t) => t.id === todoId)\r\n      if (!todo) return\r\n\r\n      const subtask = todo.subtasks.find((s) => s.id === subtaskId)\r\n      if (!subtask) return\r\n\r\n      await get().updateSubtask(todoId, subtaskId, { done: !subtask.done })\r\n    } catch (error) {\r\n      set({\r\n        error:\r\n          error instanceof Error ? error.message : 'Failed to toggle subtask',\r\n      })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  // Template Actions\r\n  addTemplate: async (template) => {\r\n    try {\r\n      set({ isLoading: true, error: null })\r\n\r\n      const newTemplate = await tasksRepo.addTemplate(template)\r\n\r\n      set((state) => ({\r\n        templates: [newTemplate, ...state.templates],\r\n        isLoading: false,\r\n      }))\r\n    } catch (error) {\r\n      set({\r\n        error:\r\n          error instanceof Error ? error.message : 'Failed to add template',\r\n        isLoading: false,\r\n      })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  updateTemplate: async (id, updates) => {\r\n    try {\r\n      await tasksRepo.updateTemplate(id, updates)\r\n\r\n      set((state) => ({\r\n        templates: state.templates.map((template) =>\r\n          template.id === id ? { ...template, ...updates } : template\r\n        ),\r\n      }))\r\n    } catch (error) {\r\n      set({\r\n        error:\r\n          error instanceof Error ? error.message : 'Failed to update template',\r\n      })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  deleteTemplate: async (id) => {\r\n    try {\r\n      await tasksRepo.deleteTemplate(id)\r\n\r\n      set((state) => ({\r\n        templates: state.templates.filter((template) => template.id !== id),\r\n      }))\r\n    } catch (error) {\r\n      set({\r\n        error:\r\n          error instanceof Error ? error.message : 'Failed to delete template',\r\n      })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  loadTemplates: async () => {\r\n    try {\r\n      const templates = await tasksRepo.getAllTemplates()\r\n      set({ templates })\r\n    } catch (error) {\r\n      set({\r\n        error:\r\n          error instanceof Error ? error.message : 'Failed to load templates',\r\n      })\r\n    }\r\n  },\r\n\r\n  createTodoFromTemplate: async (templateId) => {\r\n    try {\r\n      set({ isLoading: true, error: null })\r\n\r\n      const newTodo = await tasksRepo.createTodoFromTemplate(templateId)\r\n\r\n      set((state) => ({\r\n        todos: [newTodo, ...state.todos],\r\n        isLoading: false,\r\n      }))\r\n    } catch (error) {\r\n      set({\r\n        error:\r\n          error instanceof Error\r\n            ? error.message\r\n            : 'Failed to create todo from template',\r\n        isLoading: false,\r\n      })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  // Utility Actions\r\n  hydrate: async () => {\r\n    await Promise.all([get().loadTodos(), get().loadTemplates()])\r\n  },\r\n\r\n  clearError: () => {\r\n    set({ error: null })\r\n  },\r\n\r\n  getOverdueTodos: () => {\r\n    const today = new Date().toISOString().split('T')[0]\r\n    return get().todos.filter(\r\n      (todo) => !todo.done && todo.dueDate && todo.dueDate < today\r\n    )\r\n  },\r\n\r\n  getTodosByCategory: (category) => {\r\n    return get().todos.filter((todo) => todo.category === category)\r\n  },\r\n\r\n  getTodosByPriority: (priority) => {\r\n    return get().todos.filter((todo) => todo.priority === priority)\r\n  },\r\n\r\n  // New actions\r\n  getPointsStats: () => {\r\n    const todos = get().todos\r\n    const now = new Date()\r\n    const today = now.toISOString().split('T')[0]\r\n    const weekStart = new Date(now.setDate(now.getDate() - now.getDay())).toISOString().split('T')[0]\r\n    \r\n    const completedTodos = todos.filter(t => t.done && t.completedAt)\r\n    const todayCompleted = completedTodos.filter(t => \r\n      t.completedAt && t.completedAt.split('T')[0] === today\r\n    )\r\n    const weekCompleted = completedTodos.filter(t => \r\n      t.completedAt && t.completedAt.split('T')[0] >= weekStart\r\n    )\r\n    \r\n    const totalEarnedPoints = completedTodos.reduce((sum, t) => sum + (t.points || 5), 0)\r\n    const todayPoints = todayCompleted.reduce((sum, t) => sum + (t.points || 5), 0)\r\n    const weekPoints = weekCompleted.reduce((sum, t) => sum + (t.points || 5), 0)\r\n    const totalPossiblePoints = todos.reduce((sum, t) => sum + (t.points || 5), 0)\r\n    \r\n    return {\r\n      dailyPoints: todayPoints,\r\n      weeklyPoints: weekPoints,\r\n      totalPoints: totalEarnedPoints,\r\n      totalPossiblePoints,\r\n      completedTasks: completedTodos.length,\r\n      totalTasks: todos.length,\r\n      completionPercentage: todos.length > 0 ? Math.round((completedTodos.length / todos.length) * 100) : 0,\r\n      averageTaskPoints: todos.length > 0 ? Math.round(todos.reduce((sum, t) => sum + (t.points || 5), 0) / todos.length) : 0\r\n    }\r\n  }\r\n}))\r\n\r\n// Initialize store hydration\r\nexport const initializeTasksStore = async () => {\r\n  await useTasksStore.getState().hydrate()\r\n}\r\n","import { Priority, Category, Todo } from './types'\r\n\r\nexport const PRIORITIES: {\r\n  value: Priority\r\n  label: string\r\n  icon: string\r\n  color: string\r\n}[] = [\r\n  { value: 'high', label: 'High', icon: '', color: 'text-red-500' },\r\n  { value: 'medium', label: 'Medium', icon: '', color: 'text-yellow-500' },\r\n  { value: 'low', label: 'Low', icon: '', color: 'text-blue-500' },\r\n]\r\n\r\nexport const CATEGORIES: {\r\n  value: Category\r\n  label: string\r\n  icon: string\r\n  color: string\r\n}[] = [\r\n  { value: 'work', label: 'Work', icon: '', color: 'text-purple-500' },\r\n  { value: 'personal', label: 'Personal', icon: '', color: 'text-green-500' },\r\n  { value: 'health', label: 'Health', icon: '', color: 'text-red-500' },\r\n  { value: 'learning', label: 'Learning', icon: '', color: 'text-blue-500' },\r\n  { value: 'other', label: 'Other', icon: '', color: 'text-gray-500' },\r\n]\r\n\r\nexport const getPriorityConfig = (priority: Priority) => {\r\n  return PRIORITIES.find((p) => p.value === priority) || PRIORITIES[1]\r\n}\r\n\r\nexport const getCategoryConfig = (category: Category) => {\r\n  return CATEGORIES.find((c) => c.value === category) || CATEGORIES[4]\r\n}\r\n\r\nexport const isOverdue = (todo: Todo): boolean => {\r\n  if (!todo.dueDate || todo.done) return false\r\n  const today = new Date().toISOString().split('T')[0]\r\n  return todo.dueDate < today\r\n}\r\n\r\nexport const isDueToday = (todo: Todo): boolean => {\r\n  if (!todo.dueDate) return false\r\n  const today = new Date().toISOString().split('T')[0]\r\n  return todo.dueDate === today\r\n}\r\n\r\nexport const isDueSoon = (todo: Todo, days: number = 3): boolean => {\r\n  if (!todo.dueDate || todo.done) return false\r\n  const today = new Date()\r\n  const dueDate = new Date(todo.dueDate)\r\n  const diffTime = dueDate.getTime() - today.getTime()\r\n  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))\r\n  return diffDays <= days && diffDays > 0\r\n}\r\n\r\nexport const getCompletionPercentage = (todo: Todo): number => {\r\n  if (!todo.subtasks || todo.subtasks.length === 0) return todo.done ? 100 : 0\r\n  const completedSubtasks = todo.subtasks.filter((s) => s.done).length\r\n  return Math.round((completedSubtasks / todo.subtasks.length) * 100)\r\n}\r\n\r\nexport const formatDueDate = (dueDate: string): string => {\r\n  const date = new Date(dueDate)\r\n  const today = new Date()\r\n  const yesterday = new Date(today)\r\n  yesterday.setDate(yesterday.getDate() - 1)\r\n  const tomorrow = new Date(today)\r\n  tomorrow.setDate(tomorrow.getDate() + 1)\r\n\r\n  if (dueDate === today.toISOString().split('T')[0]) {\r\n    return 'Today'\r\n  } else if (dueDate === yesterday.toISOString().split('T')[0]) {\r\n    return 'Yesterday'\r\n  } else if (dueDate === tomorrow.toISOString().split('T')[0]) {\r\n    return 'Tomorrow'\r\n  } else {\r\n    return date.toLocaleDateString('en-US', {\r\n      month: 'short',\r\n      day: 'numeric',\r\n      year: date.getFullYear() !== today.getFullYear() ? 'numeric' : undefined,\r\n    })\r\n  }\r\n}\r\n\r\nexport const sortTodosByPriority = (todos: Todo[]): Todo[] => {\r\n  const priorityOrder = { high: 3, medium: 2, low: 1 }\r\n  return [...todos].sort(\r\n    (a, b) => priorityOrder[b.priority] - priorityOrder[a.priority]\r\n  )\r\n}\r\n\r\nexport const sortTodosByDueDate = (todos: Todo[]): Todo[] => {\r\n  return [...todos].sort((a, b) => {\r\n    if (!a.dueDate && !b.dueDate) return 0\r\n    if (!a.dueDate) return 1\r\n    if (!b.dueDate) return -1\r\n    return new Date(a.dueDate).getTime() - new Date(b.dueDate).getTime()\r\n  })\r\n}\r\n","import { useState, useRef, useEffect, ReactNode } from 'react'\r\n\r\ninterface PopoverProps {\r\n  open?: boolean\r\n  onOpenChange?: (open: boolean) => void\r\n  children: ReactNode\r\n}\r\n\r\ninterface PopoverTriggerProps {\r\n  asChild?: boolean\r\n  children: ReactNode\r\n}\r\n\r\ninterface PopoverContentProps {\r\n  className?: string\r\n  align?: 'start' | 'center' | 'end'\r\n  children: ReactNode\r\n}\r\n\r\nexport function Popover({ open, onOpenChange, children }: PopoverProps) {\r\n  const [isOpen, setIsOpen] = useState(open || false)\r\n  const popoverRef = useRef<HTMLDivElement>(null)\r\n\r\n  useEffect(() => {\r\n    if (open !== undefined) {\r\n      setIsOpen(open)\r\n    }\r\n  }, [open])\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (popoverRef.current && !popoverRef.current.contains(event.target as Node)) {\r\n        const newOpen = false\r\n        setIsOpen(newOpen)\r\n        onOpenChange?.(newOpen)\r\n      }\r\n    }\r\n\r\n    if (isOpen) {\r\n      document.addEventListener('mousedown', handleClickOutside)\r\n      return () => document.removeEventListener('mousedown', handleClickOutside)\r\n    }\r\n  }, [isOpen, onOpenChange])\r\n\r\n  const handleToggle = () => {\r\n    const newOpen = !isOpen\r\n    setIsOpen(newOpen)\r\n    onOpenChange?.(newOpen)\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative\" ref={popoverRef}>\r\n      {/* Clone children and add click handler to trigger */}\r\n      {Array.isArray(children) ? (\r\n        <>\r\n          <div onClick={handleToggle}>{children[0]}</div>\r\n          {isOpen && children[1]}\r\n        </>\r\n      ) : (\r\n        children\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function PopoverTrigger({ children }: PopoverTriggerProps) {\r\n  return <>{children}</>\r\n}\r\n\r\nexport function PopoverContent({ className = '', align = 'start', children }: PopoverContentProps) {\r\n  const alignmentClasses = {\r\n    start: 'left-0',\r\n    center: 'left-1/2 transform -translate-x-1/2',\r\n    end: 'right-0',\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`absolute top-full mt-2 z-50 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none ${alignmentClasses[align]} ${className}`}\r\n    >\r\n      {children}\r\n    </div>\r\n  )\r\n} ","import { useState } from 'react'\r\nimport { Star, TrendingUp } from 'lucide-react'\r\nimport { Button } from '@/shared/ui/button'\r\nimport { Input } from '@/shared/ui/input'\r\nimport {\r\n  Popover,\r\n  PopoverContent,\r\n  PopoverTrigger,\r\n} from '@/shared/ui/popover'\r\n\r\ninterface PointSelectorProps {\r\n  value?: number // Current point value (1-10)\r\n  onChange: (points: number) => void\r\n  disabled?: boolean\r\n  size?: 'sm' | 'md' | 'lg'\r\n  showLabel?: boolean\r\n  className?: string\r\n}\r\n\r\nexport function PointSelector({\r\n  value = 5,\r\n  onChange,\r\n  disabled = false,\r\n  size = 'md',\r\n  showLabel = true,\r\n  className = '',\r\n}: PointSelectorProps) {\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const [customValue, setCustomValue] = useState('')\r\n\r\n  // Quick preset values with labels\r\n  const presets = [\r\n    { value: 1, label: 'Trivial', color: 'bg-gray-100 text-gray-600', icon: '' },\r\n    { value: 3, label: 'Easy', color: 'bg-green-100 text-green-700', icon: '' },\r\n    { value: 5, label: 'Medium', color: 'bg-blue-100 text-blue-700', icon: '' },\r\n    { value: 7, label: 'Hard', color: 'bg-orange-100 text-orange-700', icon: '' },\r\n    { value: 10, label: 'Epic', color: 'bg-purple-100 text-purple-700', icon: '' },\r\n  ]\r\n\r\n  const getPointConfig = (points: number) => {\r\n    if (points <= 2) return { color: 'text-gray-600', bg: 'bg-gray-100', label: 'Trivial' }\r\n    if (points <= 4) return { color: 'text-green-700', bg: 'bg-green-100', label: 'Easy' }\r\n    if (points <= 6) return { color: 'text-blue-700', bg: 'bg-blue-100', label: 'Medium' }\r\n    if (points <= 8) return { color: 'text-orange-700', bg: 'bg-orange-100', label: 'Hard' }\r\n    return { color: 'text-purple-700', bg: 'bg-purple-100', label: 'Epic' }\r\n  }\r\n\r\n  const config = getPointConfig(value)\r\n\r\n  const handlePresetClick = (presetValue: number) => {\r\n    onChange(presetValue)\r\n    setIsOpen(false)\r\n  }\r\n\r\n  const handleCustomSubmit = () => {\r\n    const numValue = parseInt(customValue)\r\n    if (numValue >= 1 && numValue <= 10) {\r\n      onChange(numValue)\r\n      setCustomValue('')\r\n      setIsOpen(false)\r\n    }\r\n  }\r\n\r\n  const renderStars = (points: number) => {\r\n    const filledStars = Math.min(Math.ceil(points / 2), 5)\r\n    return (\r\n      <div className=\"flex items-center gap-0.5\">\r\n        {Array.from({ length: 5 }, (_, i) => (\r\n          <Star\r\n            key={i}\r\n            className={`h-3 w-3 ${\r\n              i < filledStars\r\n                ? 'fill-current text-yellow-400'\r\n                : 'text-gray-300'\r\n            }`}\r\n          />\r\n        ))}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const sizeClasses = {\r\n    sm: 'h-6 px-2 text-xs',\r\n    md: 'h-8 px-3 text-sm',\r\n    lg: 'h-10 px-4 text-base',\r\n  }\r\n\r\n  return (\r\n    <Popover open={isOpen} onOpenChange={setIsOpen}>\r\n      <PopoverTrigger asChild>\r\n        <Button\r\n          variant=\"outline\"\r\n          size=\"sm\"\r\n          disabled={disabled}\r\n          className={`${sizeClasses[size]} ${config.bg} ${config.color} border-current hover:opacity-80 ${className}`}\r\n        >\r\n          <TrendingUp className=\"mr-1 h-3 w-3\" />\r\n          <span className=\"font-medium\">{value}</span>\r\n          {size !== 'sm' && renderStars(value)}\r\n          {showLabel && size === 'lg' && (\r\n            <span className=\"ml-1 text-xs opacity-75\">{config.label}</span>\r\n          )}\r\n        </Button>\r\n      </PopoverTrigger>\r\n      \r\n      <PopoverContent className=\"w-80 p-4\" align=\"start\">\r\n        <div className=\"space-y-4\">\r\n          <div className=\"space-y-2\">\r\n            <h4 className=\"font-medium text-sm\">Task Points</h4>\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              Rate the difficulty or importance of this task (1-10 scale)\r\n            </p>\r\n          </div>\r\n\r\n          {/* Quick presets */}\r\n          <div className=\"space-y-2\">\r\n            <p className=\"text-xs font-medium\">Quick Select:</p>\r\n            <div className=\"grid grid-cols-1 gap-1\">\r\n              {presets.map((preset) => (\r\n                <Button\r\n                  key={preset.value}\r\n                  variant={value === preset.value ? \"default\" : \"ghost\"}\r\n                  size=\"sm\"\r\n                  onClick={() => handlePresetClick(preset.value)}\r\n                  className={`justify-start ${preset.color} ${\r\n                    value === preset.value ? '' : 'hover:' + preset.color\r\n                  }`}\r\n                >\r\n                  <span className=\"mr-2\">{preset.icon}</span>\r\n                  <span className=\"flex-1 text-left\">{preset.value} - {preset.label}</span>\r\n                  {renderStars(preset.value)}\r\n                </Button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Custom value input */}\r\n          <div className=\"space-y-2\">\r\n            <p className=\"text-xs font-medium\">Custom Value:</p>\r\n            <div className=\"flex gap-2\">\r\n              <Input\r\n                type=\"number\"\r\n                min=\"1\"\r\n                max=\"10\"\r\n                placeholder=\"1-10\"\r\n                value={customValue}\r\n                onChange={(e) => setCustomValue(e.target.value)}\r\n                className=\"flex-1\"\r\n                onKeyDown={(e) => {\r\n                  if (e.key === 'Enter') {\r\n                    handleCustomSubmit()\r\n                  }\r\n                }}\r\n              />\r\n              <Button \r\n                size=\"sm\" \r\n                onClick={handleCustomSubmit}\r\n                disabled={!customValue || parseInt(customValue) < 1 || parseInt(customValue) > 10}\r\n              >\r\n                Set\r\n              </Button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Current selection preview */}\r\n          <div className={`p-3 rounded-lg ${config.bg} ${config.color}`}>\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"font-medium\">Current: {value} points</p>\r\n                <p className=\"text-xs opacity-75\">{config.label} difficulty</p>\r\n              </div>\r\n              {renderStars(value)}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </PopoverContent>\r\n    </Popover>\r\n  )\r\n} ","import { Star, TrendingUp } from 'lucide-react'\r\nimport { Badge } from '@/shared/ui/badge'\r\n\r\ninterface PointsDisplayProps {\r\n  points: number // Point value (1-10)\r\n  size?: 'sm' | 'md' | 'lg'\r\n  showStars?: boolean\r\n  showLabel?: boolean\r\n  showIcon?: boolean\r\n  className?: string\r\n}\r\n\r\nexport function PointsDisplay({\r\n  points,\r\n  size = 'md',\r\n  showStars = true,\r\n  showLabel = false,\r\n  showIcon = true,\r\n  className = '',\r\n}: PointsDisplayProps) {\r\n  const getPointConfig = (points: number) => {\r\n    if (points <= 2) return { \r\n      color: 'text-gray-600', \r\n      bg: 'bg-gray-100', \r\n      label: 'Trivial',\r\n      borderColor: 'border-gray-300' \r\n    }\r\n    if (points <= 4) return { \r\n      color: 'text-green-700', \r\n      bg: 'bg-green-100', \r\n      label: 'Easy',\r\n      borderColor: 'border-green-300' \r\n    }\r\n    if (points <= 6) return { \r\n      color: 'text-blue-700', \r\n      bg: 'bg-blue-100', \r\n      label: 'Medium',\r\n      borderColor: 'border-blue-300' \r\n    }\r\n    if (points <= 8) return { \r\n      color: 'text-orange-700', \r\n      bg: 'bg-orange-100', \r\n      label: 'Hard',\r\n      borderColor: 'border-orange-300' \r\n    }\r\n    return { \r\n      color: 'text-purple-700', \r\n      bg: 'bg-purple-100', \r\n      label: 'Epic',\r\n      borderColor: 'border-purple-300' \r\n    }\r\n  }\r\n\r\n  const config = getPointConfig(points)\r\n\r\n  const renderStars = (points: number) => {\r\n    const filledStars = Math.min(Math.ceil(points / 2), 5)\r\n    const starSize = size === 'sm' ? 'h-2.5 w-2.5' : size === 'md' ? 'h-3 w-3' : 'h-3.5 w-3.5'\r\n    \r\n    return (\r\n      <div className=\"flex items-center gap-0.5\">\r\n        {Array.from({ length: 5 }, (_, i) => (\r\n          <Star\r\n            key={i}\r\n            className={`${starSize} ${\r\n              i < filledStars\r\n                ? 'fill-current text-yellow-400'\r\n                : 'text-gray-300'\r\n            }`}\r\n          />\r\n        ))}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const sizeClasses = {\r\n    sm: 'px-1.5 py-0.5 text-xs',\r\n    md: 'px-2 py-0.5 text-sm',\r\n    lg: 'px-2.5 py-1 text-sm',\r\n  }\r\n\r\n  const iconSize = size === 'sm' ? 'h-2.5 w-2.5' : size === 'md' ? 'h-3 w-3' : 'h-3.5 w-3.5'\r\n\r\n  return (\r\n    <Badge\r\n      variant=\"outline\"\r\n      className={`${sizeClasses[size]} ${config.bg} ${config.color} ${config.borderColor} border-current ${className}`}\r\n    >\r\n      {showIcon && <TrendingUp className={`mr-1 ${iconSize}`} />}\r\n      <span className=\"font-medium\">{points}</span>\r\n      {showLabel && size !== 'sm' && (\r\n        <span className=\"ml-1 opacity-75\">{config.label}</span>\r\n      )}\r\n      {showStars && size !== 'sm' && (\r\n        <div className=\"ml-1\">\r\n          {renderStars(points)}\r\n        </div>\r\n      )}\r\n    </Badge>\r\n  )\r\n}\r\n\r\n// Compact version for inline display\r\nexport function PointsBadge({ points, className = '' }: { points: number; className?: string }) {\r\n  return (\r\n    <PointsDisplay\r\n      points={points}\r\n      size=\"sm\"\r\n      showStars={false}\r\n      showLabel={false}\r\n      className={className}\r\n    />\r\n  )\r\n}\r\n\r\n// Full version with all details\r\nexport function PointsCard({ points, className = '' }: { points: number; className?: string }) {\r\n  const config = PointsDisplay({\r\n    points,\r\n    size: 'lg',\r\n    showStars: true,\r\n    showLabel: true,\r\n    className,\r\n  })\r\n\r\n  return config\r\n} ","import { useState, useEffect } from 'react'\r\nimport { Calendar, X } from 'lucide-react'\r\nimport { Button } from '@/shared/ui/button'\r\nimport { Input } from '@/shared/ui/input'\r\nimport { Popover, PopoverContent, PopoverTrigger } from '@/shared/ui/popover'\r\n\r\ninterface EnhancedDatePickerProps {\r\n  value?: string // ISO datetime string\r\n  onChange: (dateTime: string | undefined) => void\r\n  placeholder?: string\r\n  disabled?: boolean\r\n  className?: string\r\n}\r\n\r\nexport function EnhancedDatePicker({\r\n  value,\r\n  onChange,\r\n  placeholder = 'Due date (e.g., tomorrow 2pm)',\r\n  disabled = false,\r\n  className = '',\r\n}: EnhancedDatePickerProps) {\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const [selectedTime, setSelectedTime] = useState('')\r\n  const [selectedDate, setSelectedDate] = useState('')\r\n\r\n  // Initialize from value\r\n  useEffect(() => {\r\n    if (value) {\r\n      const date = new Date(value)\r\n      setSelectedDate(date.toISOString().split('T')[0])\r\n      setSelectedTime(date.toTimeString().slice(0, 5))\r\n    }\r\n  }, [value])\r\n\r\n  const handleManualDateTimeChange = () => {\r\n    if (selectedDate) {\r\n      const dateTime = new Date(`${selectedDate}T${selectedTime || '17:00'}`)\r\n      if (!isNaN(dateTime.getTime())) {\r\n        onChange(dateTime.toISOString())\r\n        setIsOpen(false)\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleClear = () => {\r\n    onChange(undefined)\r\n    setSelectedDate('')\r\n    setSelectedTime('')\r\n    setIsOpen(false)\r\n  }\r\n\r\n  const formatDateTime = (isoString: string) => {\r\n    const date = new Date(isoString)\r\n    const now = new Date()\r\n    const isToday = date.toDateString() === now.toDateString()\r\n    const isTomorrow = date.toDateString() === new Date(now.getTime() + 24 * 60 * 60 * 1000).toDateString()\r\n    \r\n    let dateStr = date.toLocaleDateString()\r\n    if (isToday) dateStr = 'Today'\r\n    else if (isTomorrow) dateStr = 'Tomorrow'\r\n    \r\n    const timeStr = date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\r\n    \r\n    return `${dateStr} at ${timeStr}`\r\n  }\r\n\r\n  return (\r\n    <Popover open={isOpen} onOpenChange={setIsOpen}>\r\n      <PopoverTrigger asChild>\r\n        <Button\r\n          variant=\"outline\"\r\n          disabled={disabled}\r\n          className={`justify-start text-left font-normal ${\r\n            !value && 'text-muted-foreground'\r\n          } ${className}`}\r\n        >\r\n          <Calendar className=\"mr-2 h-4 w-4\" />\r\n          {value ? formatDateTime(value) : placeholder}\r\n          {value && (\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              className=\"ml-auto h-auto p-0 text-muted-foreground hover:text-foreground\"\r\n              onClick={(e) => {\r\n                e.stopPropagation()\r\n                handleClear()\r\n              }}\r\n            >\r\n              <X className=\"h-3 w-3\" />\r\n            </Button>\r\n          )}\r\n        </Button>\r\n      </PopoverTrigger>\r\n\r\n      <PopoverContent className=\"w-96 p-4\" align=\"start\">\r\n        <div className=\"space-y-4\">\r\n          {/* Manual date/time picker */}\r\n          <div className=\"space-y-2\">\r\n            <label className=\"text-sm font-medium\">Set Date & Time</label>\r\n            <div className=\"grid grid-cols-2 gap-2\">\r\n              <div>\r\n                <Input\r\n                  type=\"date\"\r\n                  value={selectedDate}\r\n                  onChange={(e) => setSelectedDate(e.target.value)}\r\n                  className=\"w-full\"\r\n                />\r\n              </div>\r\n              <div className=\"flex gap-1\">\r\n                <Input\r\n                  type=\"time\"\r\n                  value={selectedTime}\r\n                  onChange={(e) => setSelectedTime(e.target.value)}\r\n                  className=\"flex-1\"\r\n                />\r\n                <Button\r\n                  size=\"sm\"\r\n                  onClick={handleManualDateTimeChange}\r\n                  disabled={!selectedDate}\r\n                >\r\n                  Set\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex justify-between\">\r\n            <Button variant=\"outline\" size=\"sm\" onClick={handleClear}>\r\n              Clear\r\n            </Button>\r\n            <Button variant=\"outline\" size=\"sm\" onClick={() => setIsOpen(false)}>\r\n              Close\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </PopoverContent>\r\n    </Popover>\r\n  )\r\n}","import { useState, useEffect } from 'react'\r\nimport { Eye, Edit3, Bold, Italic, List, Link, Code } from 'lucide-react'\r\nimport { Button } from '@/shared/ui/button'\r\nimport { Badge } from '@/shared/ui/badge'\r\nimport { Card, CardContent } from '@/shared/ui/card'\r\nimport { Textarea } from '@/shared/ui/textarea'\r\nimport { DescriptionFormat } from '../../types'\r\n\r\ninterface RichTextEditorProps {\r\n  value?: string // Description content\r\n  format?: DescriptionFormat // Format type\r\n  onChange: (content: string, format: DescriptionFormat) => void\r\n  placeholder?: string\r\n  disabled?: boolean\r\n  className?: string\r\n  maxLength?: number\r\n  minHeight?: number\r\n}\r\n\r\nexport function RichTextEditor({\r\n  value = '',\r\n  format = 'markdown',\r\n  onChange,\r\n  placeholder = 'Add a detailed description...',\r\n  disabled = false,\r\n  className = '',\r\n  maxLength = 5000,\r\n  minHeight = 120,\r\n}: RichTextEditorProps) {\r\n  const [isPreviewMode, setIsPreviewMode] = useState(false)\r\n  const [currentValue, setCurrentValue] = useState(value)\r\n  const [currentFormat, setCurrentFormat] = useState(format)\r\n\r\n  useEffect(() => {\r\n    setCurrentValue(value)\r\n  }, [value])\r\n\r\n  useEffect(() => {\r\n    setCurrentFormat(format)\r\n  }, [format])\r\n\r\n  const handleChange = (newValue: string) => {\r\n    setCurrentValue(newValue)\r\n    onChange(newValue, currentFormat)\r\n  }\r\n\r\n  const handleFormatChange = (newFormat: DescriptionFormat) => {\r\n    setCurrentFormat(newFormat)\r\n    onChange(currentValue, newFormat)\r\n  }\r\n\r\n  const insertMarkdown = (wrapper: string, placeholder: string = '') => {\r\n    const textarea = document.querySelector(`[data-editor-id=\"${editorId}\"]`) as HTMLTextAreaElement\r\n    if (!textarea) return\r\n\r\n    const start = textarea.selectionStart\r\n    const end = textarea.selectionEnd\r\n    const selectedText = currentValue.substring(start, end)\r\n    const textToInsert = selectedText || placeholder\r\n\r\n    let newText = ''\r\n    if (wrapper === '[]()') {\r\n      // Special case for links\r\n      newText = `[${textToInsert || 'Link text'}](${selectedText ? '' : 'URL'})`\r\n    } else {\r\n      newText = `${wrapper}${textToInsert}${wrapper}`\r\n    }\r\n\r\n    const newValue = currentValue.substring(0, start) + newText + currentValue.substring(end)\r\n    handleChange(newValue)\r\n\r\n    // Restore focus and selection\r\n    setTimeout(() => {\r\n      textarea.focus()\r\n      const newCursorPos = start + newText.length\r\n      textarea.setSelectionRange(newCursorPos, newCursorPos)\r\n    }, 0)\r\n  }\r\n\r\n  const renderPreview = () => {\r\n    if (currentFormat === 'markdown') {\r\n      return renderMarkdownPreview(currentValue)\r\n    } else if (currentFormat === 'html') {\r\n      return <div dangerouslySetInnerHTML={{ __html: currentValue }} />\r\n    } else {\r\n      return <div className=\"whitespace-pre-wrap\">{currentValue}</div>\r\n    }\r\n  }\r\n\r\n  const renderMarkdownPreview = (markdown: string) => {\r\n    // Simple markdown renderer (we'll enhance this when react-markdown is available)\r\n    let html = markdown\r\n      .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\r\n      .replace(/\\*(.*?)\\*/g, '<em>$1</em>')\r\n      .replace(/`(.*?)`/g, '<code class=\"bg-muted px-1 rounded\">$1</code>')\r\n      .replace(/^### (.*$)/gm, '<h3 class=\"text-lg font-semibold mt-4 mb-2\">$1</h3>')\r\n      .replace(/^## (.*$)/gm, '<h2 class=\"text-xl font-semibold mt-4 mb-2\">$1</h2>')\r\n      .replace(/^# (.*$)/gm, '<h1 class=\"text-2xl font-bold mt-4 mb-2\">$1</h1>')\r\n      .replace(/^- (.*$)/gm, '<li class=\"ml-4\"> $1</li>')\r\n      .replace(/\\[([^\\]]+)\\]\\(([^)]+)\\)/g, '<a href=\"$2\" class=\"text-blue-600 hover:underline\" target=\"_blank\" rel=\"noopener\">$1</a>')\r\n      .replace(/\\n\\n/g, '</p><p class=\"mt-2\">')\r\n      .replace(/\\n/g, '<br>')\r\n\r\n    // Wrap in paragraph tags\r\n    if (html && !html.includes('<h1>') && !html.includes('<h2>') && !html.includes('<h3>')) {\r\n      html = `<p>${html}</p>`\r\n    }\r\n\r\n    return <div dangerouslySetInnerHTML={{ __html: html }} className=\"prose prose-sm max-w-none\" />\r\n  }\r\n\r\n  const editorId = `editor-${Math.random().toString(36).substr(2, 9)}`\r\n\r\n  const formatButtons = [\r\n    { icon: Bold, action: () => insertMarkdown('**', 'bold text'), tooltip: 'Bold' },\r\n    { icon: Italic, action: () => insertMarkdown('*', 'italic text'), tooltip: 'Italic' },\r\n    { icon: Code, action: () => insertMarkdown('`', 'code'), tooltip: 'Code' },\r\n    { icon: Link, action: () => insertMarkdown('[]()', 'link'), tooltip: 'Link' },\r\n    { icon: List, action: () => insertMarkdown('- ', ''), tooltip: 'List item' },\r\n  ]\r\n\r\n  return (\r\n    <div className={`space-y-2 ${className}`}>\r\n      {/* Format selector and toolbar */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-2\">\r\n          {/* Format selector */}\r\n          <div className=\"flex items-center gap-1\">\r\n            {(['markdown', 'plaintext'] as DescriptionFormat[]).map((fmt) => (\r\n              <Button\r\n                key={fmt}\r\n                variant={currentFormat === fmt ? 'default' : 'outline'}\r\n                size=\"sm\"\r\n                onClick={() => handleFormatChange(fmt)}\r\n                className=\"h-7 px-2 text-xs\"\r\n              >\r\n                {fmt === 'markdown' ? 'MD' : 'TXT'}\r\n              </Button>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Markdown toolbar */}\r\n          {currentFormat === 'markdown' && !isPreviewMode && (\r\n            <div className=\"flex items-center gap-1 ml-2 border-l pl-2\">\r\n              {formatButtons.map((button, index) => (\r\n                <Button\r\n                  key={index}\r\n                  variant=\"ghost\"\r\n                  size=\"sm\"\r\n                  onClick={button.action}\r\n                  className=\"h-7 w-7 p-0\"\r\n                  title={button.tooltip}\r\n                >\r\n                  <button.icon className=\"h-3 w-3\" />\r\n                </Button>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Preview toggle */}\r\n        {currentFormat === 'markdown' && (\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={() => setIsPreviewMode(!isPreviewMode)}\r\n            className=\"h-7 px-2 text-xs\"\r\n          >\r\n            {isPreviewMode ? (\r\n              <>\r\n                <Edit3 className=\"mr-1 h-3 w-3\" />\r\n                Edit\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Eye className=\"mr-1 h-3 w-3\" />\r\n                Preview\r\n              </>\r\n            )}\r\n          </Button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Editor/Preview area */}\r\n      <Card>\r\n        <CardContent className=\"p-3\">\r\n          {isPreviewMode ? (\r\n            <div\r\n              className=\"min-h-[120px] text-sm\"\r\n              style={{ minHeight: `${minHeight}px` }}\r\n            >\r\n              {currentValue ? renderPreview() : (\r\n                <div className=\"text-muted-foreground italic\">\r\n                  No content to preview\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <Textarea\r\n              data-editor-id={editorId}\r\n              value={currentValue}\r\n              onChange={(e) => handleChange(e.target.value)}\r\n              placeholder={placeholder}\r\n              disabled={disabled}\r\n              className=\"resize-none border-0 focus-visible:ring-0 p-0\"\r\n              style={{ minHeight: `${minHeight}px` }}\r\n              maxLength={maxLength}\r\n            />\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Status bar */}\r\n      <div className=\"flex items-center justify-between text-xs text-muted-foreground\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <Badge variant=\"outline\" className=\"text-xs\">\r\n            {currentFormat.toUpperCase()}\r\n          </Badge>\r\n          {currentFormat === 'markdown' && (\r\n            <span>\r\n              Tip: Use **bold**, *italic*, `code`, [links](url), - lists\r\n            </span>\r\n          )}\r\n        </div>\r\n        <div>\r\n          {currentValue.length}/{maxLength}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n// Simpler read-only preview component\r\nexport function RichTextPreview({\r\n  content,\r\n  format = 'markdown',\r\n  className = '',\r\n}: {\r\n  content: string\r\n  format?: DescriptionFormat\r\n  className?: string\r\n}) {\r\n  const renderContent = () => {\r\n    if (format === 'markdown') {\r\n      return renderMarkdownPreview(content)\r\n    } else if (format === 'html') {\r\n      return <div dangerouslySetInnerHTML={{ __html: content }} />\r\n    } else {\r\n      return <div className=\"whitespace-pre-wrap\">{content}</div>\r\n    }\r\n  }\r\n\r\n  const renderMarkdownPreview = (markdown: string) => {\r\n    let html = markdown\r\n      .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\r\n      .replace(/\\*(.*?)\\*/g, '<em>$1</em>')\r\n      .replace(/`(.*?)`/g, '<code class=\"bg-muted px-1 rounded text-xs\">$1</code>')\r\n      .replace(/^### (.*$)/gm, '<h3 class=\"text-sm font-semibold mt-2 mb-1\">$1</h3>')\r\n      .replace(/^## (.*$)/gm, '<h2 class=\"text-base font-semibold mt-2 mb-1\">$1</h2>')\r\n      .replace(/^# (.*$)/gm, '<h1 class=\"text-lg font-bold mt-2 mb-1\">$1</h1>')\r\n      .replace(/^- (.*$)/gm, '<li class=\"ml-4 text-sm\"> $1</li>')\r\n      .replace(/\\[([^\\]]+)\\]\\(([^)]+)\\)/g, '<a href=\"$2\" class=\"text-blue-600 hover:underline text-sm\" target=\"_blank\" rel=\"noopener\">$1</a>')\r\n      .replace(/\\n\\n/g, '</p><p class=\"mt-1\">')\r\n      .replace(/\\n/g, '<br>')\r\n\r\n    if (html && !html.includes('<h1>') && !html.includes('<h2>') && !html.includes('<h3>')) {\r\n      html = `<p class=\"text-sm\">${html}</p>`\r\n    }\r\n\r\n    return <div dangerouslySetInnerHTML={{ __html: html }} className=\"prose prose-sm max-w-none\" />\r\n  }\r\n\r\n  if (!content) return null\r\n\r\n  return (\r\n    <div className={`text-sm ${className}`}>\r\n      {renderContent()}\r\n    </div>\r\n  )\r\n} ","import { useState } from 'react'\r\nimport { Card, CardContent } from '@/shared/ui/card'\r\nimport { Button } from '@/shared/ui/button'\r\nimport { Badge } from '@/shared/ui/badge'\r\nimport { Progress } from '@/shared/ui/progress'\r\nimport { Input } from '@/shared/ui/input'\r\nimport { Calendar, ChevronDown, ChevronRight, Plus, Edit3, FileText, Clock } from 'lucide-react'\r\nimport { Todo } from '../types'\r\nimport { useTasksStore } from '../store'\r\nimport {\r\n  formatDueDate,\r\n  isOverdue,\r\n  isDueToday,\r\n  getPriorityConfig,\r\n  getCategoryConfig,\r\n} from '../utils'\r\nimport { useSwipeable } from 'react-swipeable'\r\nimport {\r\n  PointsDisplay,\r\n  RichTextPreview,\r\n  RichTextEditor \r\n} from './rich-content'\r\n\r\ninterface EnhancedTodoRowProps {\r\n  todo: Todo\r\n}\r\n\r\nexport default function EnhancedTodoRow({\r\n  todo,\r\n}: EnhancedTodoRowProps) {\r\n  const [isPressed, setIsPressed] = useState(false)\r\n  const [isExpanded, setIsExpanded] = useState(false)\r\n  const [isEditingDescription, setIsEditingDescription] = useState(false)\r\n  const [isAddingSubtask, setIsAddingSubtask] = useState(false)\r\n  const [newSubtaskText, setNewSubtaskText] = useState('')\r\n\r\n  const { \r\n    updateTodoField,\r\n    deleteTodo, \r\n    addSubtask, \r\n    deleteSubtask,\r\n    toggleTodo,\r\n    toggleSubtask\r\n  } = useTasksStore()\r\n\r\n  const priorityConfig = getPriorityConfig(todo.priority)\r\n  const categoryConfig = getCategoryConfig(todo.category)\r\n  const completionPercentage = todo.subtasks?.length > 0 \r\n    ? (todo.subtasks.filter(s => s.done).length / todo.subtasks.length) * 100 \r\n    : 0\r\n\r\n  const handleToggle = async () => {\r\n    try {\r\n      await toggleTodo(todo.id)\r\n    } catch (error) {\r\n      console.error('Failed to toggle todo:', error)\r\n    }\r\n  }\r\n\r\n  const handleDelete = () => {\r\n    const confirmed = window.confirm(`Delete task: \"${todo.summary}\"?`)\r\n    if (confirmed) {\r\n      deleteTodo(todo.id)\r\n    }\r\n  }\r\n\r\n  const handleAddSubtask = async () => {\r\n    if (!newSubtaskText.trim()) return\r\n\r\n    try {\r\n      await addSubtask(todo.id, newSubtaskText.trim())\r\n      setNewSubtaskText('')\r\n      setIsAddingSubtask(false)\r\n    } catch (error) {\r\n      console.error('Failed to add subtask:', error)\r\n    }\r\n  }\r\n\r\n  const handleSubtaskKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter') {\r\n      handleAddSubtask()\r\n    } else if (e.key === 'Escape') {\r\n      setIsAddingSubtask(false)\r\n      setNewSubtaskText('')\r\n    }\r\n  }\r\n\r\n\r\n\r\n  const handleDescriptionChange = (content: string, format: 'markdown' | 'plaintext' | 'html') => {\r\n    updateTodoField(todo.id, 'description', content)\r\n    updateTodoField(todo.id, 'descriptionFormat', format)\r\n  }\r\n\r\n  const formatEnhancedDueDate = (dateTime?: string): string => {\r\n    if (!dateTime) return ''\r\n    \r\n    const date = new Date(dateTime)\r\n    const now = new Date()\r\n    const isToday = date.toDateString() === now.toDateString()\r\n    const isTomorrow = date.toDateString() === new Date(now.getTime() + 24 * 60 * 60 * 1000).toDateString()\r\n    \r\n    let dateStr = date.toLocaleDateString()\r\n    if (isToday) dateStr = 'Today'\r\n    else if (isTomorrow) dateStr = 'Tomorrow'\r\n    \r\n    const timeStr = date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\r\n    \r\n    return `${dateStr} ${timeStr}`\r\n  }\r\n\r\n  const swipeHandlers = useSwipeable({\r\n    onSwipedLeft: () => {\r\n      handleDelete()\r\n    },\r\n    preventScrollOnSwipe: true,\r\n    trackMouse: true,\r\n  })\r\n\r\n  const hasDescription = todo.description && todo.description.trim().length > 0\r\n  const hasEnhancedDueDate = todo.dueDateTime\r\n\r\n  return (\r\n    <Card\r\n      {...swipeHandlers}\r\n      className={`transition-all duration-150 ${\r\n        isPressed ? 'scale-95 bg-muted' : 'hover:bg-muted/50'\r\n      } ${todo.done ? 'opacity-75' : ''} ${\r\n        isOverdue({ ...todo, dueDate: todo.dueDateTime?.split('T')[0] }) ? 'border-red-200 bg-red-50/50' : ''\r\n      }`}\r\n      onTouchStart={() => setIsPressed(true)}\r\n      onTouchEnd={() => setIsPressed(false)}\r\n      onMouseDown={() => setIsPressed(true)}\r\n      onMouseUp={() => setIsPressed(false)}\r\n      onMouseLeave={() => setIsPressed(false)}\r\n    >\r\n      <CardContent className=\"px-4 py-3\">\r\n        <div className=\"space-y-3\">\r\n          {/* Main todo row */}\r\n          <div className=\"flex items-center gap-3\">\r\n            {/* Expand button for subtasks */}\r\n            {((todo.subtasks && todo.subtasks.length > 0) || hasDescription) && (\r\n              <button\r\n                onClick={() => setIsExpanded(!isExpanded)}\r\n                className=\"rounded p-0.5 transition-colors hover:bg-muted\"\r\n              >\r\n                {isExpanded ? (\r\n                  <ChevronDown className=\"h-4 w-4 text-muted-foreground\" />\r\n                ) : (\r\n                  <ChevronRight className=\"h-4 w-4 text-muted-foreground\" />\r\n                )}\r\n              </button>\r\n            )}\r\n\r\n            {/* Checkbox */}\r\n            <button\r\n              onClick={handleToggle}\r\n              className={`flex h-5 w-5 items-center justify-center rounded border-2 transition-colors ${\r\n                todo.done\r\n                  ? 'border-primary bg-primary text-primary-foreground'\r\n                  : 'border-muted-foreground hover:border-primary'\r\n              }`}\r\n            >\r\n              {todo.done && (\r\n                <svg\r\n                  className=\"h-3 w-3\"\r\n                  fill=\"currentColor\"\r\n                  viewBox=\"0 0 20 20\"\r\n                >\r\n                  <path\r\n                    fillRule=\"evenodd\"\r\n                    d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\"\r\n                    clipRule=\"evenodd\"\r\n                  />\r\n                </svg>\r\n              )}\r\n            </button>\r\n\r\n            {/* Todo text and details */}\r\n            <div className=\"min-w-0 flex-1 space-y-1\">\r\n              <div className=\"flex items-start justify-between\">\r\n                <p\r\n                  className={`text-sm transition-all ${\r\n                    todo.done\r\n                      ? 'text-muted-foreground line-through'\r\n                      : 'text-foreground'\r\n                  }`}\r\n                >\r\n                  {todo.summary}\r\n                </p>\r\n                \r\n                {/* Enhanced indicators */}\r\n                <div className=\"flex items-center gap-1 ml-2\">\r\n                  {hasDescription && (\r\n                    <FileText className=\"h-3 w-3 text-muted-foreground\" />\r\n                  )}\r\n                  {hasEnhancedDueDate && (\r\n                    <Clock className=\"h-3 w-3 text-muted-foreground\" />\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Progress bar for subtasks */}\r\n              {todo.subtasks && todo.subtasks.length > 0 && (\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Progress\r\n                    value={completionPercentage}\r\n                    className=\"h-1.5 flex-1\"\r\n                  />\r\n                  <span className=\"text-xs text-muted-foreground\">\r\n                    {todo.subtasks.filter((s) => s.done).length}/{todo.subtasks.length}\r\n                  </span>\r\n                </div>\r\n              )}\r\n\r\n              {/* Enhanced tags and badges */}\r\n              <div className=\"flex flex-wrap items-center gap-2\">\r\n                {/* Points display */}\r\n                {todo.points && (\r\n                  <PointsDisplay \r\n                    points={todo.points} \r\n                    size=\"sm\" \r\n                    showStars={false}\r\n                    showLabel={false}\r\n                  />\r\n                )}\r\n\r\n                {/* Priority badge */}\r\n                <Badge\r\n                  variant=\"outline\"\r\n                  className={`px-2 py-0.5 text-xs ${priorityConfig.color} border-current`}\r\n                >\r\n                  <span className=\"mr-1\">{priorityConfig.icon}</span>\r\n                  {priorityConfig.label}\r\n                </Badge>\r\n\r\n                {/* Category badge */}\r\n                <Badge\r\n                  variant=\"outline\"\r\n                  className={`px-2 py-0.5 text-xs ${categoryConfig.color} border-current`}\r\n                >\r\n                  <span className=\"mr-1\">{categoryConfig.icon}</span>\r\n                  {categoryConfig.label}\r\n                </Badge>\r\n\r\n                {/* Enhanced due date badge */}\r\n                {hasEnhancedDueDate ? (\r\n                  <Badge\r\n                    variant=\"outline\"\r\n                    className={`px-2 py-0.5 text-xs ${\r\n                      isOverdue({ ...todo, dueDate: todo.dueDateTime?.split('T')[0] })\r\n                        ? 'border-red-300 bg-red-50 text-red-600'\r\n                        : isDueToday({ ...todo, dueDate: todo.dueDateTime?.split('T')[0] })\r\n                          ? 'border-orange-300 bg-orange-50 text-orange-600'\r\n                          : 'border-blue-300 bg-blue-50 text-blue-600'\r\n                    }`}\r\n                  >\r\n                    <Calendar className=\"mr-1 h-3 w-3\" />\r\n                    {formatEnhancedDueDate(todo.dueDateTime)}\r\n                  </Badge>\r\n                ) : todo.dueDate && (\r\n                  <Badge\r\n                    variant=\"outline\"\r\n                    className={`px-2 py-0.5 text-xs ${\r\n                      isOverdue(todo)\r\n                        ? 'border-red-300 bg-red-50 text-red-600'\r\n                        : isDueToday(todo)\r\n                          ? 'border-orange-300 bg-orange-50 text-orange-600'\r\n                          : 'border-blue-300 bg-blue-50 text-blue-600'\r\n                    }`}\r\n                  >\r\n                    <Calendar className=\"mr-1 h-3 w-3\" />\r\n                    {formatDueDate(todo.dueDate)}\r\n                  </Badge>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Add subtask button */}\r\n            <Button\r\n              size=\"sm\"\r\n              variant=\"ghost\"\r\n              onClick={() => setIsAddingSubtask(true)}\r\n              className=\"h-8 w-8 p-0 hover:bg-muted\"\r\n            >\r\n              <Plus className=\"h-4 w-4\" />\r\n            </Button>\r\n          </div>\r\n\r\n          {/* Expanded section */}\r\n          {isExpanded && (\r\n            <div className=\"ml-8 space-y-3\">\r\n              {/* Rich text description */}\r\n              {hasDescription && (\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <h4 className=\"text-sm font-medium text-muted-foreground\">Description</h4>\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"sm\"\r\n                      onClick={() => setIsEditingDescription(!isEditingDescription)}\r\n                      className=\"h-6 px-2 text-xs\"\r\n                    >\r\n                      <Edit3 className=\"mr-1 h-3 w-3\" />\r\n                      {isEditingDescription ? 'Save' : 'Edit'}\r\n                    </Button>\r\n                  </div>\r\n                  \r\n                  {isEditingDescription ? (\r\n                    <RichTextEditor\r\n                      value={todo.description}\r\n                      format={todo.descriptionFormat}\r\n                      onChange={handleDescriptionChange}\r\n                      minHeight={80}\r\n                      className=\"text-sm\"\r\n                    />\r\n                  ) : (\r\n                    <RichTextPreview\r\n                      content={todo.description || ''}\r\n                      format={todo.descriptionFormat}\r\n                      className=\"p-2 bg-muted/30 rounded\"\r\n                    />\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {/* Subtasks section */}\r\n              {todo.subtasks && todo.subtasks.length > 0 && (\r\n                <div className=\"space-y-2\">\r\n                  <h4 className=\"text-sm font-medium text-muted-foreground\">Subtasks</h4>\r\n                  {todo.subtasks.map((subtask) => (\r\n                    <div\r\n                      key={subtask.id}\r\n                      className=\"flex items-center gap-2 text-sm\"\r\n                    >\r\n                      <button\r\n                        onClick={() => toggleSubtask(todo.id, subtask.id)}\r\n                        className={`flex h-4 w-4 items-center justify-center rounded border transition-colors ${\r\n                          subtask.done\r\n                            ? 'border-primary bg-primary text-primary-foreground'\r\n                            : 'border-muted-foreground hover:border-primary'\r\n                        }`}\r\n                      >\r\n                        {subtask.done && (\r\n                          <svg\r\n                            className=\"h-2.5 w-2.5\"\r\n                            fill=\"currentColor\"\r\n                            viewBox=\"0 0 20 20\"\r\n                          >\r\n                            <path\r\n                              fillRule=\"evenodd\"\r\n                              d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\"\r\n                              clipRule=\"evenodd\"\r\n                            />\r\n                          </svg>\r\n                        )}\r\n                      </button>\r\n                      <span\r\n                        className={\r\n                          subtask.done ? 'text-muted-foreground line-through' : ''\r\n                        }\r\n                      >\r\n                        {subtask.text}\r\n                      </span>\r\n                      <button\r\n                        onClick={() => deleteSubtask(todo.id, subtask.id)}\r\n                        className=\"ml-auto text-muted-foreground transition-colors hover:text-red-500\"\r\n                      >\r\n                        \r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Add subtask input */}\r\n          {isAddingSubtask && (\r\n            <div className=\"ml-8 flex items-center gap-2\">\r\n              <Input\r\n                placeholder=\"Add subtask...\"\r\n                value={newSubtaskText}\r\n                onChange={(e) => setNewSubtaskText(e.target.value)}\r\n                onKeyPress={handleSubtaskKeyPress}\r\n                onBlur={() => {\r\n                  if (!newSubtaskText.trim()) {\r\n                    setIsAddingSubtask(false)\r\n                  }\r\n                }}\r\n                className=\"text-sm\"\r\n                autoFocus\r\n              />\r\n              <Button\r\n                size=\"sm\"\r\n                onClick={handleAddSubtask}\r\n                disabled={!newSubtaskText.trim()}\r\n              >\r\n                Add\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n} ","import { GoalCategory } from './types'\r\n\r\nexport const GOAL_CATEGORIES: {\r\n  value: GoalCategory\r\n  label: string\r\n  icon: string\r\n  description: string\r\n}[] = [\r\n  { \r\n    value: 'health', \r\n    label: 'Health & Fitness', \r\n    icon: '', \r\n    description: 'Physical and mental wellbeing goals' \r\n  },\r\n  { \r\n    value: 'career', \r\n    label: 'Career & Work', \r\n    icon: '', \r\n    description: 'Professional development and work goals' \r\n  },\r\n  { \r\n    value: 'learning', \r\n    label: 'Learning & Skills', \r\n    icon: '', \r\n    description: 'Education and skill development goals' \r\n  },\r\n  { \r\n    value: 'personal', \r\n    label: 'Personal Growth', \r\n    icon: '', \r\n    description: 'Self-improvement and personal development' \r\n  },\r\n  { \r\n    value: 'finance', \r\n    label: 'Finance & Money', \r\n    icon: '', \r\n    description: 'Financial planning and money goals' \r\n  },\r\n  { \r\n    value: 'relationships', \r\n    label: 'Relationships', \r\n    icon: '', \r\n    description: 'Family, friends, and social connections' \r\n  },\r\n  { \r\n    value: 'other', \r\n    label: 'Other', \r\n    icon: '', \r\n    description: 'Miscellaneous goals' \r\n  },\r\n]\r\n\r\nexport const GOAL_COLORS = [\r\n  '#3B82F6', // Blue\r\n  '#10B981', // Green\r\n  '#F59E0B', // Yellow\r\n  '#EF4444', // Red\r\n  '#8B5CF6', // Purple\r\n  '#F97316', // Orange\r\n  '#06B6D4', // Cyan\r\n  '#84CC16', // Lime\r\n  '#EC4899', // Pink\r\n  '#6B7280', // Gray\r\n]\r\n\r\nexport const getRandomGoalColor = (): string => {\r\n  return GOAL_COLORS[Math.floor(Math.random() * GOAL_COLORS.length)]\r\n}\r\n\r\nexport const getCategoryInfo = (category: GoalCategory) => {\r\n  return GOAL_CATEGORIES.find(cat => cat.value === category) || GOAL_CATEGORIES[GOAL_CATEGORIES.length - 1]\r\n}\r\n\r\nexport const formatTargetDate = (dateString?: string): string => {\r\n  if (!dateString) return 'No deadline'\r\n  \r\n  const date = new Date(dateString)\r\n  const now = new Date()\r\n  const diffTime = date.getTime() - now.getTime()\r\n  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))\r\n  \r\n  if (diffDays < 0) {\r\n    return `${Math.abs(diffDays)} days overdue`\r\n  } else if (diffDays === 0) {\r\n    return 'Due today'\r\n  } else if (diffDays === 1) {\r\n    return 'Due tomorrow'\r\n  } else if (diffDays <= 7) {\r\n    return `Due in ${diffDays} days`\r\n  } else {\r\n    return date.toLocaleDateString()\r\n  }\r\n} ","import { create } from 'zustand'\r\n// import { v4 as uuidv4 } from 'uuid' // Temporarily commented out\r\nimport { SimpleGoal, GoalProgress, GoalWithProgress, GoalCategory } from './types'\r\nimport { getRandomGoalColor } from './utils'\r\nimport { getSupabaseClient } from '@/lib/supabase'\r\n\r\ninterface GoalsState {\r\n  goals: SimpleGoal[]\r\n  isLoading: boolean\r\n  error: string | null\r\n\r\n  // Goal Actions\r\n  addGoal: (goal: Omit<SimpleGoal, 'id' | 'createdAt' | 'updatedAt'>) => Promise<void>\r\n  updateGoal: (id: string, updates: Partial<SimpleGoal>) => Promise<void>\r\n  deleteGoal: (id: string) => Promise<void>\r\n  toggleGoalActive: (id: string) => Promise<void>\r\n  loadGoals: () => Promise<void>\r\n\r\n  // Progress Calculation\r\n  calculateGoalProgress: (goalId: string, todos: Array<{ goalId?: string; done: boolean }>) => GoalProgress\r\n  getGoalsWithProgress: (todos: Array<{ goalId?: string; done: boolean }>) => GoalWithProgress[]\r\n  getActiveGoals: () => SimpleGoal[]\r\n  getGoalsByCategory: (category: GoalCategory) => SimpleGoal[]\r\n\r\n  // Utility Actions\r\n  clearError: () => void\r\n}\r\n\r\n// Mock data for development\r\nconst mockGoals: SimpleGoal[] = [\r\n  {\r\n    id: '1',\r\n    title: 'Get in Shape',\r\n    category: 'health',\r\n    description: 'Lose 20 pounds and build muscle',\r\n    targetDate: '2024-06-01',\r\n    color: '#10B981',\r\n    isActive: true,\r\n    createdAt: '2024-01-01T00:00:00Z',\r\n    updatedAt: '2024-01-01T00:00:00Z',\r\n  },\r\n  {\r\n    id: '2',\r\n    title: 'Learn TypeScript',\r\n    category: 'learning',\r\n    description: 'Master TypeScript for better development',\r\n    targetDate: '2024-04-01',\r\n    color: '#3B82F6',\r\n    isActive: true,\r\n    createdAt: '2024-01-02T00:00:00Z',\r\n    updatedAt: '2024-01-02T00:00:00Z',\r\n  },\r\n  {\r\n    id: '3',\r\n    title: 'Save for Vacation',\r\n    category: 'finance',\r\n    description: 'Save $3000 for summer vacation',\r\n    color: '#F59E0B',\r\n    isActive: true,\r\n    createdAt: '2024-01-03T00:00:00Z',\r\n    updatedAt: '2024-01-03T00:00:00Z',\r\n  },\r\n]\r\n\r\nexport const useGoalsStore = create<GoalsState>((set, get) => ({\r\n  goals: mockGoals,\r\n  isLoading: false,\r\n  error: null,\r\n\r\n  loadGoals: async () => {\r\n    try {\r\n      set({ isLoading: true, error: null })\r\n      \r\n      const supabase = await getSupabaseClient()\r\n      if (!supabase) {\r\n        // Fallback to mock data if Supabase not available\r\n        set({ goals: mockGoals, isLoading: false })\r\n        return\r\n      }\r\n\r\n      const { data, error } = await supabase\r\n        .from('goals')\r\n        .select('*')\r\n        .order('created_at', { ascending: false })\r\n\r\n      if (error) throw error\r\n\r\n      const goals: SimpleGoal[] = (data || []).map(item => ({\r\n        id: item.id as string,\r\n        title: item.title as string,\r\n        category: item.category as GoalCategory,\r\n        description: item.description as string | undefined,\r\n        targetDate: item.target_date as string | undefined,\r\n        color: item.color as string,\r\n        isActive: item.is_active as boolean,\r\n        createdAt: item.created_at as string,\r\n        updatedAt: item.updated_at as string,\r\n      }))\r\n\r\n      set({ goals, isLoading: false })\r\n    } catch (error) {\r\n      set({ \r\n        error: error instanceof Error ? error.message : 'Failed to load goals',\r\n        isLoading: false,\r\n        goals: mockGoals // Keep mock data as fallback\r\n      })\r\n    }\r\n  },\r\n\r\n  addGoal: async (goalData) => {\r\n    try {\r\n      set({ isLoading: true, error: null })\r\n      \r\n      const supabase = await getSupabaseClient()\r\n      if (!supabase) {\r\n        throw new Error('Supabase client not available')\r\n      }\r\n\r\n      const newGoalData = {\r\n        title: goalData.title,\r\n        category: goalData.category,\r\n        description: goalData.description,\r\n        target_date: goalData.targetDate,\r\n        color: goalData.color || getRandomGoalColor(),\r\n        is_active: goalData.isActive !== false,\r\n        user_id: '', // TODO: Get from auth context\r\n      }\r\n\r\n      const { data, error } = await supabase\r\n        .from('goals')\r\n        .insert([newGoalData])\r\n        .select()\r\n        .single()\r\n\r\n      if (error) throw error\r\n\r\n      const newGoal: SimpleGoal = {\r\n        id: data.id as string,\r\n        title: data.title as string,\r\n        category: data.category as GoalCategory,\r\n        description: data.description as string | undefined,\r\n        targetDate: data.target_date as string | undefined,\r\n        color: data.color as string,\r\n        isActive: data.is_active as boolean,\r\n        createdAt: data.created_at as string,\r\n        updatedAt: data.updated_at as string,\r\n      }\r\n\r\n      set(state => ({\r\n        goals: [newGoal, ...state.goals],\r\n        isLoading: false,\r\n      }))\r\n    } catch (error) {\r\n      set({ \r\n        error: error instanceof Error ? error.message : 'Failed to add goal',\r\n        isLoading: false \r\n      })\r\n    }\r\n  },\r\n\r\n  updateGoal: async (id, updates) => {\r\n    try {\r\n      set({ isLoading: true, error: null })\r\n      \r\n      const supabase = await getSupabaseClient()\r\n      if (!supabase) {\r\n        // Fallback to local update if Supabase not available\r\n        const now = new Date().toISOString()\r\n        set(state => ({\r\n          goals: state.goals.map(goal =>\r\n            goal.id === id \r\n              ? { ...goal, ...updates, updatedAt: now }\r\n              : goal\r\n          ),\r\n          isLoading: false,\r\n        }))\r\n        return\r\n      }\r\n\r\n      const updateData: any = {}\r\n      if (updates.title !== undefined) updateData.title = updates.title\r\n      if (updates.category !== undefined) updateData.category = updates.category\r\n      if (updates.description !== undefined) updateData.description = updates.description\r\n      if (updates.targetDate !== undefined) updateData.target_date = updates.targetDate\r\n      if (updates.color !== undefined) updateData.color = updates.color\r\n      if (updates.isActive !== undefined) updateData.is_active = updates.isActive\r\n\r\n      const { data, error } = await supabase\r\n        .from('goals')\r\n        .update(updateData)\r\n        .eq('id', id)\r\n        .select()\r\n        .single()\r\n\r\n      if (error) throw error\r\n\r\n      const updatedGoal: SimpleGoal = {\r\n        id: data.id as string,\r\n        title: data.title as string,\r\n        category: data.category as GoalCategory,\r\n        description: data.description as string | undefined,\r\n        targetDate: data.target_date as string | undefined,\r\n        color: data.color as string,\r\n        isActive: data.is_active as boolean,\r\n        createdAt: data.created_at as string,\r\n        updatedAt: data.updated_at as string,\r\n      }\r\n\r\n      set(state => ({\r\n        goals: state.goals.map(goal =>\r\n          goal.id === id ? updatedGoal : goal\r\n        ),\r\n        isLoading: false,\r\n      }))\r\n    } catch (error) {\r\n      set({ \r\n        error: error instanceof Error ? error.message : 'Failed to update goal',\r\n        isLoading: false \r\n      })\r\n    }\r\n  },\r\n\r\n  deleteGoal: async (id) => {\r\n    try {\r\n      set({ isLoading: true, error: null })\r\n      \r\n      const supabase = await getSupabaseClient()\r\n      if (!supabase) {\r\n        // Fallback to local delete if Supabase not available\r\n        set(state => ({\r\n          goals: state.goals.filter(goal => goal.id !== id),\r\n          isLoading: false,\r\n        }))\r\n        return\r\n      }\r\n\r\n      const { error } = await supabase\r\n        .from('goals')\r\n        .delete()\r\n        .eq('id', id)\r\n\r\n      if (error) throw error\r\n      \r\n      set(state => ({\r\n        goals: state.goals.filter(goal => goal.id !== id),\r\n        isLoading: false,\r\n      }))\r\n    } catch (error) {\r\n      set({ \r\n        error: error instanceof Error ? error.message : 'Failed to delete goal',\r\n        isLoading: false \r\n      })\r\n    }\r\n  },\r\n\r\n  toggleGoalActive: async (id) => {\r\n    try {\r\n      const goal = get().goals.find(g => g.id === id)\r\n      if (goal) {\r\n        await get().updateGoal(id, { isActive: !goal.isActive })\r\n      }\r\n    } catch (error) {\r\n      set({ \r\n        error: error instanceof Error ? error.message : 'Failed to toggle goal status'\r\n      })\r\n    }\r\n  },\r\n\r\n  calculateGoalProgress: (goalId, todos) => {\r\n    const goalTodos = todos.filter(todo => todo.goalId === goalId)\r\n    const completedTodos = goalTodos.filter(todo => todo.done)\r\n    \r\n    return {\r\n      goalId,\r\n      totalTodos: goalTodos.length,\r\n      completedTodos: completedTodos.length,\r\n      progressPercentage: goalTodos.length > 0 \r\n        ? Math.round((completedTodos.length / goalTodos.length) * 100)\r\n        : 0,\r\n      lastUpdated: new Date().toISOString(),\r\n    }\r\n  },\r\n\r\n  getGoalsWithProgress: (todos) => {\r\n    const { goals, calculateGoalProgress } = get()\r\n    return goals.map(goal => ({\r\n      ...goal,\r\n      progress: calculateGoalProgress(goal.id, todos),\r\n    }))\r\n  },\r\n\r\n  getActiveGoals: () => {\r\n    return get().goals.filter(goal => goal.isActive)\r\n  },\r\n\r\n  getGoalsByCategory: (category) => {\r\n    return get().goals.filter(goal => goal.category === category)\r\n  },\r\n\r\n  clearError: () => set({ error: null }),\r\n})) ","import React, { useState } from 'react'\r\nimport { Button } from '@/shared/ui/button'\r\nimport { Input } from '@/shared/ui/input'\r\nimport { Label } from '@/shared/ui/label'\r\nimport { Textarea } from '@/shared/ui/textarea'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/shared/ui/card'\r\nimport { Popover, PopoverContent, PopoverTrigger } from '@/shared/ui/popover'\r\nimport { ChevronDown } from 'lucide-react'\r\nimport { useGoalsStore } from '../store'\r\nimport { GoalCategory } from '../types'\r\nimport { GOAL_CATEGORIES, GOAL_COLORS } from '../utils'\r\n\r\ninterface GoalFormProps {\r\n  onSuccess?: () => void\r\n  onCancel?: () => void\r\n}\r\n\r\nexport const GoalForm: React.FC<GoalFormProps> = ({ onSuccess, onCancel }) => {\r\n  const [title, setTitle] = useState('')\r\n  const [category, setCategory] = useState<GoalCategory>('other')\r\n  const [description, setDescription] = useState('')\r\n  const [targetDate, setTargetDate] = useState('')\r\n  const [selectedColor, setSelectedColor] = useState(GOAL_COLORS[0])\r\n  \r\n  const { addGoal, isLoading } = useGoalsStore()\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    \r\n    if (!title.trim()) return\r\n\r\n    try {\r\n      await addGoal({\r\n        title: title.trim(),\r\n        category,\r\n        description: description.trim() || undefined,\r\n        targetDate: targetDate || undefined,\r\n        color: selectedColor,\r\n        isActive: true,\r\n      })\r\n      \r\n      // Reset form\r\n      setTitle('')\r\n      setCategory('other')\r\n      setDescription('')\r\n      setTargetDate('')\r\n      setSelectedColor(GOAL_COLORS[0])\r\n      \r\n      onSuccess?.()\r\n    } catch (error) {\r\n      console.error('Failed to create goal:', error)\r\n    }\r\n  }\r\n\r\n  const categoryInfo = GOAL_CATEGORIES.find(cat => cat.value === category)\r\n\r\n  return (\r\n    <Card className=\"w-full max-w-md mx-auto\">\r\n      <CardHeader>\r\n        <CardTitle className=\"flex items-center gap-2\">\r\n           Create New Goal\r\n        </CardTitle>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          {/* Goal Title */}\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"title\">Goal Title *</Label>\r\n            <Input\r\n              id=\"title\"\r\n              value={title}\r\n              onChange={(e: React.ChangeEvent<HTMLInputElement>) => setTitle(e.target.value)}\r\n              placeholder=\"What do you want to achieve?\"\r\n              required\r\n              maxLength={100}\r\n            />\r\n          </div>\r\n\r\n          {/* Category Selection */}\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"category\">Category</Label>\r\n            <Popover>\r\n              <PopoverTrigger asChild>\r\n                <Button\r\n                  variant=\"outline\"\r\n                  className=\"w-full justify-between\"\r\n                  type=\"button\"\r\n                >\r\n                  {categoryInfo && (\r\n                    <span className=\"flex items-center gap-2\">\r\n                      <span>{categoryInfo.icon}</span>\r\n                      <span>{categoryInfo.label}</span>\r\n                    </span>\r\n                  )}\r\n                  <ChevronDown className=\"h-4 w-4 opacity-50\" />\r\n                </Button>\r\n              </PopoverTrigger>\r\n              <PopoverContent className=\"w-full p-2\">\r\n                <div className=\"space-y-1\">\r\n                  {GOAL_CATEGORIES.map((cat) => (\r\n                    <Button\r\n                      key={cat.value}\r\n                      variant={category === cat.value ? \"default\" : \"ghost\"}\r\n                      className=\"w-full justify-start\"\r\n                      onClick={() => setCategory(cat.value)}\r\n                      type=\"button\"\r\n                    >\r\n                      <span className=\"flex items-center gap-2\">\r\n                        <span>{cat.icon}</span>\r\n                        <span>{cat.label}</span>\r\n                      </span>\r\n                    </Button>\r\n                  ))}\r\n                </div>\r\n              </PopoverContent>\r\n            </Popover>\r\n            {categoryInfo && (\r\n              <p className=\"text-sm text-muted-foreground\">{categoryInfo.description}</p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Optional Description */}\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"description\">Description (Optional)</Label>\r\n            <Textarea\r\n              id=\"description\"\r\n              value={description}\r\n              onChange={(e: React.ChangeEvent<HTMLTextAreaElement>) => setDescription(e.target.value)}\r\n              placeholder=\"Brief description of your goal...\"\r\n              rows={2}\r\n              maxLength={200}\r\n            />\r\n          </div>\r\n\r\n          {/* Optional Target Date */}\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"targetDate\">Target Date (Optional)</Label>\r\n            <Input\r\n              id=\"targetDate\"\r\n              type=\"date\"\r\n              value={targetDate}\r\n              onChange={(e: React.ChangeEvent<HTMLInputElement>) => setTargetDate(e.target.value)}\r\n              min={new Date().toISOString().split('T')[0]}\r\n            />\r\n          </div>\r\n\r\n          {/* Color Selection */}\r\n          <div className=\"space-y-2\">\r\n            <Label>Goal Color</Label>\r\n            <div className=\"flex gap-2 flex-wrap\">\r\n              {GOAL_COLORS.map((color) => (\r\n                <button\r\n                  key={color}\r\n                  type=\"button\"\r\n                  onClick={() => setSelectedColor(color)}\r\n                  className={`w-8 h-8 rounded-full border-2 transition-all ${\r\n                    selectedColor === color \r\n                      ? 'border-gray-800 scale-110' \r\n                      : 'border-gray-300 hover:scale-105'\r\n                  }`}\r\n                  style={{ backgroundColor: color }}\r\n                  title={color}\r\n                />\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Form Actions */}\r\n          <div className=\"flex gap-2 pt-4\">\r\n            <Button \r\n              type=\"submit\" \r\n              disabled={!title.trim() || isLoading}\r\n              className=\"flex-1\"\r\n            >\r\n              {isLoading ? 'Creating...' : 'Create Goal'}\r\n            </Button>\r\n            {onCancel && (\r\n              <Button \r\n                type=\"button\" \r\n                variant=\"outline\" \r\n                onClick={onCancel}\r\n                disabled={isLoading}\r\n              >\r\n                Cancel\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </form>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n} ","import React from 'react'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/shared/ui/card'\r\nimport { Button } from '@/shared/ui/button'\r\nimport { Badge } from '@/shared/ui/badge'\r\nimport { Progress } from '@/shared/ui/progress'\r\nimport { MoreHorizontal, Target, Calendar, Pause, Play, Trash2 } from 'lucide-react'\r\nimport { Popover, PopoverContent, PopoverTrigger } from '@/shared/ui/popover'\r\nimport { GoalWithProgress } from '../types'\r\nimport { getCategoryInfo, formatTargetDate } from '../utils'\r\nimport { useGoalsStore } from '../store'\r\n\r\ninterface GoalCardProps {\r\n  goal: GoalWithProgress\r\n  onEdit?: (goal: GoalWithProgress) => void\r\n}\r\n\r\nexport const GoalCard: React.FC<GoalCardProps> = ({ goal, onEdit }) => {\r\n  const { toggleGoalActive, deleteGoal } = useGoalsStore()\r\n  const categoryInfo = getCategoryInfo(goal.category)\r\n\r\n  const handleToggleActive = () => {\r\n    toggleGoalActive(goal.id)\r\n  }\r\n\r\n  const handleDelete = () => {\r\n    if (window.confirm('Are you sure you want to delete this goal?')) {\r\n      deleteGoal(goal.id)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Card className={`transition-all duration-200 ${goal.isActive ? '' : 'opacity-60'}`}>\r\n      <CardHeader className=\"pb-3\">\r\n        <div className=\"flex items-start justify-between\">\r\n          <div className=\"flex-1\">\r\n            <CardTitle className=\"text-lg flex items-center gap-2\">\r\n              <div \r\n                className=\"w-3 h-3 rounded-full\" \r\n                style={{ backgroundColor: goal.color }}\r\n              />\r\n              {goal.title}\r\n              {!goal.isActive && (\r\n                <Badge variant=\"secondary\" className=\"text-xs\">\r\n                  Paused\r\n                </Badge>\r\n              )}\r\n            </CardTitle>\r\n            <div className=\"flex items-center gap-2 mt-2\">\r\n              <Badge variant=\"outline\" className=\"text-xs\">\r\n                <span className=\"mr-1\">{categoryInfo.icon}</span>\r\n                {categoryInfo.label}\r\n              </Badge>\r\n              {goal.targetDate && (\r\n                <Badge variant=\"outline\" className=\"text-xs\">\r\n                  <Calendar className=\"w-3 h-3 mr-1\" />\r\n                  {formatTargetDate(goal.targetDate)}\r\n                </Badge>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          <Popover>\r\n            <PopoverTrigger asChild>\r\n              <Button variant=\"ghost\" size=\"sm\" className=\"h-8 w-8 p-0\">\r\n                <MoreHorizontal className=\"h-4 w-4\" />\r\n              </Button>\r\n            </PopoverTrigger>\r\n            <PopoverContent className=\"w-48 p-2\" align=\"end\">\r\n              <div className=\"space-y-1\">\r\n                {onEdit && (\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"sm\"\r\n                    className=\"w-full justify-start\"\r\n                    onClick={() => onEdit(goal)}\r\n                  >\r\n                    <Target className=\"w-4 h-4 mr-2\" />\r\n                    Edit Goal\r\n                  </Button>\r\n                )}\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"sm\"\r\n                  className=\"w-full justify-start\"\r\n                  onClick={handleToggleActive}\r\n                >\r\n                  {goal.isActive ? (\r\n                    <>\r\n                      <Pause className=\"w-4 h-4 mr-2\" />\r\n                      Pause Goal\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <Play className=\"w-4 h-4 mr-2\" />\r\n                      Resume Goal\r\n                    </>\r\n                  )}\r\n                </Button>\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"sm\"\r\n                  className=\"w-full justify-start text-red-600 hover:text-red-700\"\r\n                  onClick={handleDelete}\r\n                >\r\n                  <Trash2 className=\"w-4 h-4 mr-2\" />\r\n                  Delete Goal\r\n                </Button>\r\n              </div>\r\n            </PopoverContent>\r\n          </Popover>\r\n        </div>\r\n      </CardHeader>\r\n      \r\n      <CardContent className=\"pt-0\">\r\n        {goal.description && (\r\n          <p className=\"text-sm text-muted-foreground mb-4\">\r\n            {goal.description}\r\n          </p>\r\n        )}\r\n        \r\n        {/* Progress Section */}\r\n        <div className=\"space-y-3\">\r\n          <div className=\"flex items-center justify-between text-sm\">\r\n            <span className=\"font-medium\">Progress</span>\r\n            <span className=\"text-muted-foreground\">\r\n              {goal.progress.completedTodos} / {goal.progress.totalTodos} tasks\r\n            </span>\r\n          </div>\r\n          \r\n          <Progress \r\n            value={goal.progress.progressPercentage} \r\n            className=\"h-2\"\r\n          />\r\n          \r\n          <div className=\"flex items-center justify-between text-xs text-muted-foreground\">\r\n            <span>{goal.progress.progressPercentage}% complete</span>\r\n            {goal.progress.totalTodos === 0 && (\r\n              <span className=\"text-orange-600\">No tasks linked yet</span>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n} ","import React from 'react'\r\nimport { Button } from '@/shared/ui/button'\r\nimport { Badge } from '@/shared/ui/badge'\r\nimport { Popover, PopoverContent, PopoverTrigger } from '@/shared/ui/popover'\r\nimport { Target, ChevronDown, X } from 'lucide-react'\r\nimport { useGoalsStore } from '../store'\r\nimport { getCategoryInfo } from '../utils'\r\n\r\ninterface GoalSelectorProps {\r\n  value?: string // Selected goal ID\r\n  onChange: (goalId: string | undefined) => void\r\n  disabled?: boolean\r\n  className?: string\r\n}\r\n\r\nexport const GoalSelector: React.FC<GoalSelectorProps> = ({ \r\n  value, \r\n  onChange, \r\n  disabled = false, \r\n  className = '' \r\n}) => {\r\n  const { getActiveGoals } = useGoalsStore()\r\n  const activeGoals = getActiveGoals()\r\n  const selectedGoal = activeGoals.find(goal => goal.id === value)\r\n\r\n  const handleSelect = (goalId: string) => {\r\n    onChange(goalId)\r\n  }\r\n\r\n  const handleClear = (e: React.MouseEvent) => {\r\n    e.stopPropagation()\r\n    onChange(undefined)\r\n  }\r\n\r\n  if (activeGoals.length === 0) {\r\n    return (\r\n      <div className={`text-sm text-muted-foreground ${className}`}>\r\n        No active goals. <a href=\"/goals\" className=\"text-primary hover:underline\">Create one</a> to link tasks.\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Popover>\r\n      <PopoverTrigger asChild>\r\n        <Button\r\n          variant=\"outline\"\r\n          className={`w-full justify-between ${className}`}\r\n          disabled={disabled}\r\n          type=\"button\"\r\n        >\r\n          {selectedGoal ? (\r\n            <div className=\"flex items-center gap-2 flex-1\">\r\n              <div \r\n                className=\"w-3 h-3 rounded-full flex-shrink-0\" \r\n                style={{ backgroundColor: selectedGoal.color }}\r\n              />\r\n              <span className=\"truncate\">{selectedGoal.title}</span>\r\n              <Badge variant=\"outline\" className=\"text-xs ml-auto\">\r\n                {getCategoryInfo(selectedGoal.category).icon}\r\n              </Badge>\r\n              <X \r\n                className=\"h-4 w-4 hover:bg-muted rounded\" \r\n                onClick={handleClear}\r\n              />\r\n            </div>\r\n          ) : (\r\n            <div className=\"flex items-center gap-2 text-muted-foreground\">\r\n              <Target className=\"h-4 w-4\" />\r\n              <span>Link to goal (optional)</span>\r\n            </div>\r\n          )}\r\n          <ChevronDown className=\"h-4 w-4 opacity-50\" />\r\n        </Button>\r\n      </PopoverTrigger>\r\n      <PopoverContent className=\"w-full p-2\" align=\"start\">\r\n        <div className=\"space-y-1\">\r\n          {!selectedGoal && (\r\n            <Button\r\n              variant=\"ghost\"\r\n              className=\"w-full justify-start text-muted-foreground\"\r\n              onClick={() => onChange(undefined)}\r\n              type=\"button\"\r\n            >\r\n              <X className=\"h-4 w-4 mr-2\" />\r\n              No goal\r\n            </Button>\r\n          )}\r\n          {activeGoals.map((goal) => {\r\n            const categoryInfo = getCategoryInfo(goal.category)\r\n            return (\r\n              <Button\r\n                key={goal.id}\r\n                variant={value === goal.id ? \"default\" : \"ghost\"}\r\n                className=\"w-full justify-start\"\r\n                onClick={() => handleSelect(goal.id)}\r\n                type=\"button\"\r\n              >\r\n                <div className=\"flex items-center gap-2 flex-1\">\r\n                  <div \r\n                    className=\"w-3 h-3 rounded-full flex-shrink-0\" \r\n                    style={{ backgroundColor: goal.color }}\r\n                  />\r\n                  <span className=\"truncate\">{goal.title}</span>\r\n                  <Badge variant=\"outline\" className=\"text-xs ml-auto\">\r\n                    {categoryInfo.icon}\r\n                  </Badge>\r\n                </div>\r\n              </Button>\r\n            )\r\n          })}\r\n        </div>\r\n        {activeGoals.length > 0 && (\r\n          <div className=\"border-t mt-2 pt-2\">\r\n            <a \r\n              href=\"/goals\" \r\n              className=\"text-xs text-muted-foreground hover:text-primary block text-center\"\r\n            >\r\n              Manage goals \r\n            </a>\r\n          </div>\r\n        )}\r\n      </PopoverContent>\r\n    </Popover>\r\n  )\r\n} ","import React, { useState, useEffect } from 'react'\r\nimport { Button } from '@/shared/ui/button'\r\nimport { Card, CardContent } from '@/shared/ui/card'\r\nimport { Plus, Target, TrendingUp, CheckCircle } from 'lucide-react'\r\nimport { useGoalsStore } from '../store'\r\nimport { useTasksStore } from '@/modules/tasks/store'\r\nimport { GoalForm } from '../components/GoalForm'\r\nimport { GoalCard } from '../components/GoalCard'\r\nimport { GoalWithProgress } from '../types'\r\n\r\nexport const GoalsPage: React.FC = () => {\r\n  const [showForm, setShowForm] = useState(false)\r\n  \r\n  const { goals, loadGoals, getGoalsWithProgress, getActiveGoals } = useGoalsStore()\r\n  const { todos, loadTodos } = useTasksStore()\r\n\r\n  useEffect(() => {\r\n    loadGoals()\r\n    loadTodos()\r\n  }, [loadGoals, loadTodos])\r\n\r\n  const goalsWithProgress = getGoalsWithProgress(todos)\r\n  const activeGoals = getActiveGoals()\r\n  \r\n  // Calculate summary stats\r\n  const totalGoals = goals.length\r\n  const activeGoalsCount = activeGoals.length\r\n  const completedGoals = goalsWithProgress.filter(g => g.progress.progressPercentage === 100).length\r\n  const totalProgress = goalsWithProgress.length > 0 \r\n    ? Math.round(goalsWithProgress.reduce((sum, g) => sum + g.progress.progressPercentage, 0) / goalsWithProgress.length)\r\n    : 0\r\n\r\n  const handleFormSuccess = () => {\r\n    setShowForm(false)\r\n  }\r\n\r\n  const handleEditGoal = (goal: GoalWithProgress) => {\r\n    // TODO: Implement goal editing in future iteration\r\n    console.log('Edit goal:', goal)\r\n    setShowForm(true)\r\n  }\r\n\r\n  const handleCancelForm = () => {\r\n    setShowForm(false)\r\n  }\r\n\r\n  if (showForm) {\r\n    return (\r\n      <div className=\"container mx-auto p-6 max-w-4xl\">\r\n        <div className=\"mb-6\">\r\n          <Button \r\n            variant=\"outline\" \r\n            onClick={handleCancelForm}\r\n            className=\"mb-4\"\r\n          >\r\n             Back to Goals\r\n          </Button>\r\n        </div>\r\n        <GoalForm \r\n          onSuccess={handleFormSuccess}\r\n          onCancel={handleCancelForm}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-6 max-w-6xl\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between mb-8\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold flex items-center gap-2\">\r\n            <Target className=\"h-8 w-8 text-primary\" />\r\n            Goals\r\n          </h1>\r\n          <p className=\"text-muted-foreground mt-1\">\r\n            Track your objectives and link them to daily tasks\r\n          </p>\r\n        </div>\r\n        <Button onClick={() => setShowForm(true)} className=\"flex items-center gap-2\">\r\n          <Plus className=\"h-4 w-4\" />\r\n          New Goal\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Summary Stats */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8\">\r\n        <Card>\r\n          <CardContent className=\"p-4\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <Target className=\"h-5 w-5 text-blue-500\" />\r\n              <div>\r\n                <p className=\"text-sm text-muted-foreground\">Total Goals</p>\r\n                <p className=\"text-2xl font-bold\">{totalGoals}</p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n        \r\n        <Card>\r\n          <CardContent className=\"p-4\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <TrendingUp className=\"h-5 w-5 text-green-500\" />\r\n              <div>\r\n                <p className=\"text-sm text-muted-foreground\">Active</p>\r\n                <p className=\"text-2xl font-bold\">{activeGoalsCount}</p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n        \r\n        <Card>\r\n          <CardContent className=\"p-4\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <CheckCircle className=\"h-5 w-5 text-purple-500\" />\r\n              <div>\r\n                <p className=\"text-sm text-muted-foreground\">Completed</p>\r\n                <p className=\"text-2xl font-bold\">{completedGoals}</p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n        \r\n        <Card>\r\n          <CardContent className=\"p-4\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"h-5 w-5 rounded-full bg-gradient-to-r from-blue-500 to-purple-500\" />\r\n              <div>\r\n                <p className=\"text-sm text-muted-foreground\">Avg Progress</p>\r\n                <p className=\"text-2xl font-bold\">{totalProgress}%</p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Goals Grid */}\r\n      {goalsWithProgress.length === 0 ? (\r\n        <Card className=\"text-center py-12\">\r\n          <CardContent>\r\n            <Target className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\r\n            <h3 className=\"text-lg font-semibold mb-2\">No goals yet</h3>\r\n            <p className=\"text-muted-foreground mb-4\">\r\n              Create your first goal to start organizing your todos around meaningful objectives.\r\n            </p>\r\n            <Button onClick={() => setShowForm(true)} className=\"flex items-center gap-2\">\r\n              <Plus className=\"h-4 w-4\" />\r\n              Create Your First Goal\r\n            </Button>\r\n          </CardContent>\r\n        </Card>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {goalsWithProgress.map((goal) => (\r\n            <GoalCard\r\n              key={goal.id}\r\n              goal={goal}\r\n              onEdit={handleEditGoal}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Quick Tips */}\r\n      {goalsWithProgress.length > 0 && goalsWithProgress.some(g => g.progress.totalTodos === 0) && (\r\n        <Card className=\"mt-8 bg-blue-50 border-blue-200\">\r\n          <CardContent className=\"p-4\">\r\n            <div className=\"flex items-start gap-3\">\r\n              <div className=\"h-5 w-5 rounded-full bg-blue-500 flex items-center justify-center flex-shrink-0 mt-0.5\">\r\n                <span className=\"text-white text-xs font-bold\"></span>\r\n              </div>\r\n              <div>\r\n                <h4 className=\"font-semibold text-blue-900 mb-1\">Link your todos to goals</h4>\r\n                <p className=\"text-sm text-blue-700\">\r\n                  Some of your goals don't have any linked tasks yet. When creating or editing todos, \r\n                  select a goal to track your progress automatically.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  )\r\n} ","import { useState, useEffect } from 'react'\r\nimport { Input } from '@/shared/ui/input'\r\nimport { Button } from '@/shared/ui/button'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/shared/ui/card'\r\nimport { Badge } from '@/shared/ui/badge'\r\nimport { Plus, Filter, Calendar, AlertCircle, FileText, Star, CheckSquare } from 'lucide-react'\r\nimport { useTasksStore } from '../store'\r\nimport EnhancedTodoRow from '../components/EnhancedTodoRow'\r\nimport { PointSelector, EnhancedDatePicker, RichTextEditor } from '../components/rich-content'\r\nimport { GoalSelector } from '@/modules/goals'\r\nimport { Priority, Category } from '../types'\r\nimport {\r\n  PRIORITIES,\r\n  CATEGORIES,\r\n  sortTodosByPriority,\r\n  sortTodosByDueDate,\r\n} from '../utils'\r\n\r\nexport default function TodoPage() {\r\n  const [inputValue, setInputValue] = useState('')\r\n  const [selectedPriority, setSelectedPriority] = useState<Priority>('medium')\r\n  const [selectedCategory, setSelectedCategory] = useState<Category>('other')\r\n  const [selectedPoints, setSelectedPoints] = useState(5)\r\n  const [selectedGoal, setSelectedGoal] = useState<string | undefined>()\r\n  const [dueDate, setDueDate] = useState('')\r\n  const [dueDateTimeEnhanced, setDueDateTimeEnhanced] = useState<string | undefined>()\r\n  const [taskDescription, setTaskDescription] = useState('')\r\n  const [showAdvanced, setShowAdvanced] = useState(false)\r\n  const [showDescription, setShowDescription] = useState(false)\r\n  const [filterPriority, setFilterPriority] = useState<Priority | 'all'>('all')\r\n  const [filterCategory, setFilterCategory] = useState<Category | 'all'>('all')\r\n  const [sortBy, setSortBy] = useState<'created' | 'priority' | 'dueDate' | 'points'>(\r\n    'created'\r\n  )\r\n  const [filterPoints, setFilterPoints] = useState<'all' | 'low' | 'medium' | 'high'>('all')\r\n\r\n  const {\r\n    todos,\r\n    templates,\r\n    addTodo,\r\n    loadTodos,\r\n    loadTemplates,\r\n    createTodoFromTemplate,\r\n    getOverdueTodos,\r\n    isLoading,\r\n  } = useTasksStore()\r\n\r\n  useEffect(() => {\r\n    // Only load if we truly have no data (prevents React Strict Mode duplicate loads)\r\n    if (todos.length === 0 && !isLoading) {\r\n      loadTodos()\r\n    }\r\n    if (templates.length === 0) {\r\n      loadTemplates()\r\n    }\r\n  }, [loadTodos, loadTemplates]) // Remove length dependencies to prevent re-triggering\r\n\r\n  // Filter todos based on selected filters\r\n  const filteredTodos = todos.filter((todo) => {\r\n    if (filterPriority !== 'all' && todo.priority !== filterPriority)\r\n      return false\r\n    if (filterCategory !== 'all' && todo.category !== filterCategory)\r\n      return false\r\n    if (filterPoints !== 'all') {\r\n      const points = todo.points || 5\r\n      if (filterPoints === 'low' && points > 3) return false\r\n      if (filterPoints === 'medium' && (points <= 3 || points > 7)) return false\r\n      if (filterPoints === 'high' && points <= 7) return false\r\n    }\r\n    return true\r\n  })\r\n\r\n  // Sort todos based on selected sort option\r\n  const sortedTodos = (() => {\r\n    switch (sortBy) {\r\n      case 'priority':\r\n        return sortTodosByPriority(filteredTodos)\r\n      case 'dueDate':\r\n        return sortTodosByDueDate(filteredTodos)\r\n      case 'points':\r\n        return [...filteredTodos].sort((a, b) => (b.points || 5) - (a.points || 5))\r\n      default:\r\n        return [...filteredTodos].sort(\r\n          (a, b) =>\r\n            new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\r\n        )\r\n    }\r\n  })()\r\n\r\n  const incompleteTodos = sortedTodos.filter((todo) => !todo.done)\r\n  const completedTodos = sortedTodos.filter((todo) => todo.done)\r\n  const overdueTodos = getOverdueTodos()\r\n\r\n  const handleAddTodo = async () => {\r\n    if (!inputValue.trim()) return\r\n\r\n    const newTodo = {\r\n      summary: inputValue.trim(),\r\n      done: false,\r\n      priority: selectedPriority,\r\n      category: selectedCategory,\r\n      points: selectedPoints,\r\n      goalId: selectedGoal,\r\n      dueDate: dueDate || undefined,\r\n      dueDateTime: dueDateTimeEnhanced || undefined,\r\n      description: taskDescription.trim() || undefined,\r\n      descriptionFormat: 'markdown' as const,\r\n      subtasks: [],\r\n      createdAt: new Date().toISOString(),\r\n    }\r\n\r\n    try {\r\n      await addTodo(newTodo)\r\n      setInputValue('')\r\n      setTaskDescription('')\r\n      setDueDate('')\r\n      setDueDateTimeEnhanced(undefined)\r\n      setSelectedPoints(5)\r\n      setSelectedGoal(undefined)\r\n      setShowAdvanced(false)\r\n      setShowDescription(false)\r\n    } catch (error) {\r\n      console.error('Failed to add todo:', error)\r\n    }\r\n  }\r\n\r\n  const handleKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter') {\r\n      handleAddTodo()\r\n    }\r\n  }\r\n\r\n  const handleCreateFromTemplate = async (templateId: string) => {\r\n    try {\r\n      await createTodoFromTemplate(templateId)\r\n    } catch (error) {\r\n      console.error('Failed to create todo from template:', error)\r\n    }\r\n  }\r\n\r\n  // Get points statistics (unused for now)\r\n  // const pointsStats = getPointsStats()\r\n\r\n  return (\r\n    <div className=\"space-y-4 sm:space-y-6\">\r\n      {/* Page Header - Mobile optimized */}\r\n      <div className=\"space-y-2\">\r\n        <h1 className=\"text-xl sm:text-2xl font-bold text-white\">Tasks</h1>\r\n        <p className=\"text-sm text-gray-400\">Manage your daily tasks and goals</p>\r\n      </div>\r\n\r\n      {/* Overdue Tasks Alert - Mobile optimized */}\r\n      {overdueTodos.length > 0 && (\r\n        <Card className=\"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-950\">\r\n          <CardContent className=\"pt-4\">\r\n            <div className=\"flex items-center gap-2 text-red-700 dark:text-red-300\">\r\n              <AlertCircle className=\"h-4 w-4 flex-shrink-0\" />\r\n              <span className=\"font-medium text-sm\">\r\n                {overdueTodos.length} overdue task\r\n                {overdueTodos.length > 1 ? 's' : ''}\r\n              </span>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Points Summary Dashboard - Mobile optimized */}\r\n      {todos.length > 0 && (\r\n        <Card className=\"border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-950\">\r\n          <CardContent className=\"pt-4\">\r\n            <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4\">\r\n              <div className=\"grid grid-cols-3 gap-4 w-full sm:w-auto\">\r\n                <div className=\"text-center\">\r\n                  <p className=\"text-lg sm:text-2xl font-bold text-blue-700 dark:text-blue-300\">\r\n                    {todos.filter(t => t.done).reduce((sum, t) => sum + (t.points || 5), 0)}\r\n                  </p>\r\n                  <p className=\"text-xs text-blue-600 dark:text-blue-400\">Points Earned</p>\r\n                </div>\r\n                <div className=\"text-center\">\r\n                  <p className=\"text-lg sm:text-2xl font-bold text-blue-700 dark:text-blue-300\">\r\n                    {todos.reduce((sum, t) => sum + (t.points || 5), 0)}\r\n                  </p>\r\n                  <p className=\"text-xs text-blue-600 dark:text-blue-400\">Total Points</p>\r\n                </div>\r\n                <div className=\"text-center\">\r\n                  <p className=\"text-lg sm:text-2xl font-bold text-blue-700 dark:text-blue-300\">\r\n                    {incompleteTodos.reduce((sum, t) => sum + (t.points || 5), 0)}\r\n                  </p>\r\n                  <p className=\"text-xs text-blue-600 dark:text-blue-400\">Remaining</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"text-center w-full sm:w-auto\">\r\n                <p className=\"text-sm font-medium text-blue-700 dark:text-blue-300\">\r\n                  {Math.round((todos.filter(t => t.done).length / todos.length) * 100)}% Complete\r\n                </p>\r\n                <div className=\"mt-1 h-2 w-full sm:w-24 rounded-full bg-blue-200 dark:bg-blue-800\">\r\n                  <div \r\n                    className=\"h-2 rounded-full bg-blue-500 transition-all\"\r\n                    style={{ width: `${(todos.filter(t => t.done).length / todos.length) * 100}%` }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Add Todo Form - Mobile optimized */}\r\n      <Card>\r\n        <CardHeader className=\"pb-3\">\r\n          <CardTitle className=\"flex items-center gap-2 text-lg\">\r\n            <Plus className=\"h-5 w-5\" />\r\n            Add New Task\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          {/* Main input - Mobile optimized */}\r\n          <div className=\"space-y-2\">\r\n            <Input\r\n              type=\"text\"\r\n              placeholder=\"What do you need to do?\"\r\n              value={inputValue}\r\n              onChange={(e) => setInputValue(e.target.value)}\r\n              onKeyPress={handleKeyPress}\r\n              className=\"text-base\"\r\n              autoComplete=\"off\"\r\n            />\r\n          </div>\r\n\r\n          {/* Quick options - Mobile optimized grid */}\r\n          <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-2\">\r\n            <div className=\"space-y-1\">\r\n              <label className=\"text-xs font-medium text-gray-600 dark:text-gray-400\">Priority</label>\r\n              <select\r\n                value={selectedPriority}\r\n                onChange={(e) => setSelectedPriority(e.target.value as Priority)}\r\n                className=\"w-full px-2 py-1.5 text-sm rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800\"\r\n              >\r\n                                 {PRIORITIES.map((priority) => (\r\n                   <option key={priority.value} value={priority.value}>\r\n                     {priority.icon} {priority.label}\r\n                   </option>\r\n                 ))}\r\n               </select>\r\n             </div>\r\n\r\n             <div className=\"space-y-1\">\r\n               <label className=\"text-xs font-medium text-gray-600 dark:text-gray-400\">Category</label>\r\n               <select\r\n                 value={selectedCategory}\r\n                 onChange={(e) => setSelectedCategory(e.target.value as Category)}\r\n                 className=\"w-full px-2 py-1.5 text-sm rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800\"\r\n               >\r\n                 {CATEGORIES.map((category) => (\r\n                   <option key={category.value} value={category.value}>\r\n                     {category.icon} {category.label}\r\n                   </option>\r\n                 ))}\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"space-y-1\">\r\n              <label className=\"text-xs font-medium text-gray-600 dark:text-gray-400\">Points</label>\r\n              <PointSelector \r\n                value={selectedPoints} \r\n                onChange={setSelectedPoints}\r\n                className=\"text-sm\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-1\">\r\n              <label className=\"text-xs font-medium text-gray-600 dark:text-gray-400\">Goal</label>\r\n                             <GoalSelector \r\n                 value={selectedGoal}\r\n                 onChange={setSelectedGoal}\r\n               />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Advanced options toggle - Mobile optimized */}\r\n          <div className=\"flex flex-col sm:flex-row gap-2\">\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={() => setShowAdvanced(!showAdvanced)}\r\n              className=\"flex-1 sm:flex-none\"\r\n            >\r\n              <Calendar className=\"mr-2 h-4 w-4\" />\r\n              {showAdvanced ? 'Hide' : 'Show'} Advanced\r\n            </Button>\r\n            \r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={() => setShowDescription(!showDescription)}\r\n              className=\"flex-1 sm:flex-none\"\r\n            >\r\n              <FileText className=\"mr-2 h-4 w-4\" />\r\n              {showDescription ? 'Hide' : 'Add'} Description\r\n            </Button>\r\n          </div>\r\n\r\n          {/* Advanced options */}\r\n          {showAdvanced && (\r\n            <div className=\"space-y-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg\">\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">Due Date</label>\r\n                <EnhancedDatePicker\r\n                  value={dueDateTimeEnhanced}\r\n                  onChange={setDueDateTimeEnhanced}\r\n                  className=\"w-full\"\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Description */}\r\n          {showDescription && (\r\n            <div className=\"space-y-2\">\r\n              <label className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">Description</label>\r\n              <RichTextEditor\r\n                value={taskDescription}\r\n                onChange={setTaskDescription}\r\n                placeholder=\"Add task details, notes, or links...\"\r\n                className=\"min-h-[100px]\"\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {/* Add button - Mobile optimized */}\r\n          <Button\r\n            onClick={handleAddTodo}\r\n            className=\"w-full sm:w-auto min-h-[44px]\"\r\n            disabled={!inputValue.trim() || isLoading}\r\n          >\r\n            <Plus className=\"mr-2 h-4 w-4\" />\r\n            Add Task\r\n          </Button>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Filters and Sort - Mobile optimized */}\r\n      <Card>\r\n        <CardHeader className=\"pb-3\">\r\n          <CardTitle className=\"flex items-center gap-2 text-lg\">\r\n            <Filter className=\"h-5 w-5\" />\r\n            Filters & Sort\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3\">\r\n            <div className=\"space-y-1\">\r\n              <label className=\"text-xs font-medium text-gray-600 dark:text-gray-400\">Priority</label>\r\n              <select\r\n                value={filterPriority}\r\n                onChange={(e) => setFilterPriority(e.target.value as Priority | 'all')}\r\n                className=\"w-full px-2 py-1.5 text-sm rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800\"\r\n              >\r\n                                 <option value=\"all\">All Priorities</option>\r\n                 {PRIORITIES.map((priority) => (\r\n                   <option key={priority.value} value={priority.value}>\r\n                     {priority.icon} {priority.label}\r\n                   </option>\r\n                 ))}\r\n               </select>\r\n             </div>\r\n\r\n             <div className=\"space-y-1\">\r\n               <label className=\"text-xs font-medium text-gray-600 dark:text-gray-400\">Category</label>\r\n               <select\r\n                 value={filterCategory}\r\n                 onChange={(e) => setFilterCategory(e.target.value as Category | 'all')}\r\n                 className=\"w-full px-2 py-1.5 text-sm rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800\"\r\n               >\r\n                 <option value=\"all\">All Categories</option>\r\n                 {CATEGORIES.map((category) => (\r\n                   <option key={category.value} value={category.value}>\r\n                     {category.icon} {category.label}\r\n                   </option>\r\n                 ))}\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"space-y-1\">\r\n              <label className=\"text-xs font-medium text-gray-600 dark:text-gray-400\">Points</label>\r\n              <select\r\n                value={filterPoints}\r\n                onChange={(e) => setFilterPoints(e.target.value as 'all' | 'low' | 'medium' | 'high')}\r\n                className=\"w-full px-2 py-1.5 text-sm rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800\"\r\n              >\r\n                <option value=\"all\">All Points</option>\r\n                <option value=\"low\">Low (1-3 pts)</option>\r\n                <option value=\"medium\">Medium (4-7 pts)</option>\r\n                <option value=\"high\">High (8+ pts)</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"space-y-1\">\r\n              <label className=\"text-xs font-medium text-gray-600 dark:text-gray-400\">Sort By</label>\r\n              <select\r\n                value={sortBy}\r\n                onChange={(e) => setSortBy(e.target.value as 'created' | 'priority' | 'dueDate' | 'points')}\r\n                className=\"w-full px-2 py-1.5 text-sm rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800\"\r\n              >\r\n                <option value=\"created\">Created Date</option>\r\n                <option value=\"priority\">Priority</option>\r\n                <option value=\"dueDate\">Due Date</option>\r\n                <option value=\"points\">Points</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Task Lists - Mobile optimized */}\r\n      <div className=\"space-y-4\">\r\n        {/* Templates Section - Mobile optimized */}\r\n        {templates.length > 0 && (\r\n          <Card>\r\n            <CardHeader className=\"pb-3\">\r\n              <CardTitle className=\"flex items-center gap-2 text-lg\">\r\n                <Star className=\"h-5 w-5\" />\r\n                Quick Templates\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-2\">\r\n                {templates.slice(0, 4).map((template) => (\r\n                  <Button\r\n                    key={template.id}\r\n                    variant=\"outline\"\r\n                    size=\"sm\"\r\n                    onClick={() => handleCreateFromTemplate(template.id)}\r\n                    className=\"justify-start text-left h-auto py-2 px-3\"\r\n                  >\r\n                                         <div className=\"flex items-center gap-2 w-full\">\r\n                       <span className=\"text-lg\">{CATEGORIES.find(c => c.value === template.category)?.icon}</span>\r\n                       <div className=\"min-w-0 flex-1\">\r\n                         <div className=\"font-medium text-sm truncate\">{template.text}</div>\r\n                         <div className=\"text-xs text-gray-500\">\r\n                           {PRIORITIES.find(p => p.value === template.priority)?.label}\r\n                         </div>\r\n                       </div>\r\n                     </div>\r\n                  </Button>\r\n                ))}\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n\r\n        {/* Incomplete Tasks */}\r\n        {incompleteTodos.length > 0 && (\r\n          <Card>\r\n            <CardHeader className=\"pb-3\">\r\n              <CardTitle className=\"flex items-center justify-between\">\r\n                <span className=\"text-lg\">Active Tasks</span>\r\n                <Badge variant=\"secondary\" className=\"text-xs\">\r\n                  {incompleteTodos.length}\r\n                </Badge>\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-2\">\r\n              {incompleteTodos.map((todo) => (\r\n                <EnhancedTodoRow key={todo.id} todo={todo} />\r\n              ))}\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n\r\n        {/* Completed Tasks */}\r\n        {completedTodos.length > 0 && (\r\n          <Card>\r\n            <CardHeader className=\"pb-3\">\r\n              <CardTitle className=\"flex items-center justify-between\">\r\n                <span className=\"text-lg\">Completed Tasks</span>\r\n                <Badge variant=\"secondary\" className=\"text-xs\">\r\n                  {completedTodos.length}\r\n                </Badge>\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-2\">\r\n              {completedTodos.map((todo) => (\r\n                <EnhancedTodoRow key={todo.id} todo={todo} />\r\n              ))}\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n\r\n        {/* Empty State */}\r\n        {todos.length === 0 && !isLoading && (\r\n          <Card className=\"text-center py-12\">\r\n            <CardContent>\r\n              <CheckSquare className=\"h-12 w-12 mx-auto text-gray-400 mb-4\" />\r\n              <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">\r\n                No tasks yet\r\n              </h3>\r\n              <p className=\"text-gray-500 dark:text-gray-400 mb-4\">\r\n                Get started by adding your first task above\r\n              </p>\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { create } from 'zustand'\r\nimport { Note } from './types'\r\nimport { hybridNotesRepo } from './repo'\r\nimport { useAuthStore } from '@/modules/auth'\r\n\r\ninterface NotesState {\r\n  notes: Note[]\r\n  isLoading: boolean\r\n  error: string | null\r\n\r\n  // Actions\r\n  addNote: (note: Omit<Note, 'id'>) => Promise<void>\r\n  updateNote: (id: string, updates: Partial<Omit<Note, 'id'>>) => Promise<void>\r\n  deleteNote: (id: string) => Promise<void>\r\n  loadNotes: () => Promise<void>\r\n  hydrate: () => Promise<void>\r\n  clearError: () => void\r\n}\r\n\r\nexport const useNotesStore = create<NotesState>((set, get) => ({\r\n  notes: [],\r\n  isLoading: false,\r\n  error: null,\r\n\r\n  addNote: async (note) => {\r\n    try {\r\n      set({ isLoading: true, error: null })\r\n\r\n      // Get current user for Supabase operations\r\n      const user = useAuthStore.getState().user\r\n      const userId = user?.id\r\n\r\n      const now = new Date().toISOString()\r\n      const newNote = await hybridNotesRepo.addNote({\r\n        ...note,\r\n        createdAt: now,\r\n        updatedAt: now,\r\n      }, userId)\r\n\r\n      set((state) => ({\r\n        notes: [newNote, ...state.notes],\r\n        isLoading: false,\r\n      }))\r\n\r\n      console.log(' Note saved successfully:', { \r\n        local: true, \r\n        cloud: !!userId,\r\n        note: newNote \r\n      })\r\n    } catch (error) {\r\n      console.error(' Failed to save note:', error)\r\n      set({\r\n        error: error instanceof Error ? error.message : 'Failed to add note',\r\n        isLoading: false,\r\n      })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  updateNote: async (id, updates) => {\r\n    try {\r\n      set({ isLoading: true, error: null })\r\n\r\n      // Get current user for Supabase operations\r\n      const user = useAuthStore.getState().user\r\n      const userId = user?.id\r\n\r\n      await hybridNotesRepo.updateNote(id, updates, userId)\r\n\r\n      set((state) => ({\r\n        notes: state.notes\r\n          .map((note) =>\r\n            note.id === id\r\n              ? { ...note, ...updates, updatedAt: new Date().toISOString() }\r\n              : note\r\n          )\r\n          .sort(\r\n            (a, b) =>\r\n              new Date(b.updatedAt).getTime() - new Date(a.updatedAt).getTime()\r\n          ),\r\n        isLoading: false,\r\n      }))\r\n\r\n      console.log(' Note updated successfully:', { \r\n        local: true, \r\n        cloud: !!userId,\r\n        id, updates \r\n      })\r\n    } catch (error) {\r\n      console.error(' Failed to update note:', error)\r\n      set({\r\n        error: error instanceof Error ? error.message : 'Failed to update note',\r\n        isLoading: false,\r\n      })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  deleteNote: async (id) => {\r\n    try {\r\n      set({ isLoading: true, error: null })\r\n\r\n      // Get current user for Supabase operations\r\n      const user = useAuthStore.getState().user\r\n      const userId = user?.id\r\n\r\n      await hybridNotesRepo.deleteNote(id, userId)\r\n\r\n      set((state) => ({\r\n        notes: state.notes.filter((note) => note.id !== id),\r\n        isLoading: false,\r\n      }))\r\n\r\n      console.log(' Note deleted successfully:', { \r\n        local: true, \r\n        cloud: !!userId,\r\n        id \r\n      })\r\n    } catch (error) {\r\n      console.error(' Failed to delete note:', error)\r\n      set({\r\n        error: error instanceof Error ? error.message : 'Failed to delete note',\r\n        isLoading: false,\r\n      })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  loadNotes: async () => {\r\n    try {\r\n      set({ isLoading: true, error: null })\r\n\r\n      // Get current user for Supabase operations\r\n      const user = useAuthStore.getState().user\r\n      const userId = user?.id\r\n\r\n      const notes = await hybridNotesRepo.getAllNotes(userId)\r\n\r\n      set({ notes, isLoading: false })\r\n\r\n      console.log(' Notes loaded successfully:', { \r\n        count: notes.length,\r\n        source: userId ? 'Supabase' : 'Local',\r\n        userId \r\n      })\r\n    } catch (error) {\r\n      console.error(' Failed to load notes:', error)\r\n      set({\r\n        error: error instanceof Error ? error.message : 'Failed to load notes',\r\n        isLoading: false,\r\n      })\r\n    }\r\n  },\r\n\r\n  hydrate: async () => {\r\n    await get().loadNotes()\r\n  },\r\n\r\n  clearError: () => {\r\n    set({ error: null })\r\n  },\r\n}))\r\n\r\n// Initialize store hydration\r\nexport const initializeNotesStore = async () => {\r\n  await useNotesStore.getState().hydrate()\r\n}\r\n","import { useState } from 'react'\r\nimport { useSwipeable } from 'react-swipeable'\r\nimport { Card, CardContent } from '@/shared/ui/card'\r\nimport { Edit, Calendar } from 'lucide-react'\r\nimport { Note } from '../types'\r\nimport { useNotesStore } from '../store'\r\n\r\ninterface NoteRowProps {\r\n  note: Note\r\n}\r\n\r\nexport function NoteRow({ note }: NoteRowProps) {\r\n  const [isPressed, setIsPressed] = useState(false)\r\n  const [isEditing, setIsEditing] = useState(false)\r\n  const [editTitle, setEditTitle] = useState(note.title)\r\n  const [editContent, setEditContent] = useState(note.content)\r\n  const { updateNote, deleteNote } = useNotesStore()\r\n\r\n  const handleEdit = async () => {\r\n    if (!editTitle.trim()) return\r\n\r\n    try {\r\n      await updateNote(note.id, {\r\n        title: editTitle.trim(),\r\n        content: editContent.trim(),\r\n      })\r\n      setIsEditing(false)\r\n    } catch (error) {\r\n      console.error('Failed to update note:', error)\r\n    }\r\n  }\r\n\r\n  const handleCancel = () => {\r\n    setEditTitle(note.title)\r\n    setEditContent(note.content)\r\n    setIsEditing(false)\r\n  }\r\n\r\n  const handleDelete = () => {\r\n    const confirmed = window.confirm(`Delete note: \"${note.title}\"?`)\r\n    if (confirmed) {\r\n      deleteNote(note.id)\r\n    }\r\n  }\r\n\r\n  const swipeHandlers = useSwipeable({\r\n    onSwipedLeft: () => {\r\n      if (!isEditing) {\r\n        handleDelete()\r\n      }\r\n    },\r\n    preventScrollOnSwipe: true,\r\n    trackMouse: true,\r\n  })\r\n\r\n  const formatDate = (dateISO: string) => {\r\n    const date = new Date(dateISO)\r\n    return date.toLocaleDateString('en-US', {\r\n      month: 'short',\r\n      day: 'numeric',\r\n      year:\r\n        date.getFullYear() !== new Date().getFullYear() ? 'numeric' : undefined,\r\n    })\r\n  }\r\n\r\n  if (isEditing) {\r\n    return (\r\n      <Card className=\"border bg-card\">\r\n        <CardContent className=\"p-4\">\r\n          <input\r\n            type=\"text\"\r\n            value={editTitle}\r\n            onChange={(e) => setEditTitle(e.target.value)}\r\n            className=\"mb-3 w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-ring\"\r\n            placeholder=\"Note title...\"\r\n          />\r\n          <textarea\r\n            value={editContent}\r\n            onChange={(e) => setEditContent(e.target.value)}\r\n            className=\"mb-3 w-full resize-none rounded-md border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-ring\"\r\n            rows={4}\r\n            placeholder=\"Note content...\"\r\n          />\r\n          <div className=\"flex justify-end gap-2\">\r\n            <button\r\n              onClick={handleCancel}\r\n              className=\"rounded-md border border-input px-3 py-1 text-sm transition-colors hover:bg-muted\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              onClick={handleEdit}\r\n              disabled={!editTitle.trim()}\r\n              className=\"rounded-md bg-primary px-3 py-1 text-sm text-primary-foreground transition-colors hover:bg-primary/90 disabled:opacity-50\"\r\n            >\r\n              Save\r\n            </button>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Card\r\n      {...swipeHandlers}\r\n      className={`cursor-pointer transition-all duration-150 ${\r\n        isPressed ? 'scale-95 bg-muted' : 'hover:bg-muted/50'\r\n      }`}\r\n      onTouchStart={() => setIsPressed(true)}\r\n      onTouchEnd={() => setIsPressed(false)}\r\n      onMouseDown={() => setIsPressed(true)}\r\n      onMouseUp={() => setIsPressed(false)}\r\n      onMouseLeave={() => setIsPressed(false)}\r\n      onClick={() => setIsEditing(true)}\r\n    >\r\n      <CardContent className=\"px-4 py-3\">\r\n        <div className=\"flex items-start justify-between\">\r\n          <div className=\"mr-3 min-w-0 flex-1\">\r\n            <h3 className=\"mb-1 truncate text-sm font-medium\">{note.title}</h3>\r\n            {note.content && (\r\n              <p className=\"line-clamp-2 text-sm text-muted-foreground\">\r\n                {note.content}\r\n              </p>\r\n            )}\r\n            <div className=\"mt-2 flex items-center gap-2 text-xs text-muted-foreground\">\r\n              <Calendar className=\"h-3 w-3\" />\r\n              <span>{formatDate(note.updatedAt)}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-2\">\r\n            <Edit className=\"h-4 w-4 text-muted-foreground\" />\r\n            <div className=\"text-xs text-muted-foreground opacity-50\">\r\n              Swipe to delete\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport { Input } from '@/shared/ui/input'\r\nimport { Button } from '@/shared/ui/button'\r\nimport { Textarea } from '@/shared/ui/textarea'\r\nimport { Plus, Search } from 'lucide-react'\r\nimport { useNotesStore } from '../store'\r\nimport { NoteRow } from '../components/NoteRow'\r\n\r\nexport default function NotesPage() {\r\n  const [titleInput, setTitleInput] = useState('')\r\n  const [contentInput, setContentInput] = useState('')\r\n  const [searchQuery, setSearchQuery] = useState('')\r\n  const [isAdding, setIsAdding] = useState(false)\r\n  const { notes, addNote, loadNotes, isLoading } = useNotesStore()\r\n\r\n  useEffect(() => {\r\n    if (notes.length === 0) {\r\n      loadNotes()\r\n    }\r\n  }, [notes.length, loadNotes])\r\n\r\n  // Filter notes based on search query\r\n  const filteredNotes = notes.filter(\r\n    (note) =>\r\n      note.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      note.content.toLowerCase().includes(searchQuery.toLowerCase())\r\n  )\r\n\r\n  const handleAddNote = async () => {\r\n    if (!titleInput.trim()) return\r\n\r\n    try {\r\n      await addNote({\r\n        title: titleInput.trim(),\r\n        content: contentInput.trim(),\r\n        createdAt: new Date().toISOString(),\r\n        updatedAt: new Date().toISOString(),\r\n      })\r\n\r\n      // Reset form\r\n      setTitleInput('')\r\n      setContentInput('')\r\n      setIsAdding(false)\r\n    } catch (error) {\r\n      console.error('Failed to add note:', error)\r\n    }\r\n  }\r\n\r\n  const handleCancel = () => {\r\n    setTitleInput('')\r\n    setContentInput('')\r\n    setIsAdding(false)\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 pb-24 pt-4\">\r\n      <h2 className=\"mb-4 text-lg font-semibold\">Notes</h2>\r\n\r\n      {/* Search bar */}\r\n      <div className=\"relative mb-4\">\r\n        <Search className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-muted-foreground\" />\r\n        <Input\r\n          placeholder=\"Search notes...\"\r\n          value={searchQuery}\r\n          onChange={(e) => setSearchQuery(e.target.value)}\r\n          className=\"pl-10\"\r\n        />\r\n      </div>\r\n\r\n      {/* Add new note form */}\r\n      {isAdding ? (\r\n        <div className=\"mb-6 rounded-lg border bg-card p-4\">\r\n          <Input\r\n            placeholder=\"Note title...\"\r\n            value={titleInput}\r\n            onChange={(e) => setTitleInput(e.target.value)}\r\n            className=\"mb-3\"\r\n            disabled={isLoading}\r\n          />\r\n          <Textarea\r\n            placeholder=\"Write your note...\"\r\n            value={contentInput}\r\n            onChange={(e: React.ChangeEvent<HTMLTextAreaElement>) =>\r\n              setContentInput(e.target.value)\r\n            }\r\n            className=\"mb-3 min-h-[120px]\"\r\n            disabled={isLoading}\r\n          />\r\n          <div className=\"flex justify-end gap-2\">\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={handleCancel}\r\n              disabled={isLoading}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              onClick={handleAddNote}\r\n              disabled={isLoading || !titleInput.trim()}\r\n            >\r\n              Save Note\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <Button\r\n          onClick={() => setIsAdding(true)}\r\n          className=\"mb-6 w-full\"\r\n          disabled={isLoading}\r\n        >\r\n          <Plus className=\"mr-2 h-4 w-4\" />\r\n          Add New Note\r\n        </Button>\r\n      )}\r\n\r\n      {isLoading && <p className=\"text-muted-foreground\">Loading...</p>}\r\n\r\n      {/* Notes list */}\r\n      {!isLoading && (\r\n        <>\r\n          {filteredNotes.length > 0 ? (\r\n            <div className=\"space-y-3\">\r\n              {filteredNotes.map((note) => (\r\n                <NoteRow key={note.id} note={note} />\r\n              ))}\r\n            </div>\r\n          ) : searchQuery ? (\r\n            <div className=\"text-center text-muted-foreground\">\r\n              <p className=\"mb-2 text-4xl\"></p>\r\n              <p>No notes found</p>\r\n              <p className=\"text-sm\">Try a different search term</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center text-muted-foreground\">\r\n              <p className=\"mb-2 text-4xl\"></p>\r\n              <p>No notes yet</p>\r\n              <p className=\"text-sm\">Create your first note above</p>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import { useWeightStore } from '@/modules/weight'\r\nimport { kgToLbs } from '@/modules/weight/types'\r\nimport { TrendingUp, TrendingDown, Minus, BarChart3 } from 'lucide-react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useTouchFeedback, useResponsiveBreakpoint } from '@/shared/hooks/useMobileInteractions'\r\n\r\nexport function WeightSparkCard() {\r\n  const navigate = useNavigate()\r\n  const { weights, isLoading } = useWeightStore()\r\n  \r\n  // Mobile interactions\r\n  const { isMobile } = useResponsiveBreakpoint()\r\n  const cardFeedback = useTouchFeedback<HTMLDivElement>({ \r\n    scale: 0.98, \r\n    haptic: true \r\n  })\r\n\r\n  // Get last 30 days of weight data\r\n  const thirtyDaysAgo = new Date()\r\n  thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30)\r\n\r\n  const recentWeights = weights\r\n    .filter((w) => {\r\n      const weightDate = new Date(w.dateISO)\r\n      return weightDate >= thirtyDaysAgo\r\n    })\r\n    .slice(0, 30) // Limit to 30 entries\r\n\r\n  const handleClick = () => {\r\n    navigate('/health')\r\n  }\r\n\r\n  // Calculate trend for the period\r\n  const getTrend = () => {\r\n    if (recentWeights.length < 2) return null\r\n    const oldest = recentWeights[recentWeights.length - 1]\r\n    const newest = recentWeights[0]\r\n    const diff = newest.kg - oldest.kg\r\n\r\n    if (Math.abs(diff) < 0.1) return { type: 'stable', diff: 0 }\r\n    return {\r\n      type: diff > 0 ? 'up' : 'down',\r\n      diff: Math.abs(diff),\r\n      days: recentWeights.length,\r\n    }\r\n  }\r\n\r\n  const trend = getTrend()\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"cyber-card cursor-pointer mobile-card mobile-responsive\">\r\n        <div className=\"mb-4 flex items-center gap-3 mobile-layout\">\r\n          <div className=\"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-600 bg-gray-700 touch-target\">\r\n            <BarChart3 className=\"text-ki-green cyber-icon h-5 w-5\" />\r\n          </div>\r\n          <div>\r\n            <h3 className=\"font-semibold text-white mobile-heading\">Weight Trend</h3>\r\n            <p className=\"font-mono text-xs text-gray-400 mobile-caption\">Loading...</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex h-16 items-center justify-center\">\r\n          <div className=\"shimmer h-8 w-full rounded bg-gray-700\"></div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div\r\n      ref={cardFeedback.elementRef}\r\n      className={`cyber-card flex h-full cursor-pointer flex-col transition-all duration-200 mobile-card mobile-responsive touch-friendly ${isMobile ? 'galaxy-s24-ultra-optimized' : ''}`}\r\n      onClick={handleClick}\r\n      onKeyDown={(e) => {\r\n        if (e.key === 'Enter' || e.key === ' ') {\r\n          e.preventDefault()\r\n          handleClick()\r\n        }\r\n      }}\r\n      role=\"button\"\r\n      tabIndex={0}\r\n      aria-label=\"Weight trend card - view full weight history\"\r\n    >\r\n      <div className=\"mb-4 flex items-center gap-3 mobile-layout\">\r\n        <div className=\"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-600 bg-gray-700 touch-target\">\r\n          <BarChart3 className=\"text-ki-green cyber-icon glow-ki h-5 w-5 transition-all duration-200\" />\r\n        </div>\r\n        <div>\r\n          <h3 className=\"font-semibold text-white mobile-heading\">Weight Trend</h3>\r\n          <p className=\"font-mono text-xs text-gray-400 mobile-caption\">30-day analysis</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex flex-1 flex-col\">\r\n        {recentWeights.length > 0 ? (\r\n          <div className=\"flex flex-1 flex-col space-y-4\">\r\n            {/* Mini sparkline visualization */}\r\n            <div className=\"relative h-12 overflow-hidden rounded-lg border border-gray-700 bg-gray-900\">\r\n              <div className=\"absolute inset-0 p-2\">\r\n                <svg viewBox=\"0 0 100 20\" className=\"h-full w-full\">\r\n                  <defs>\r\n                    <linearGradient\r\n                      id=\"sparklineGradient\"\r\n                      x1=\"0%\"\r\n                      y1=\"0%\"\r\n                      x2=\"100%\"\r\n                      y2=\"0%\"\r\n                    >\r\n                      <stop offset=\"0%\" stopColor=\"var(--ki-green)\" />\r\n                      <stop offset=\"100%\" stopColor=\"var(--plasma-cyan)\" />\r\n                    </linearGradient>\r\n                  </defs>\r\n\r\n                  {recentWeights.length > 1 && (\r\n                    <polyline\r\n                      points={recentWeights\r\n                        .slice(0, 10) // Show last 10 points for simplicity\r\n                        .map((w, i) => {\r\n                          const x =\r\n                            (i / (Math.min(recentWeights.length, 10) - 1)) * 100\r\n                          const minWeight = Math.min(\r\n                            ...recentWeights.slice(0, 10).map((w) => w.kg)\r\n                          )\r\n                          const maxWeight = Math.max(\r\n                            ...recentWeights.slice(0, 10).map((w) => w.kg)\r\n                          )\r\n                          const range = maxWeight - minWeight || 1\r\n                          const y = 20 - ((w.kg - minWeight) / range) * 16\r\n                          return `${x},${y}`\r\n                        })\r\n                        .join(' ')}\r\n                      fill=\"none\"\r\n                      stroke=\"url(#sparklineGradient)\"\r\n                      strokeWidth=\"2\"\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      className=\"cyber-glow\"\r\n                    />\r\n                  )}\r\n                </svg>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Trend summary */}\r\n            <div className=\"flex items-center justify-between rounded-lg border border-gray-700 bg-gray-900 p-3\">\r\n              <div className=\"flex items-center gap-2\">\r\n                {trend && trend.type === 'up' && (\r\n                  <TrendingUp className=\"cyber-icon h-4 w-4 text-red-400\" />\r\n                )}\r\n                {trend && trend.type === 'down' && (\r\n                  <TrendingDown className=\"text-ki-green cyber-icon glow-ki h-4 w-4\" />\r\n                )}\r\n                {trend && trend.type === 'stable' && (\r\n                  <Minus className=\"text-plasma-cyan cyber-icon glow-cyan h-4 w-4\" />\r\n                )}\r\n\r\n                <div>\r\n                  <div className=\"font-mono text-sm text-white mobile-small\">\r\n                    {trend\r\n                      ? trend.type === 'stable'\r\n                        ? 'Stable'\r\n                        : `${trend.type === 'up' ? '+' : '-'}${kgToLbs(trend.diff).toFixed(1)}lbs`\r\n                      : 'No trend data'}\r\n                  </div>\r\n                  <div className=\"text-xs text-gray-400 mobile-caption\">\r\n                    {recentWeights.length} entries\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"text-right\">\r\n                <div className=\"gradient-text-ki font-mono text-sm font-semibold mobile-small\">\r\n                  {kgToLbs(recentWeights[0]?.kg || 0).toFixed(1)}lbs\r\n                </div>\r\n                <div className=\"text-xs text-gray-400 mobile-caption\">current</div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-auto text-center font-mono text-xs text-gray-400\">\r\n               Tap to view full weight history\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"flex flex-1 flex-col justify-center space-y-4 text-center\">\r\n            <div className=\"mx-auto flex h-16 w-16 items-center justify-center rounded-lg border border-gray-700 bg-gray-900\">\r\n              <BarChart3 className=\"cyber-icon h-8 w-8 text-gray-600\" />\r\n            </div>\r\n            <div>\r\n              <div className=\"font-inter mb-2 text-gray-400\">\r\n                No weight data available\r\n              </div>\r\n              <div className=\"text-ki-green cursor-pointer font-mono text-sm\">\r\n                 Start tracking to see trends\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { useWeightStore } from '@/modules/weight'\r\nimport { kgToLbs } from '@/modules/weight/types'\r\nimport { Scale, TrendingUp, TrendingDown, Minus } from 'lucide-react'\r\nimport { useTouchFeedback, useResponsiveBreakpoint } from '@/shared/hooks/useMobileInteractions'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nexport function TodayWeightCard() {\r\n  const navigate = useNavigate()\r\n  const { weights, isLoading } = useWeightStore()\r\n  \r\n  // Mobile interactions\r\n  const { isMobile } = useResponsiveBreakpoint()\r\n  const cardFeedback = useTouchFeedback<HTMLDivElement>({ \r\n    scale: 0.98, \r\n    haptic: true \r\n  })\r\n\r\n  const handleClick = () => {\r\n    navigate('/health')\r\n  }\r\n\r\n  // Get today's weight entry\r\n  const today = new Date().toISOString().split('T')[0]\r\n  const todayWeight = weights.find((w) => w.dateISO === today)\r\n\r\n  // Get yesterday's weight for comparison\r\n  const yesterday = new Date()\r\n  yesterday.setDate(yesterday.getDate() - 1)\r\n  const yesterdayISO = yesterday.toISOString().split('T')[0]\r\n  const yesterdayWeight = weights.find((w) => w.dateISO === yesterdayISO)\r\n\r\n  // Calculate trend\r\n  const getTrend = () => {\r\n    if (!todayWeight || !yesterdayWeight) return null\r\n    const diff = todayWeight.kg - yesterdayWeight.kg\r\n    if (Math.abs(diff) < 0.1) return { type: 'stable', diff: 0 }\r\n    return {\r\n      type: diff > 0 ? 'up' : 'down',\r\n      diff: Math.abs(diff),\r\n    }\r\n  }\r\n\r\n  const trend = getTrend()\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"cyber-card flex h-full cursor-pointer flex-col mobile-card mobile-responsive\">\r\n        <div className=\"mb-4 flex items-center gap-3 mobile-layout\">\r\n          <div className=\"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-600 bg-gray-700 touch-target\">\r\n            <Scale className=\"text-ki-green cyber-icon h-5 w-5\" />\r\n          </div>\r\n          <div>\r\n            <h3 className=\"font-semibold text-white mobile-body\">Today's Weight</h3>\r\n            <p className=\"font-mono text-xs text-gray-400 mobile-caption\">Loading...</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex flex-1 items-center justify-center\">\r\n          <div className=\"shimmer h-8 w-full rounded bg-gray-700\"></div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div \r\n      ref={cardFeedback.elementRef}\r\n      className={`cyber-card transition-cyber flex h-full cursor-pointer flex-col mobile-card mobile-responsive touch-friendly ${isMobile ? 'galaxy-s24-ultra-optimized' : ''}`}\r\n      onClick={handleClick}\r\n      onKeyDown={(e) => {\r\n        if (e.key === 'Enter' || e.key === ' ') {\r\n          e.preventDefault()\r\n          handleClick()\r\n        }\r\n      }}\r\n      role=\"button\"\r\n      tabIndex={0}\r\n      aria-label=\"Today's weight card - navigate to health hub\"\r\n    >\r\n      <div className=\"mb-4 flex items-center gap-3 mobile-layout\">\r\n        <div className=\"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-600 bg-gray-700 touch-target\">\r\n          <Scale className=\"text-ki-green cyber-icon glow-ki h-5 w-5\" />\r\n        </div>\r\n        <div>\r\n          <h3 className=\"font-semibold text-white mobile-heading\">Today's Weight</h3>\r\n          <p className=\"font-mono text-xs text-gray-400 mobile-caption\">Current status</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex flex-1 flex-col\">\r\n        {todayWeight ? (\r\n          <div className=\"flex flex-1 flex-col justify-center space-y-4\">\r\n            {/* Large weight display */}\r\n            <div className=\"text-center\">\r\n              <div className=\"metric-large gradient-text-ki metric-display mobile-large\">\r\n                {kgToLbs(todayWeight.kg).toFixed(1)}\r\n                <span className=\"font-inter ml-1 text-lg text-gray-400 mobile-body\">\r\n                  lbs\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Trend comparison */}\r\n            {trend && (\r\n              <div className=\"flex items-center justify-center gap-2 rounded-lg border border-gray-700 bg-gray-900 p-3 mobile-card\">\r\n                {trend.type === 'up' && (\r\n                  <>\r\n                    <TrendingUp className=\"cyber-icon h-4 w-4 text-red-400\" />\r\n                    <span className=\"font-mono text-sm text-red-400 mobile-small\">\r\n                      +{kgToLbs(trend.diff).toFixed(1)}lbs from yesterday\r\n                    </span>\r\n                  </>\r\n                )}\r\n                {trend.type === 'down' && (\r\n                  <>\r\n                    <TrendingDown className=\"text-ki-green cyber-icon glow-ki h-4 w-4\" />\r\n                    <span className=\"text-ki-green font-mono text-sm mobile-small\">\r\n                      -{kgToLbs(trend.diff).toFixed(1)}lbs from yesterday\r\n                    </span>\r\n                  </>\r\n                )}\r\n                {trend.type === 'stable' && (\r\n                  <>\r\n                    <Minus className=\"text-plasma-cyan cyber-icon glow-cyan h-4 w-4\" />\r\n                    <span className=\"text-plasma-cyan font-mono text-sm mobile-small\">\r\n                      No change from yesterday\r\n                    </span>\r\n                  </>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"mt-auto text-center font-mono text-xs text-gray-400 mobile-caption\">\r\n              Recorded on {new Date(todayWeight.dateISO).toLocaleDateString()}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"flex flex-1 flex-col justify-center space-y-4 text-center mobile-layout\">\r\n            <div className=\"mx-auto flex h-16 w-16 items-center justify-center rounded-lg border border-gray-700 bg-gray-900 touch-target\">\r\n              <Scale className=\"cyber-icon h-8 w-8 text-gray-600\" />\r\n            </div>\r\n            <div>\r\n              <div className=\"font-inter mb-2 text-gray-400 mobile-body\">\r\n                No weight logged today\r\n              </div>\r\n              <div className=\"text-ki-green cursor-pointer font-mono text-sm mobile-small touch-friendly\">\r\n                 Tap to log your weight\r\n              </div>\r\n            </div>\r\n\r\n            {yesterdayWeight && (\r\n              <div className=\"mt-auto rounded-lg border border-gray-700 bg-gray-900 p-3 mobile-card\">\r\n                <div className=\"font-mono text-xs text-gray-500 mobile-caption\">\r\n                  Yesterday:{' '}\r\n                  <span className=\"text-gray-300\">{kgToLbs(yesterdayWeight.kg).toFixed(1)}lbs</span>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","// src/modules/weight/routes.tsx\r\nimport { lazy } from 'react'\r\nimport { RouteObject } from 'react-router-dom'\r\n\r\nconst WeightPage = lazy(() => import('./pages/WeightPage'))\r\n\r\nexport const weightRoutes: RouteObject[] = [\r\n  {\r\n    path: '/weight',\r\n    element: <WeightPage />,\r\n  },\r\n]\r\n","import * as React from 'react'\r\nimport { cn } from '@/shared/utils/cn'\r\nimport {\r\n  CheckCircle,\r\n  AlertTriangle,\r\n  XCircle,\r\n  Info,\r\n  Clock,\r\n  Zap,\r\n} from 'lucide-react'\r\n\r\ninterface StatusChipProps extends React.HTMLAttributes<HTMLDivElement> {\r\n  variant?: 'success' | 'warning' | 'error' | 'info' | 'pending' | 'active'\r\n  size?: 'sm' | 'md' | 'lg'\r\n  showIcon?: boolean\r\n  children: React.ReactNode\r\n}\r\n\r\nconst statusConfig = {\r\n  success: {\r\n    icon: CheckCircle,\r\n    color: 'text-ki-green',\r\n    border: 'border-ki-green',\r\n    bg: 'bg-ki-green/10',\r\n    glow: 'ki-glow-soft',\r\n  },\r\n  warning: {\r\n    icon: AlertTriangle,\r\n    color: 'text-yellow-400',\r\n    border: 'border-yellow-400',\r\n    bg: 'bg-yellow-400/10',\r\n    glow: 'shadow-[0_0_8px_rgba(251,191,36,0.3)]',\r\n  },\r\n  error: {\r\n    icon: XCircle,\r\n    color: 'text-red-400',\r\n    border: 'border-red-400',\r\n    bg: 'bg-red-400/10',\r\n    glow: 'shadow-[0_0_8px_rgba(239,68,68,0.3)]',\r\n  },\r\n  info: {\r\n    icon: Info,\r\n    color: 'text-plasma-cyan',\r\n    border: 'border-plasma-cyan',\r\n    bg: 'bg-plasma-cyan/10',\r\n    glow: 'cyan-glow',\r\n  },\r\n  pending: {\r\n    icon: Clock,\r\n    color: 'text-gray-400',\r\n    border: 'border-gray-400',\r\n    bg: 'bg-gray-400/10',\r\n    glow: '',\r\n  },\r\n  active: {\r\n    icon: Zap,\r\n    color: 'text-hyper-magenta',\r\n    border: 'border-hyper-magenta',\r\n    bg: 'bg-hyper-magenta/10',\r\n    glow: 'magenta-glow',\r\n  },\r\n}\r\n\r\nconst StatusChip = React.forwardRef<HTMLDivElement, StatusChipProps>(\r\n  (\r\n    {\r\n      className,\r\n      variant = 'info',\r\n      size = 'md',\r\n      showIcon = true,\r\n      children,\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    const config = statusConfig[variant]\r\n    const Icon = config.icon\r\n\r\n    const sizeClasses = {\r\n      sm: 'px-2 py-1 text-xs gap-1',\r\n      md: 'px-3 py-1.5 text-sm gap-1.5',\r\n      lg: 'px-4 py-2 text-base gap-2',\r\n    }\r\n\r\n    const iconSizes = {\r\n      sm: 'h-3 w-3',\r\n      md: 'h-4 w-4',\r\n      lg: 'h-5 w-5',\r\n    }\r\n\r\n    return (\r\n      <div\r\n        className={cn(\r\n          'inline-flex items-center rounded-full border font-mono font-medium transition-all duration-200',\r\n          sizeClasses[size],\r\n          config.color,\r\n          config.border,\r\n          config.bg,\r\n          config.glow,\r\n          'hover:scale-105',\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      >\r\n        {showIcon && <Icon className={iconSizes[size]} />}\r\n        <span>{children}</span>\r\n      </div>\r\n    )\r\n  }\r\n)\r\nStatusChip.displayName = 'StatusChip'\r\n\r\nexport { StatusChip }\r\n","import { useTasksStore } from '@/modules/tasks/store'\r\nimport { StatusChip } from '@/shared/ui/status-chip'\r\nimport { CheckSquare, Circle, Clock } from 'lucide-react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { Progress } from '@/shared/ui/progress'\r\nimport { useTouchFeedback, useResponsiveBreakpoint } from '@/shared/hooks/useMobileInteractions'\r\n\r\nexport function TodoSummaryCard() {\r\n  const navigate = useNavigate()\r\n  const { todos, isLoading } = useTasksStore()\r\n  \r\n  // Mobile interactions\r\n  const { isMobile } = useResponsiveBreakpoint()\r\n  const cardFeedback = useTouchFeedback<HTMLDivElement>({ \r\n    scale: 0.98, \r\n    haptic: true \r\n  })\r\n\r\n  const totalTodos = todos.length\r\n  const completedTodos = todos.filter((todo) => todo.done).length\r\n  const incompleteTodos = totalTodos - completedTodos\r\n  const progressPercentage =\r\n    totalTodos > 0 ? (completedTodos / totalTodos) * 100 : 0\r\n\r\n  const handleClick = () => {\r\n    navigate('/todo')\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"cyber-card flex h-full cursor-pointer flex-col mobile-card mobile-responsive\">\r\n        <div className=\"mb-4 flex items-center gap-3 mobile-layout\">\r\n          <div className=\"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-600 bg-gray-700 touch-target\">\r\n            <Clock className=\"text-ki-green cyber-icon h-5 w-5\" />\r\n          </div>\r\n          <div>\r\n            <h3 className=\"font-semibold text-white mobile-heading\">Quest Progress</h3>\r\n            <p className=\"font-mono text-xs text-gray-400 mobile-caption\">Loading...</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex flex-1 items-center justify-center\">\r\n          <div className=\"shimmer h-20 w-20 rounded-full bg-gray-700\"></div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const getProgressStatus = () => {\r\n    if (totalTodos === 0) return 'pending'\r\n    if (progressPercentage === 100) return 'success'\r\n    if (progressPercentage >= 75) return 'active'\r\n    if (progressPercentage >= 50) return 'info'\r\n    return 'warning'\r\n  }\r\n\r\n  return (\r\n    <div\r\n      ref={cardFeedback.elementRef}\r\n      className={`cyber-card transition-cyber flex h-full cursor-pointer flex-col mobile-card mobile-responsive touch-friendly ${isMobile ? 'galaxy-s24-ultra-optimized' : ''}`}\r\n      onClick={handleClick}\r\n      onKeyDown={(e) => {\r\n        if (e.key === 'Enter' || e.key === ' ') {\r\n          e.preventDefault()\r\n          handleClick()\r\n        }\r\n      }}\r\n      role=\"button\"\r\n      tabIndex={0}\r\n      aria-label=\"Quest progress card - view todo list\"\r\n    >\r\n      <div className=\"mb-4 flex items-center gap-3 mobile-layout\">\r\n        <div className=\"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-600 bg-gray-700 touch-target\">\r\n          <Clock className=\"text-ki-green cyber-icon glow-ki h-5 w-5\" />\r\n        </div>\r\n        <div>\r\n          <h3 className=\"font-semibold text-white mobile-heading\">Quest Progress</h3>\r\n          <p className=\"font-mono text-xs text-gray-400 mobile-caption\">Today's missions</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex flex-1 flex-col\">\r\n        {totalTodos > 0 ? (\r\n          <div className=\"flex flex-1 flex-col justify-center space-y-4\">\r\n            {/* Progress ring */}\r\n            <div className=\"flex items-center justify-center\">\r\n              <Progress\r\n                value={progressPercentage}\r\n                variant=\"ring\"\r\n                size=\"lg\"\r\n                className=\"h-24 w-24\"\r\n              />\r\n            </div>\r\n\r\n            {/* Stats breakdown */}\r\n            <div className=\"grid grid-cols-2 gap-3\">\r\n              <div className=\"rounded-lg border border-gray-700 bg-gray-900 p-3 text-center\">\r\n                <div className=\"mb-1 flex items-center justify-center gap-1.5\">\r\n                  <CheckSquare className=\"text-ki-green cyber-icon h-4 w-4\" />\r\n                  <span className=\"text-ki-green font-mono text-sm\">Done</span>\r\n                </div>\r\n                <div className=\"metric-medium gradient-text-ki\">\r\n                  {completedTodos}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"rounded-lg border border-gray-700 bg-gray-900 p-3 text-center\">\r\n                <div className=\"mb-1 flex items-center justify-center gap-1.5\">\r\n                  <Circle className=\"cyber-icon h-4 w-4 text-gray-400\" />\r\n                  <span className=\"font-mono text-sm text-gray-400\">Left</span>\r\n                </div>\r\n                <div className=\"metric-medium text-gray-300\">\r\n                  {incompleteTodos}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Status chip */}\r\n            <div className=\"mt-auto flex justify-center\">\r\n              <StatusChip variant={getProgressStatus()} size=\"md\">\r\n                {progressPercentage === 100\r\n                  ? 'Complete!'\r\n                  : progressPercentage >= 75\r\n                    ? 'Almost done'\r\n                    : progressPercentage >= 50\r\n                      ? 'Making progress'\r\n                      : progressPercentage > 0\r\n                        ? 'Getting started'\r\n                        : 'Ready to begin'}\r\n              </StatusChip>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"flex flex-1 flex-col justify-center space-y-4 text-center\">\r\n            <div className=\"mx-auto flex h-16 w-16 items-center justify-center rounded-lg border border-gray-700 bg-gray-900\">\r\n              <Clock className=\"cyber-icon h-8 w-8 text-gray-600\" />\r\n            </div>\r\n            <div>\r\n              <div className=\"font-inter mb-2 text-gray-400\">\r\n                No quests active\r\n              </div>\r\n              <div className=\"text-ki-green cursor-pointer font-mono text-sm\">\r\n                 Tap to create your first quest\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-auto\">\r\n              <StatusChip variant=\"pending\" size=\"md\">\r\n                Awaiting missions\r\n              </StatusChip>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { Flame, Zap, Star } from 'lucide-react'\r\nimport { useTouchFeedback, useResponsiveBreakpoint } from '@/shared/hooks/useMobileInteractions'\r\n\r\nexport function StreakCard() {\r\n  // TODO: Implement actual streak calculation logic\r\n  // This will track consecutive days of weight logging or task completion\r\n  const streakDays: number = 0\r\n  \r\n  // Mobile interactions\r\n  const { isMobile } = useResponsiveBreakpoint()\r\n  const cardFeedback = useTouchFeedback<HTMLDivElement>({ \r\n    scale: 0.98, \r\n    haptic: true \r\n  })\r\n\r\n  const handleClick = () => {\r\n    // Navigate to dashboard for now, could be a dedicated stats page in the future\r\n    console.log('Streak card clicked - showing current stats')\r\n  }\r\n\r\n  const getStreakIcon = () => {\r\n    if (streakDays >= 30) return Star\r\n    if (streakDays >= 7) return Zap\r\n    return Flame\r\n  }\r\n\r\n  const getStreakMessage = () => {\r\n    if (streakDays === 0) return 'Begin your cyber journey'\r\n    if (streakDays < 7) return 'Building momentum...'\r\n    if (streakDays < 30) return 'Cyber warrior rising!'\r\n    return 'Master ninja achieved!'\r\n  }\r\n\r\n  const getStreakColor = () => {\r\n    if (streakDays >= 30) return 'text-hyper-magenta'\r\n    if (streakDays >= 7) return 'text-plasma-cyan'\r\n    return 'text-ki-green'\r\n  }\r\n\r\n  const StreakIcon = getStreakIcon()\r\n\r\n  return (\r\n    <div\r\n      ref={cardFeedback.elementRef}\r\n      className={`cyber-card transition-cyber flex h-full cursor-pointer flex-col mobile-card mobile-responsive touch-friendly ${isMobile ? 'galaxy-s24-ultra-optimized' : ''}`}\r\n      onClick={handleClick}\r\n      onKeyDown={(e) => {\r\n        if (e.key === 'Enter' || e.key === ' ') {\r\n          e.preventDefault()\r\n          handleClick()\r\n        }\r\n      }}\r\n      role=\"button\"\r\n      tabIndex={0}\r\n      aria-label=\"Momentum streak card\"\r\n    >\r\n      <div className=\"mb-4 flex items-center gap-3 mobile-layout\">\r\n        <div className=\"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-600 bg-gray-700 touch-target\">\r\n          <StreakIcon className={`h-5 w-5 ${getStreakColor()}`} />\r\n        </div>\r\n        <div>\r\n          <h3 className=\"font-semibold text-white mobile-heading\">Momentum</h3>\r\n          <p className=\"font-mono text-xs text-gray-400 mobile-caption\">Daily streak</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex flex-1 flex-col justify-center space-y-4 text-center\">\r\n        {/* Large streak display */}\r\n        <div className=\"relative\">\r\n          <div className=\"gradient-text-ki font-cyber mb-2 text-4xl font-bold\">\r\n            {streakDays}\r\n          </div>\r\n          <div className=\"font-mono text-sm text-gray-400\">\r\n            {streakDays === 1 ? 'DAY' : 'DAYS'}\r\n          </div>\r\n\r\n          {/* Streak glow effect */}\r\n          {streakDays > 0 && (\r\n            <div className=\"absolute inset-0 -z-10\">\r\n              <div\r\n                className={`mx-auto h-16 w-16 rounded-full ${\r\n                  streakDays >= 30\r\n                    ? 'magenta-glow'\r\n                    : streakDays >= 7\r\n                      ? 'cyan-glow'\r\n                      : 'ki-glow-soft'\r\n                } opacity-20`}\r\n              ></div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Motivational message */}\r\n        <div className=\"space-y-2\">\r\n          <div className=\"font-inter text-sm text-gray-300\">\r\n            {getStreakMessage()}\r\n          </div>\r\n\r\n          {/* Progress indicators */}\r\n          <div className=\"flex justify-center gap-1\">\r\n            {[1, 7, 14, 21, 30].map((milestone) => (\r\n              <div\r\n                key={milestone}\r\n                className={`h-2 w-2 rounded-full transition-all duration-300 ${\r\n                  streakDays >= milestone\r\n                    ? 'bg-ki-green ki-glow-soft'\r\n                    : 'bg-gray-700'\r\n                }`}\r\n              />\r\n            ))}\r\n          </div>\r\n\r\n          <div className=\"font-mono text-xs text-gray-500\">\r\n            Next milestone:{' '}\r\n            {streakDays < 1\r\n              ? '1 day'\r\n              : streakDays < 7\r\n                ? '7 days'\r\n                : streakDays < 14\r\n                  ? '14 days'\r\n                  : streakDays < 21\r\n                    ? '21 days'\r\n                    : streakDays < 30\r\n                      ? '30 days'\r\n                      : 'Master level!'}\r\n          </div>\r\n        </div>\r\n\r\n        {streakDays === 0 && (\r\n          <div className=\"mt-4 rounded-lg border border-gray-700 bg-gray-900 p-3\">\r\n            <div className=\"text-ki-green font-mono text-xs\">\r\n              Log weight or complete tasks daily to build your streak\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport { Button } from '@/shared/ui/button'\r\nimport { StatusChip } from '@/shared/ui/status-chip'\r\nimport { Download, HardDrive } from 'lucide-react'\r\nimport {\r\n  exportAllData,\r\n  downloadDataAsFile,\r\n  getDataSummary,\r\n  AppDataExport,\r\n} from '@/shared/utils/dataExport'\r\nimport { useTouchFeedback, useResponsiveBreakpoint } from '@/shared/hooks/useMobileInteractions'\r\n\r\nexport function DataExportCard() {\r\n  const [isExporting, setIsExporting] = useState(false)\r\n  const [exportStatus, setExportStatus] = useState<\r\n    'idle' | 'success' | 'error'\r\n  >('idle')\r\n  const [lastExport, setLastExport] = useState<AppDataExport | null>(null)\r\n  \r\n  // Mobile interactions\r\n  const { isMobile } = useResponsiveBreakpoint()\r\n  const buttonFeedback = useTouchFeedback<HTMLButtonElement>({ \r\n    scale: 0.95, \r\n    haptic: true \r\n  })\r\n\r\n  const handleExport = async () => {\r\n    try {\r\n      setIsExporting(true)\r\n      setExportStatus('idle')\r\n\r\n      const exportData = await exportAllData()\r\n      downloadDataAsFile(exportData)\r\n\r\n      setLastExport(exportData)\r\n      setExportStatus('success')\r\n\r\n      // Reset success status after 3 seconds\r\n      setTimeout(() => setExportStatus('idle'), 3000)\r\n    } catch (error) {\r\n      console.error('Export failed:', error)\r\n      setExportStatus('error')\r\n\r\n      // Reset error status after 3 seconds\r\n      setTimeout(() => setExportStatus('idle'), 3000)\r\n    } finally {\r\n      setIsExporting(false)\r\n    }\r\n  }\r\n\r\n  const summary = lastExport ? getDataSummary(lastExport) : null\r\n\r\n  return (\r\n    <div className={`cyber-card transition-cyber flex h-full flex-col mobile-card mobile-responsive ${isMobile ? 'galaxy-s24-ultra-optimized' : ''}`}>\r\n      <div className=\"mb-4 flex items-center gap-3 mobile-layout\">\r\n        <div className=\"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-600 bg-gray-700 touch-target\">\r\n          <HardDrive className=\"text-plasma-cyan cyber-icon glow-cyan h-5 w-5\" />\r\n        </div>\r\n        <div>\r\n          <h3 className=\"font-semibold text-white mobile-heading\">Data Backup</h3>\r\n          <p className=\"font-mono text-xs text-gray-400 mobile-caption\">System export</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex flex-1 flex-col space-y-4\">\r\n        {/* Status indicator */}\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"font-inter text-sm text-gray-300\">\r\n            Export all training data\r\n          </div>\r\n\r\n          {exportStatus === 'success' && (\r\n            <StatusChip variant=\"success\" size=\"sm\">\r\n              Complete\r\n            </StatusChip>\r\n          )}\r\n          {exportStatus === 'error' && (\r\n            <StatusChip variant=\"error\" size=\"sm\">\r\n              Failed\r\n            </StatusChip>\r\n          )}\r\n          {isExporting && (\r\n            <StatusChip variant=\"active\" size=\"sm\">\r\n              Processing\r\n            </StatusChip>\r\n          )}\r\n          {exportStatus === 'idle' && !isExporting && (\r\n            <StatusChip variant=\"info\" size=\"sm\" showIcon={false}>\r\n              Ready\r\n            </StatusChip>\r\n          )}\r\n        </div>\r\n\r\n        {/* Data summary */}\r\n        {summary && (\r\n          <div className=\"rounded-lg border border-gray-700 bg-gray-900 p-3\">\r\n            <div className=\"mb-2 font-mono text-xs text-gray-400\">\r\n              Last Export: {new Date(summary.exportDate).toLocaleDateString()}\r\n            </div>\r\n            <div className=\"grid grid-cols-3 gap-2\">\r\n              <div className=\"text-center\">\r\n                <div className=\"text-ki-green font-mono text-sm font-bold\">\r\n                  {summary.totalWeights}\r\n                </div>\r\n                <div className=\"text-xs text-gray-500\">Weights</div>\r\n              </div>\r\n              <div className=\"text-center\">\r\n                <div className=\"text-plasma-cyan font-mono text-sm font-bold\">\r\n                  {summary.totalTasks}\r\n                </div>\r\n                <div className=\"text-xs text-gray-500\">Quests</div>\r\n              </div>\r\n              <div className=\"text-center\">\r\n                <div className=\"text-hyper-magenta font-mono text-sm font-bold\">\r\n                  {summary.totalNotes}\r\n                </div>\r\n                <div className=\"text-xs text-gray-500\">Notes</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Export button */}\r\n        <Button\r\n          ref={buttonFeedback.elementRef}\r\n          onClick={handleExport}\r\n          disabled={isExporting}\r\n          className={`\r\n            neon-button transition-cyber bg-plasma-cyan\r\n            hover:bg-plasma-cyan text-dark-navy\r\n            cyan-glow w-full font-mono\r\n            font-semibold touch-target mobile-button\r\n            disabled:cursor-not-allowed disabled:opacity-50\r\n            ${isMobile ? 'mobile-responsive' : ''}\r\n          `}\r\n          aria-label=\"Export all data as backup file\"\r\n        >\r\n          <Download className=\"cyber-icon mr-2 h-4 w-4\" />\r\n          {isExporting ? 'EXPORTING...' : 'EXPORT DATA'}\r\n        </Button>\r\n\r\n        {/* Status messages */}\r\n        {exportStatus === 'success' && (\r\n          <div className=\"bg-ki-green/10 border-ki-green rounded-lg border p-2 text-center\">\r\n            <div className=\"text-ki-green font-mono text-sm\">\r\n               Data exported successfully!\r\n            </div>\r\n            <div className=\"mt-1 text-xs text-gray-400\">\r\n              Backup file downloaded to your device\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {exportStatus === 'error' && (\r\n          <div className=\"rounded-lg border border-red-400 bg-red-400/10 p-2 text-center\">\r\n            <div className=\"font-mono text-sm text-red-400\">\r\n               Export failed. Please try again.\r\n            </div>\r\n            <div className=\"mt-1 text-xs text-gray-400\">\r\n              Check console for error details\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {!summary && exportStatus === 'idle' && (\r\n          <div className=\"text-center font-mono text-xs text-gray-500\">\r\n            Secure backup for app updates and migrations\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { weightRepo } from '@/modules/weight/repo'\r\nimport { tasksRepo } from '@/modules/tasks/repo'\r\nimport { notesRepo } from '@/modules/notes/repo'\r\nimport type { WeightEntry } from '@/modules/weight/types'\r\nimport type { Todo } from '@/modules/tasks/types'\r\nimport type { Note } from '@/modules/notes/types'\r\n\r\nexport interface AppDataExport {\r\n  exportDate: string\r\n  appVersion: string\r\n  data: {\r\n    weights: WeightEntry[]\r\n    tasks: Todo[]\r\n    notes: Note[]\r\n  }\r\n}\r\n\r\nexport const exportAllData = async (): Promise<AppDataExport> => {\r\n  try {\r\n    // Fetch all data from each module\r\n    const [weights, tasks, notes] = await Promise.all([\r\n      weightRepo.getAllWeights(),\r\n      tasksRepo.getAllTodos(),\r\n      notesRepo.getAllNotes(),\r\n    ])\r\n\r\n    const exportData: AppDataExport = {\r\n      exportDate: new Date().toISOString(),\r\n      appVersion: '1.0.0', // You can update this as needed\r\n      data: {\r\n        weights,\r\n        tasks,\r\n        notes,\r\n      },\r\n    }\r\n\r\n    return exportData\r\n  } catch (error) {\r\n    console.error('Failed to export data:', error)\r\n    throw new Error('Failed to export app data')\r\n  }\r\n}\r\n\r\nexport const downloadDataAsFile = (data: AppDataExport, filename?: string) => {\r\n  const jsonString = JSON.stringify(data, null, 2)\r\n  const blob = new Blob([jsonString], { type: 'application/json' })\r\n  const url = URL.createObjectURL(blob)\r\n\r\n  const link = document.createElement('a')\r\n  link.href = url\r\n  link.download =\r\n    filename ||\r\n    `perfect-zenkai-backup-${new Date().toISOString().split('T')[0]}.json`\r\n\r\n  // Trigger download\r\n  document.body.appendChild(link)\r\n  link.click()\r\n  document.body.removeChild(link)\r\n\r\n  // Clean up\r\n  URL.revokeObjectURL(url)\r\n}\r\n\r\nexport const getDataSummary = (data: AppDataExport) => {\r\n  return {\r\n    totalWeights: data.data.weights.length,\r\n    totalTasks: data.data.tasks.length,\r\n    totalNotes: data.data.notes.length,\r\n    exportDate: new Date(data.exportDate).toLocaleDateString(),\r\n    appVersion: data.appVersion,\r\n  }\r\n}\r\n","import { cn } from '@/shared/utils/cn'\r\n\r\ninterface SkeletonProps extends React.HTMLAttributes<HTMLDivElement> {\r\n  variant?: 'default' | 'cyber' | 'text' | 'circle'\r\n}\r\n\r\nfunction Skeleton({ className, variant = 'default', ...props }: SkeletonProps) {\r\n  const variants = {\r\n    default: 'animate-pulse rounded-md bg-gray-700',\r\n    cyber:\r\n      'animate-pulse rounded-lg bg-gray-700 border border-gray-600 shimmer',\r\n    text: 'animate-pulse rounded bg-gray-700 h-4',\r\n    circle: 'animate-pulse rounded-full bg-gray-700',\r\n  }\r\n\r\n  return <div className={cn(variants[variant], className)} {...props} />\r\n}\r\n\r\n// Cyber-themed card skeleton\r\nfunction CardSkeleton() {\r\n  return (\r\n    <div className=\"cyber-card\">\r\n      <div className=\"mb-4 flex items-center gap-3\">\r\n        <Skeleton variant=\"circle\" className=\"h-10 w-10\" />\r\n        <div className=\"flex-1 space-y-2\">\r\n          <Skeleton variant=\"text\" className=\"h-4 w-24\" />\r\n          <Skeleton variant=\"text\" className=\"h-3 w-16\" />\r\n        </div>\r\n      </div>\r\n      <div className=\"space-y-3\">\r\n        <Skeleton variant=\"cyber\" className=\"h-16 w-full\" />\r\n        <div className=\"grid grid-cols-2 gap-3\">\r\n          <Skeleton variant=\"cyber\" className=\"h-12\" />\r\n          <Skeleton variant=\"cyber\" className=\"h-12\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n// List item skeleton\r\nfunction ListSkeleton({ count = 3 }: { count?: number }) {\r\n  return (\r\n    <div className=\"space-y-3\">\r\n      {Array.from({ length: count }).map((_, i) => (\r\n        <div key={i} className=\"cyber-card py-3\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <Skeleton variant=\"circle\" className=\"h-8 w-8\" />\r\n            <div className=\"flex-1 space-y-2\">\r\n              <Skeleton variant=\"text\" className=\"h-4 w-32\" />\r\n              <Skeleton variant=\"text\" className=\"h-3 w-24\" />\r\n            </div>\r\n            <Skeleton variant=\"text\" className=\"h-6 w-16\" />\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\n// Dashboard skeleton grid\r\nfunction DashboardSkeleton() {\r\n  return (\r\n    <div className=\"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3\">\r\n      {Array.from({ length: 6 }).map((_, i) => (\r\n        <CardSkeleton key={i} />\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\n// Metric skeleton with cyber styling\r\nfunction MetricSkeleton() {\r\n  return (\r\n    <div className=\"cyber-card text-center\">\r\n      <div className=\"mb-4 flex items-center justify-center\">\r\n        <Skeleton variant=\"circle\" className=\"h-12 w-12\" />\r\n      </div>\r\n      <div className=\"space-y-3\">\r\n        <Skeleton variant=\"text\" className=\"mx-auto h-8 w-20\" />\r\n        <Skeleton variant=\"text\" className=\"mx-auto h-4 w-16\" />\r\n        <div className=\"grid grid-cols-2 gap-2\">\r\n          <Skeleton variant=\"cyber\" className=\"h-8\" />\r\n          <Skeleton variant=\"cyber\" className=\"h-8\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport {\r\n  Skeleton,\r\n  CardSkeleton,\r\n  ListSkeleton,\r\n  DashboardSkeleton,\r\n  MetricSkeleton,\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport { useWeightStore } from '@/modules/weight/store'\r\nimport { useTasksStore } from '@/modules/tasks/store'\r\nimport { useGoalsStore } from '@/modules/goals/store'\r\nimport { WeightSparkCard } from '../components/WeightSparkCard'\r\nimport { TodayWeightCard } from '../components/TodayWeightCard'\r\nimport { TodoSummaryCard } from '../components/TodoSummaryCard'\r\nimport { StreakCard } from '../components/StreakCard'\r\nimport { DataExportCard } from '../components/DataExportCard'\r\nimport { DashboardSkeleton } from '@/shared/ui/skeleton'\r\nimport { useResponsiveBreakpoint } from '@/shared/hooks/useMobileInteractions'\r\nimport headerVideo from '../../../assets/videos/header.webm'\r\n\r\nexport default function DashboardPage() {\r\n  const { loadWeights, isLoading: weightLoading } = useWeightStore()\r\n  const { loadTodos, isLoading: todoLoading } = useTasksStore()\r\n  const { loadGoals, isLoading: goalsLoading } = useGoalsStore()\r\n  const [isInitialLoading, setIsInitialLoading] = useState(true)\r\n  \r\n  // Mobile responsiveness\r\n  const { isMobile } = useResponsiveBreakpoint()\r\n\r\n  useEffect(() => {\r\n    // Load data for both modules when dashboard loads\r\n    const loadData = async () => {\r\n      try {\r\n        setIsInitialLoading(true)\r\n        await Promise.all([\r\n          loadTodos(),\r\n          loadWeights(),\r\n          loadGoals()\r\n        ])\r\n      } catch (error) {\r\n        console.error('Failed to load dashboard data:', error)\r\n      } finally {\r\n        setIsInitialLoading(false)\r\n      }\r\n    }\r\n\r\n    loadData()\r\n  }, [loadTodos, loadWeights, loadGoals])\r\n\r\n  // Show skeleton during initial load\r\n  if (isInitialLoading || (weightLoading && todoLoading && goalsLoading)) {\r\n    return (\r\n      <div className=\"container mx-auto px-4 pb-24 pt-4\">\r\n        <div className=\"mb-6\">\r\n          <div className=\"shimmer mb-6 h-8 w-32 rounded bg-gray-700\"></div>\r\n        </div>\r\n\r\n        {/* Header video skeleton */}\r\n        <div className=\"shimmer mb-8 h-48 overflow-hidden rounded-lg border border-gray-700 bg-gray-800\"></div>\r\n\r\n        <DashboardSkeleton />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className={`container mx-auto px-4 pb-24 pt-4 mobile-safe-area ${isMobile ? 'mobile-layout' : ''}`}>\r\n      {/* Cyber-styled header */}\r\n      <div className=\"mb-6 sm:mb-8 mobile-layout\">\r\n        <h1 className=\"cyber-title gradient-text-ki mb-2 text-xl sm:text-2xl mobile-heading\">CONTROL NEXUS</h1>\r\n        <p className=\"font-mono text-sm text-gray-400 mobile-body\">\r\n          Mission Status Overview\r\n        </p>\r\n      </div>\r\n\r\n      {/* Header Video with cyber frame - Mobile optimized */}\r\n      <div className=\"relative mb-6 sm:mb-8 overflow-hidden rounded-xl border border-gray-700 bg-gray-900 shadow-2xl\">\r\n        <video\r\n          className=\"h-auto max-h-[200px] sm:max-h-[300px] w-full object-cover\"\r\n          autoPlay\r\n          muted\r\n          loop\r\n          playsInline\r\n          src={headerVideo}\r\n        >\r\n          Your browser does not support the video tag.\r\n        </video>\r\n\r\n        {/* Cyber overlay frame */}\r\n        <div className=\"border-ki-green/20 pointer-events-none absolute inset-0 rounded-xl border-2\"></div>\r\n        <div className=\"border-ki-green absolute left-2 sm:left-4 top-2 sm:top-4 h-3 w-3 sm:h-4 sm:w-4 border-l-2 border-t-2\"></div>\r\n        <div className=\"border-ki-green absolute right-2 sm:right-4 top-2 sm:top-4 h-3 w-3 sm:h-4 sm:w-4 border-r-2 border-t-2\"></div>\r\n        <div className=\"border-ki-green absolute bottom-2 sm:bottom-4 left-2 sm:left-4 h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-l-2\"></div>\r\n        <div className=\"border-ki-green absolute bottom-2 sm:bottom-4 right-2 sm:right-4 h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-r-2\"></div>\r\n      </div>\r\n\r\n      {/* Enhanced responsive grid layout with uniform card heights - Mobile optimized */}\r\n      <div className={`grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 2xl:grid-cols-4 sm:gap-6 mobile-grid ${isMobile ? 'mobile-stack' : ''}`}>\r\n        {/* Priority cards first - Mobile stacked */}\r\n        <div className={`${isMobile ? 'min-h-80' : 'h-80'} mobile-card ${isMobile ? 'mobile-responsive' : ''}`}>\r\n          <TodayWeightCard />\r\n        </div>\r\n\r\n        <div className={`${isMobile ? 'min-h-80' : 'h-80'} mobile-card ${isMobile ? 'mobile-responsive' : ''}`}>\r\n          <TodoSummaryCard />\r\n        </div>\r\n\r\n        {/* Secondary cards - Mobile responsive */}\r\n        <div className={`${isMobile ? 'min-h-80' : 'h-80'} sm:col-span-1 lg:col-span-1 mobile-card ${isMobile ? 'mobile-responsive' : ''}`}>\r\n          <WeightSparkCard />\r\n        </div>\r\n\r\n        <div className={`${isMobile ? 'min-h-80' : 'h-80'} sm:col-span-1 lg:col-span-1 xl:col-span-1 mobile-card ${isMobile ? 'mobile-responsive' : ''}`}>\r\n          <StreakCard />\r\n        </div>\r\n\r\n        {/* Full width on mobile, spans remaining space on desktop */}\r\n        <div className={`${isMobile ? 'min-h-80' : 'h-80'} sm:col-span-2 lg:col-span-1 xl:col-span-1 2xl:col-span-1 mobile-card ${isMobile ? 'mobile-responsive' : ''}`}>\r\n          <DataExportCard />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Cyber grid lines for aesthetic - Hidden on mobile */}\r\n      <div className=\"via-ki-green/20 mt-8 sm:mt-12 h-px bg-gradient-to-r from-transparent to-transparent hidden sm:block\"></div>\r\n\r\n      {/* Status indicator - Mobile optimized */}\r\n      <div className=\"mt-4 sm:mt-6 text-center\">\r\n        <p className=\"font-mono text-xs text-gray-500\">\r\n          System Status: <span className=\"text-ki-green\">OPERATIONAL</span>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","export default \"__VITE_ASSET__CJrUKaGL__\"","import { format, parseISO, isToday, isYesterday, startOfWeek, startOfMonth } from 'date-fns'\r\nimport { JournalEntry, JournalEntryRow, MorningEntry, EveningEntry } from '../types'\r\n\r\n// Date formatting utilities\r\nexport const formatJournalDate = (date: string | Date): string => {\r\n  const dateObj = typeof date === 'string' ? parseISO(date) : date\r\n  \r\n  if (isToday(dateObj)) return 'Today'\r\n  if (isYesterday(dateObj)) return 'Yesterday'\r\n  \r\n  return format(dateObj, 'MMM d, yyyy')\r\n}\r\n\r\nexport const formatTimeBlock = (startTime: string, endTime: string): string => {\r\n  return `${startTime} - ${endTime}`\r\n}\r\n\r\nexport const getCurrentDateString = (): string => {\r\n  return format(new Date(), 'yyyy-MM-dd')\r\n}\r\n\r\n// Data transformation utilities\r\nexport const transformRowToEntry = (row: JournalEntryRow): JournalEntry => {\r\n  return {\r\n    id: row.id,\r\n    entryDate: row.entry_date,\r\n    entryType: row.entry_type,\r\n    morningEntry: row.morning_entry || undefined,\r\n    eveningEntry: row.evening_entry || undefined,\r\n    createdAt: row.created_at,\r\n    updatedAt: row.updated_at,\r\n  }\r\n}\r\n\r\nexport const transformEntryToRow = (entry: Partial<JournalEntry>): Partial<JournalEntryRow> => {\r\n  return {\r\n    entry_date: entry.entryDate,\r\n    entry_type: entry.entryType,\r\n    morning_entry: entry.morningEntry || null,\r\n    evening_entry: entry.eveningEntry || null,\r\n  }\r\n}\r\n\r\n// Validation utilities\r\nexport const validateMorningEntry = (entry: Partial<MorningEntry>): string[] => {\r\n  const errors: string[] = []\r\n  \r\n  if (!entry.mood || entry.mood < 1 || entry.mood > 5) {\r\n    errors.push('Mood rating is required (1-5)')\r\n  }\r\n  \r\n  if (!entry.energy || entry.energy < 1 || entry.energy > 5) {\r\n    errors.push('Energy rating is required (1-5)')\r\n  }\r\n  \r\n  if (!entry.sleepQuality || entry.sleepQuality < 1 || entry.sleepQuality > 5) {\r\n    errors.push('Sleep quality rating is required (1-5)')\r\n  }\r\n  \r\n  if (!entry.topPriorities || entry.topPriorities.length === 0) {\r\n    errors.push('At least one priority is required')\r\n  }\r\n  \r\n  if (entry.topPriorities && entry.topPriorities.length > 3) {\r\n    errors.push('Maximum 3 priorities allowed')\r\n  }\r\n  \r\n  return errors\r\n}\r\n\r\nexport const validateEveningEntry = (entry: Partial<EveningEntry>): string[] => {\r\n  const errors: string[] = []\r\n  \r\n  if (!entry.productivity || entry.productivity < 1 || entry.productivity > 5) {\r\n    errors.push('Productivity rating is required (1-5)')\r\n  }\r\n  \r\n  if (!entry.stressLevel || entry.stressLevel < 1 || entry.stressLevel > 5) {\r\n    errors.push('Stress level rating is required (1-5)')\r\n  }\r\n  \r\n  if (!entry.satisfaction || entry.satisfaction < 1 || entry.satisfaction > 5) {\r\n    errors.push('Satisfaction rating is required (1-5)')\r\n  }\r\n  \r\n  if (!entry.gratitude || entry.gratitude.length === 0) {\r\n    errors.push('At least one gratitude item is required')\r\n  }\r\n  \r\n  if (entry.gratitude && entry.gratitude.length > 3) {\r\n    errors.push('Maximum 3 gratitude items allowed')\r\n  }\r\n  \r\n  return errors\r\n}\r\n\r\n// Default entry creators\r\nexport const createDefaultMorningEntry = (): MorningEntry => ({\r\n  yesterdayAccomplishments: [],\r\n  todayPlans: [],\r\n  blockers: [],\r\n  mood: 3,\r\n  energy: 3,\r\n  sleepQuality: 3,\r\n  topPriorities: [],\r\n  timeBlocks: [],\r\n  notes: '',\r\n})\r\n\r\nexport const createDefaultEveningEntry = (): EveningEntry => ({\r\n  accomplishments: [],\r\n  challenges: [],\r\n  learnings: [],\r\n  tomorrowFocus: [],\r\n  unfinishedTasks: [],\r\n  gratitude: [],\r\n  improvements: [],\r\n  productivity: 3,\r\n  stressLevel: 3,\r\n  satisfaction: 3,\r\n  notes: '',\r\n})\r\n\r\n// Rating helpers\r\nexport const getRatingLabel = (rating: number): string => {\r\n  const labels = {\r\n    1: 'Very Low',\r\n    2: 'Low',\r\n    3: 'Moderate',\r\n    4: 'Good',\r\n    5: 'Excellent',\r\n  }\r\n  return labels[rating as keyof typeof labels] || 'Unknown'\r\n}\r\n\r\nexport const getRatingColor = (rating: number): string => {\r\n  const colors = {\r\n    1: 'text-red-500',\r\n    2: 'text-orange-500',\r\n    3: 'text-yellow-500',\r\n    4: 'text-green-500',\r\n    5: 'text-emerald-500',\r\n  }\r\n  return colors[rating as keyof typeof colors] || 'text-gray-500'\r\n}\r\n\r\n// Time utilities\r\nexport const generateTimeOptions = (): string[] => {\r\n  const times: string[] = []\r\n  for (let hour = 0; hour < 24; hour++) {\r\n    for (let minute = 0; minute < 60; minute += 30) {\r\n      const timeString = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`\r\n      times.push(timeString)\r\n    }\r\n  }\r\n  return times\r\n}\r\n\r\n// Analytics helpers\r\nexport const getWeekStart = (date: Date = new Date()): Date => {\r\n  return startOfWeek(date, { weekStartsOn: 1 }) // Monday start\r\n}\r\n\r\nexport const getMonthStart = (date: Date = new Date()): Date => {\r\n  return startOfMonth(date)\r\n}\r\n\r\nexport const calculateStreak = (entries: JournalEntry[]): { current: number; longest: number } => {\r\n  if (entries.length === 0) return { current: 0, longest: 0 }\r\n  \r\n  // Sort entries by date (newest first)\r\n  const sortedEntries = [...entries].sort((a, b) => \r\n    new Date(b.entryDate).getTime() - new Date(a.entryDate).getTime()\r\n  )\r\n  \r\n  let currentStreak = 0\r\n  let longestStreak = 0\r\n  let tempStreak = 0\r\n  \r\n  const today = new Date()\r\n  const entryDates = new Set(sortedEntries.map(e => e.entryDate))\r\n  \r\n  // Calculate current streak\r\n  for (let i = 0; i < 30; i++) {\r\n    const checkDate = new Date(today)\r\n    checkDate.setDate(today.getDate() - i)\r\n    const dateString = format(checkDate, 'yyyy-MM-dd')\r\n    \r\n    if (entryDates.has(dateString)) {\r\n      if (i === 0 || currentStreak > 0) currentStreak++\r\n    } else if (i > 0) {\r\n      break\r\n    }\r\n  }\r\n  \r\n  // Calculate longest streak\r\n  const allDates = sortedEntries.map(e => new Date(e.entryDate)).sort((a, b) => a.getTime() - b.getTime())\r\n  \r\n  for (let i = 0; i < allDates.length; i++) {\r\n    if (i === 0) {\r\n      tempStreak = 1\r\n    } else {\r\n      const daysDiff = Math.floor((allDates[i].getTime() - allDates[i - 1].getTime()) / (1000 * 60 * 60 * 24))\r\n      if (daysDiff === 1) {\r\n        tempStreak++\r\n      } else {\r\n        tempStreak = 1\r\n      }\r\n    }\r\n    longestStreak = Math.max(longestStreak, tempStreak)\r\n  }\r\n  \r\n  return { current: currentStreak, longest: longestStreak }\r\n} ","import { format, subDays, isAfter } from 'date-fns'\r\nimport { JournalEntry, JournalAnalytics } from '../types'\r\nimport { calculateStreak, getWeekStart, getMonthStart } from './journalHelpers'\r\n\r\nexport const calculateJournalAnalytics = (entries: JournalEntry[]): JournalAnalytics => {\r\n  const now = new Date()\r\n  const weekStart = getWeekStart(now)\r\n  const monthStart = getMonthStart(now)\r\n  \r\n  // Filter entries by time periods\r\n  const weeklyEntries = entries.filter(entry => \r\n    isAfter(new Date(entry.entryDate), weekStart) || \r\n    format(new Date(entry.entryDate), 'yyyy-MM-dd') === format(weekStart, 'yyyy-MM-dd')\r\n  )\r\n  \r\n  const monthlyEntries = entries.filter(entry => \r\n    isAfter(new Date(entry.entryDate), monthStart) || \r\n    format(new Date(entry.entryDate), 'yyyy-MM-dd') === format(monthStart, 'yyyy-MM-dd')\r\n  )\r\n  \r\n  // Calculate completion rates\r\n  const completionRate = calculateCompletionRates(entries, weeklyEntries, monthlyEntries)\r\n  \r\n  // Calculate trends (last 30 days)\r\n  const trends = calculateTrends(entries)\r\n  \r\n  // Calculate insights\r\n  const insights = calculateInsights(entries)\r\n  \r\n  // Calculate streaks\r\n  const streaks = calculateStreak(entries)\r\n  const lastEntry = entries.length > 0 \r\n    ? entries.sort((a, b) => new Date(b.entryDate).getTime() - new Date(a.entryDate).getTime())[0]\r\n    : null\r\n  \r\n  return {\r\n    completionRate,\r\n    trends,\r\n    insights,\r\n    streaks: {\r\n      currentStreak: streaks.current,\r\n      longestStreak: streaks.longest,\r\n      lastEntryDate: lastEntry?.entryDate || '',\r\n    },\r\n  }\r\n}\r\n\r\nconst calculateCompletionRates = (\r\n  allEntries: JournalEntry[],\r\n  weeklyEntries: JournalEntry[],\r\n  monthlyEntries: JournalEntry[]\r\n): JournalAnalytics['completionRate'] => {\r\n  const now = new Date()\r\n  \r\n  // Calculate days in current week and month\r\n  const daysInWeek = Math.min(7, Math.floor((now.getTime() - getWeekStart(now).getTime()) / (1000 * 60 * 60 * 24)) + 1)\r\n  const daysInMonth = Math.min(31, Math.floor((now.getTime() - getMonthStart(now).getTime()) / (1000 * 60 * 60 * 24)) + 1)\r\n  \r\n  // Count entries by type\r\n  const morningEntries = allEntries.filter(e => e.morningEntry).length\r\n  const eveningEntries = allEntries.filter(e => e.eveningEntry).length\r\n  \r\n  return {\r\n    weekly: Math.round((weeklyEntries.length / daysInWeek) * 100),\r\n    monthly: Math.round((monthlyEntries.length / daysInMonth) * 100),\r\n    morningEntries,\r\n    eveningEntries,\r\n  }\r\n}\r\n\r\nconst calculateTrends = (entries: JournalEntry[]): JournalAnalytics['trends'] => {\r\n  const last30Days = Array.from({ length: 30 }, (_, i) => {\r\n    const date = subDays(new Date(), i)\r\n    return format(date, 'yyyy-MM-dd')\r\n  }).reverse()\r\n  \r\n  const moodTrend: number[] = []\r\n  const energyTrend: number[] = []\r\n  const productivityTrend: number[] = []\r\n  const sleepQualityTrend: number[] = []\r\n  \r\n  last30Days.forEach(date => {\r\n    const dayEntry = entries.find(e => e.entryDate === date)\r\n    \r\n    // Morning metrics\r\n    moodTrend.push(dayEntry?.morningEntry?.mood || 0)\r\n    energyTrend.push(dayEntry?.morningEntry?.energy || 0)\r\n    sleepQualityTrend.push(dayEntry?.morningEntry?.sleepQuality || 0)\r\n    \r\n    // Evening metrics\r\n    productivityTrend.push(dayEntry?.eveningEntry?.productivity || 0)\r\n  })\r\n  \r\n  return {\r\n    moodTrend,\r\n    energyTrend,\r\n    productivityTrend,\r\n    sleepQualityTrend,\r\n  }\r\n}\r\n\r\nconst calculateInsights = (entries: JournalEntry[]): JournalAnalytics['insights'] => {\r\n  // Extract all text data for analysis\r\n  const allBlockers: string[] = []\r\n  const allGratitude: string[] = []\r\n  const allImprovements: string[] = []\r\n  const productivityByDay: { [key: string]: number[] } = {}\r\n  \r\n  entries.forEach(entry => {\r\n    // Collect blockers\r\n    if (entry.morningEntry?.blockers) {\r\n      allBlockers.push(...entry.morningEntry.blockers)\r\n    }\r\n    \r\n    // Collect gratitude\r\n    if (entry.eveningEntry?.gratitude) {\r\n      allGratitude.push(...entry.eveningEntry.gratitude)\r\n    }\r\n    \r\n    // Collect improvements\r\n    if (entry.eveningEntry?.improvements) {\r\n      allImprovements.push(...entry.eveningEntry.improvements)\r\n    }\r\n    \r\n    // Collect productivity by day of week\r\n    if (entry.eveningEntry?.productivity) {\r\n      const dayOfWeek = format(new Date(entry.entryDate), 'EEEE')\r\n      if (!productivityByDay[dayOfWeek]) {\r\n        productivityByDay[dayOfWeek] = []\r\n      }\r\n      productivityByDay[dayOfWeek].push(entry.eveningEntry.productivity)\r\n    }\r\n  })\r\n  \r\n  // Find common patterns\r\n  const commonBlockers = findMostCommon(allBlockers, 5)\r\n  const topGratitudeThemes = findMostCommon(allGratitude, 5)\r\n  const improvementAreas = findMostCommon(allImprovements, 5)\r\n  \r\n  // Find most productive days\r\n  const mostProductiveDays = Object.entries(productivityByDay)\r\n    .map(([day, scores]) => ({\r\n      day,\r\n      avgScore: scores.reduce((sum, score) => sum + score, 0) / scores.length,\r\n    }))\r\n    .sort((a, b) => b.avgScore - a.avgScore)\r\n    .slice(0, 3)\r\n    .map(item => item.day)\r\n  \r\n  return {\r\n    commonBlockers,\r\n    topGratitudeThemes,\r\n    mostProductiveDays,\r\n    improvementAreas,\r\n  }\r\n}\r\n\r\nconst findMostCommon = (items: string[], limit: number): string[] => {\r\n  const frequency: { [key: string]: number } = {}\r\n  \r\n  items.forEach(item => {\r\n    const normalized = item.toLowerCase().trim()\r\n    if (normalized.length > 2) { // Only count meaningful items\r\n      frequency[normalized] = (frequency[normalized] || 0) + 1\r\n    }\r\n  })\r\n  \r\n  return Object.entries(frequency)\r\n    .sort(([, a], [, b]) => b - a)\r\n    .slice(0, limit)\r\n    .map(([item]) => item)\r\n}\r\n\r\n// Trend analysis helpers\r\nexport const calculateTrendDirection = (values: number[]): 'up' | 'down' | 'stable' => {\r\n  if (values.length < 2) return 'stable'\r\n  \r\n  const recentValues = values.slice(-7) // Last 7 days\r\n  const olderValues = values.slice(-14, -7) // Previous 7 days\r\n  \r\n  if (recentValues.length === 0 || olderValues.length === 0) return 'stable'\r\n  \r\n  const recentAvg = recentValues.reduce((sum, val) => sum + val, 0) / recentValues.length\r\n  const olderAvg = olderValues.reduce((sum, val) => sum + val, 0) / olderValues.length\r\n  \r\n  const difference = recentAvg - olderAvg\r\n  \r\n  if (Math.abs(difference) < 0.2) return 'stable'\r\n  return difference > 0 ? 'up' : 'down'\r\n}\r\n\r\nexport const calculateAverageRating = (values: number[]): number => {\r\n  const validValues = values.filter(v => v > 0)\r\n  if (validValues.length === 0) return 0\r\n  \r\n  return Math.round((validValues.reduce((sum, val) => sum + val, 0) / validValues.length) * 10) / 10\r\n}\r\n\r\n// Weekly summary calculations\r\nexport const calculateWeeklySummary = (entries: JournalEntry[]) => {\r\n  const weekStart = getWeekStart()\r\n  const weeklyEntries = entries.filter(entry => \r\n    isAfter(new Date(entry.entryDate), weekStart) || \r\n    format(new Date(entry.entryDate), 'yyyy-MM-dd') === format(weekStart, 'yyyy-MM-dd')\r\n  )\r\n  \r\n  const totalEntries = weeklyEntries.length\r\n  const morningEntries = weeklyEntries.filter(e => e.morningEntry).length\r\n  const eveningEntries = weeklyEntries.filter(e => e.eveningEntry).length\r\n  \r\n  // Calculate average ratings\r\n  const moodRatings = weeklyEntries.map(e => e.morningEntry?.mood).filter(Boolean) as number[]\r\n  const energyRatings = weeklyEntries.map(e => e.morningEntry?.energy).filter(Boolean) as number[]\r\n  const productivityRatings = weeklyEntries.map(e => e.eveningEntry?.productivity).filter(Boolean) as number[]\r\n  \r\n  return {\r\n    totalEntries,\r\n    morningEntries,\r\n    eveningEntries,\r\n    completionRate: Math.round((totalEntries / 7) * 100),\r\n    averageMood: calculateAverageRating(moodRatings),\r\n    averageEnergy: calculateAverageRating(energyRatings),\r\n    averageProductivity: calculateAverageRating(productivityRatings),\r\n  }\r\n} ","import { create } from 'zustand'\r\nimport { getSupabaseClient } from '@/lib/supabase'\r\nimport { \r\n  JournalEntry, \r\n  MorningEntry, \r\n  EveningEntry, \r\n  JournalAnalytics, \r\n  JournalFormState \r\n} from '../types'\r\nimport { \r\n  transformEntryToRow, \r\n  transformRowToEntry, \r\n  getCurrentDateString, \r\n} from '../utils/journalHelpers'\r\nimport { calculateJournalAnalytics } from '../utils/analyticsCalculations'\r\n\r\ninterface JournalStore {\r\n  // State\r\n  entries: JournalEntry[]\r\n  analytics: JournalAnalytics | null\r\n  formState: JournalFormState\r\n  isLoading: boolean\r\n  error: string | null\r\n\r\n  // Actions\r\n  loadEntries: () => Promise<void>\r\n  loadAnalytics: () => Promise<void>\r\n  \r\n  addEntry: (entry: Omit<JournalEntry, 'id' | 'createdAt' | 'updatedAt'>) => Promise<void>\r\n  updateEntry: (id: string, updates: Partial<JournalEntry>) => Promise<void>\r\n  deleteEntry: (id: string) => Promise<void>\r\n  \r\n  // Entry management\r\n  getEntryByDate: (date: string) => JournalEntry | null\r\n  createOrUpdateMorningEntry: (date: string, morningEntry: MorningEntry) => Promise<void>\r\n  createOrUpdateEveningEntry: (date: string, eveningEntry: EveningEntry) => Promise<void>\r\n  \r\n  // Form state management\r\n  setSelectedDate: (date: string) => void\r\n  setActiveTab: (tab: 'morning' | 'evening') => void\r\n  setHasUnsavedChanges: (hasChanges: boolean) => void\r\n  \r\n  // Utility actions\r\n  getTodayEntry: () => JournalEntry | null\r\n  getRecentEntries: (limit?: number) => JournalEntry[]\r\n  clearError: () => void\r\n}\r\n\r\nexport const useJournalStore = create<JournalStore>((set, get) => ({\r\n  // Initial state\r\n  entries: [],\r\n  analytics: null,\r\n  formState: {\r\n    selectedDate: getCurrentDateString(),\r\n    activeTab: 'morning',\r\n    isDraft: false,\r\n    hasUnsavedChanges: false,\r\n  },\r\n  isLoading: false,\r\n  error: null,\r\n\r\n  // Load all journal entries\r\n  loadEntries: async () => {\r\n    set({ isLoading: true, error: null })\r\n    try {\r\n      const supabase = await getSupabaseClient()\r\n      if (!supabase) {\r\n        throw new Error('Supabase client not available')\r\n      }\r\n\r\n      // RLS is now enabled, so user_id filtering is handled automatically by the database\r\n      const { data, error } = await supabase\r\n        .from('journal_entries')\r\n        .select('*')\r\n        .order('entry_date', { ascending: false })\r\n\r\n      if (error) throw error\r\n      \r\n      const entries = (data || []).map((row: any) => transformRowToEntry(row))\r\n      set({ entries, isLoading: false })\r\n    } catch (error) {\r\n      set({ error: (error as Error).message, isLoading: false })\r\n    }\r\n  },\r\n\r\n  // Load analytics\r\n  loadAnalytics: async () => {\r\n    const { entries } = get()\r\n    if (entries.length === 0) {\r\n      set({ analytics: null })\r\n      return\r\n    }\r\n\r\n    try {\r\n      const analytics = calculateJournalAnalytics(entries)\r\n      set({ analytics })\r\n    } catch (error) {\r\n      set({ error: (error as Error).message })\r\n    }\r\n  },\r\n\r\n  // Add new journal entry\r\n  addEntry: async (entry) => {\r\n    set({ isLoading: true, error: null })\r\n    try {\r\n      const supabase = await getSupabaseClient()\r\n      if (!supabase) {\r\n        throw new Error('Supabase client not available')\r\n      }\r\n\r\n      const rowData = transformEntryToRow(entry)\r\n      const { data, error } = await supabase\r\n        .from('journal_entries')\r\n        .insert([{\r\n          user_id: '', // TODO: Get from auth context\r\n          entry_date: rowData.entry_date || new Date().toISOString().split('T')[0],\r\n          entry_type: rowData.entry_type || 'both',\r\n          morning_entry: rowData.morning_entry as any,\r\n          evening_entry: rowData.evening_entry as any,\r\n          created_at: rowData.created_at,\r\n          updated_at: rowData.updated_at,\r\n        }])\r\n        .select()\r\n        .single()\r\n\r\n      if (error) throw error\r\n      \r\n      const newEntry = transformRowToEntry(data as any)\r\n      const { entries } = get()\r\n      const updatedEntries = [newEntry, ...entries].sort((a, b) => \r\n        new Date(b.entryDate).getTime() - new Date(a.entryDate).getTime()\r\n      )\r\n      \r\n      set({ entries: updatedEntries, isLoading: false })\r\n      \r\n      // Recalculate analytics\r\n      get().loadAnalytics()\r\n    } catch (error) {\r\n      set({ error: (error as Error).message, isLoading: false })\r\n    }\r\n  },\r\n\r\n  // Update existing journal entry\r\n  updateEntry: async (id, updates) => {\r\n    set({ isLoading: true, error: null })\r\n    try {\r\n      const supabase = await getSupabaseClient()\r\n      if (!supabase) {\r\n        throw new Error('Supabase client not available')\r\n      }\r\n\r\n      const rowData = transformEntryToRow(updates)\r\n      const { data, error } = await supabase\r\n        .from('journal_entries')\r\n        .update({\r\n          entry_date: rowData.entry_date,\r\n          entry_type: rowData.entry_type,\r\n          morning_entry: rowData.morning_entry as any,\r\n          evening_entry: rowData.evening_entry as any,\r\n          updated_at: rowData.updated_at,\r\n        })\r\n        .eq('id', id)\r\n        .select()\r\n        .single()\r\n\r\n      if (error) throw error\r\n      \r\n      const updatedEntry = transformRowToEntry(data as any)\r\n      const { entries } = get()\r\n      const updatedEntries = entries.map(entry => \r\n        entry.id === id ? updatedEntry : entry\r\n      )\r\n      \r\n      set({ entries: updatedEntries, isLoading: false })\r\n      \r\n      // Recalculate analytics\r\n      get().loadAnalytics()\r\n    } catch (error) {\r\n      set({ error: (error as Error).message, isLoading: false })\r\n    }\r\n  },\r\n\r\n  // Delete journal entry\r\n  deleteEntry: async (id) => {\r\n    set({ isLoading: true, error: null })\r\n    try {\r\n      const supabase = await getSupabaseClient()\r\n      if (!supabase) {\r\n        throw new Error('Supabase client not available')\r\n      }\r\n\r\n      const { error } = await supabase\r\n        .from('journal_entries')\r\n        .delete()\r\n        .eq('id', id)\r\n\r\n      if (error) throw error\r\n      \r\n      const { entries } = get()\r\n      const updatedEntries = entries.filter(entry => entry.id !== id)\r\n      \r\n      set({ entries: updatedEntries, isLoading: false })\r\n      \r\n      // Recalculate analytics\r\n      get().loadAnalytics()\r\n    } catch (error) {\r\n      set({ error: (error as Error).message, isLoading: false })\r\n    }\r\n  },\r\n\r\n  // Get entry by date\r\n  getEntryByDate: (date) => {\r\n    const { entries } = get()\r\n    return entries.find(entry => entry.entryDate === date) || null\r\n  },\r\n\r\n  // Create or update morning entry\r\n  createOrUpdateMorningEntry: async (date, morningEntry) => {\r\n    const existingEntry = get().getEntryByDate(date)\r\n    \r\n    if (existingEntry) {\r\n      // Update existing entry\r\n      await get().updateEntry(existingEntry.id, {\r\n        morningEntry,\r\n        entryType: existingEntry.eveningEntry ? 'both' : 'morning'\r\n      })\r\n    } else {\r\n      // Create new entry\r\n      await get().addEntry({\r\n        entryDate: date,\r\n        entryType: 'morning',\r\n        morningEntry,\r\n      })\r\n    }\r\n  },\r\n\r\n  // Create or update evening entry\r\n  createOrUpdateEveningEntry: async (date, eveningEntry) => {\r\n    const existingEntry = get().getEntryByDate(date)\r\n    \r\n    if (existingEntry) {\r\n      // Update existing entry\r\n      await get().updateEntry(existingEntry.id, {\r\n        eveningEntry,\r\n        entryType: existingEntry.morningEntry ? 'both' : 'evening'\r\n      })\r\n    } else {\r\n      // Create new entry\r\n      await get().addEntry({\r\n        entryDate: date,\r\n        entryType: 'evening',\r\n        eveningEntry,\r\n      })\r\n    }\r\n  },\r\n\r\n  // Form state management\r\n  setSelectedDate: (date) => {\r\n    set(state => ({\r\n      formState: { ...state.formState, selectedDate: date }\r\n    }))\r\n  },\r\n\r\n  setActiveTab: (tab) => {\r\n    set(state => ({\r\n      formState: { ...state.formState, activeTab: tab }\r\n    }))\r\n  },\r\n\r\n  setHasUnsavedChanges: (hasChanges) => {\r\n    set(state => ({\r\n      formState: { ...state.formState, hasUnsavedChanges: hasChanges }\r\n    }))\r\n  },\r\n\r\n  // Utility functions\r\n  getTodayEntry: () => {\r\n    const today = getCurrentDateString()\r\n    return get().getEntryByDate(today)\r\n  },\r\n\r\n  getRecentEntries: (limit = 7) => {\r\n    const { entries } = get()\r\n    return entries.slice(0, limit)\r\n  },\r\n\r\n  clearError: () => {\r\n    set({ error: null })\r\n  },\r\n}))\r\n\r\n// Selector hooks for better performance\r\nexport const useJournalEntries = () => useJournalStore(state => state.entries)\r\nexport const useJournalAnalytics = () => useJournalStore(state => state.analytics)\r\nexport const useJournalFormState = () => useJournalStore(state => state.formState)\r\nexport const useJournalLoading = () => useJournalStore(state => state.isLoading)\r\nexport const useJournalError = () => useJournalStore(state => state.error)\r\n\r\n// Computed selectors\r\nexport const useTodayEntry = () => useJournalStore(state => state.getTodayEntry())\r\nexport const useRecentEntries = (limit?: number) => useJournalStore(state => state.getRecentEntries(limit))\r\nexport const useEntryByDate = (date: string) => useJournalStore(state => state.getEntryByDate(date)) ","import React from 'react'\r\nimport { getRatingLabel, getRatingColor } from '../utils/journalHelpers'\r\n\r\ninterface MoodEnergySelectorProps {\r\n  label: string\r\n  value: number\r\n  onChange: (value: number) => void\r\n  icon?: React.ReactNode\r\n  description?: string\r\n  required?: boolean\r\n}\r\n\r\nexport default function MoodEnergySelector({\r\n  label,\r\n  value,\r\n  onChange,\r\n  icon,\r\n  description,\r\n  required = false,\r\n}: MoodEnergySelectorProps) {\r\n  const ratings = [1, 2, 3, 4, 5]\r\n\r\n  return (\r\n    <div className=\"space-y-3\">\r\n      <div className=\"flex items-center gap-2\">\r\n        {icon && <span className=\"text-green-500\">{icon}</span>}\r\n        <label className=\"text-sm font-medium text-white\">\r\n          {label}\r\n          {required && <span className=\"text-red-400 ml-1\">*</span>}\r\n        </label>\r\n      </div>\r\n      \r\n      {description && (\r\n        <p className=\"text-xs text-gray-400\">{description}</p>\r\n      )}\r\n      \r\n      <div className=\"flex items-center justify-between\">\r\n        {ratings.map((rating) => (\r\n          <button\r\n            key={rating}\r\n            type=\"button\"\r\n            onClick={() => onChange(rating)}\r\n            className={`\r\n              flex flex-col items-center p-3 rounded-lg border-2 transition-all\r\n              ${value === rating\r\n                ? 'border-green-500 bg-green-500/20 text-green-400'\r\n                : 'border-gray-600 bg-gray-800 text-gray-400 hover:border-gray-500 hover:text-gray-300'\r\n              }\r\n            `}\r\n          >\r\n            <span className=\"text-lg font-bold\">{rating}</span>\r\n            <span className=\"text-xs mt-1 text-center leading-tight\">\r\n              {getRatingLabel(rating)}\r\n            </span>\r\n          </button>\r\n        ))}\r\n      </div>\r\n      \r\n      {value > 0 && (\r\n        <div className=\"text-center\">\r\n          <span className={`text-sm font-medium ${getRatingColor(value)}`}>\r\n            Current: {getRatingLabel(value)} ({value}/5)\r\n          </span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n} ","import React, { useState } from 'react'\r\nimport { Plus, Target, Trash2, AlertCircle } from 'lucide-react'\r\n\r\ninterface PriorityListProps {\r\n  priorities: string[]\r\n  onChange: (priorities: string[]) => void\r\n  maxItems?: number\r\n  required?: boolean\r\n}\r\n\r\nexport default function PriorityList({ \r\n  priorities, \r\n  onChange, \r\n  maxItems = 3,\r\n  required = false \r\n}: PriorityListProps) {\r\n  const [newPriority, setNewPriority] = useState('')\r\n  const [isAdding, setIsAdding] = useState(false)\r\n\r\n  const handleAddPriority = () => {\r\n    if (newPriority.trim() && priorities.length < maxItems) {\r\n      onChange([...priorities, newPriority.trim()])\r\n      setNewPriority('')\r\n      setIsAdding(false)\r\n    }\r\n  }\r\n\r\n  const handleRemovePriority = (index: number) => {\r\n    const updatedPriorities = priorities.filter((_, i) => i !== index)\r\n    onChange(updatedPriorities)\r\n  }\r\n\r\n  const handleKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter') {\r\n      e.preventDefault()\r\n      handleAddPriority()\r\n    }\r\n    if (e.key === 'Escape') {\r\n      setIsAdding(false)\r\n      setNewPriority('')\r\n    }\r\n  }\r\n\r\n  const canAddMore = priorities.length < maxItems\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <Target className=\"h-4 w-4 text-green-500\" />\r\n          <label className=\"text-sm font-medium text-white\">\r\n            Top {maxItems} Priorities\r\n            {required && <span className=\"text-red-400 ml-1\">*</span>}\r\n          </label>\r\n        </div>\r\n        <span className=\"text-xs text-gray-400\">\r\n          {priorities.length}/{maxItems}\r\n        </span>\r\n      </div>\r\n\r\n      {/* Priority validation message */}\r\n      {required && priorities.length === 0 && (\r\n        <div className=\"flex items-center gap-2 p-2 bg-red-500/20 border border-red-500/50 rounded-lg\">\r\n          <AlertCircle className=\"h-4 w-4 text-red-400\" />\r\n          <span className=\"text-xs text-red-400\">At least one priority is required</span>\r\n        </div>\r\n      )}\r\n\r\n      {/* Existing priorities */}\r\n      <div className=\"space-y-2\">\r\n        {priorities.map((priority, index) => (\r\n          <div\r\n            key={index}\r\n            className=\"flex items-center gap-3 p-3 bg-gray-800 border border-gray-600 rounded-lg\"\r\n          >\r\n            <div className=\"flex items-center justify-center w-6 h-6 bg-green-500 text-black text-xs font-bold rounded-full\">\r\n              {index + 1}\r\n            </div>\r\n            <span className=\"flex-1 text-sm text-white\">{priority}</span>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => handleRemovePriority(index)}\r\n              className=\"text-red-400 hover:text-red-300 p-1\"\r\n            >\r\n              <Trash2 className=\"h-4 w-4\" />\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Add new priority */}\r\n      {isAdding ? (\r\n        <div className=\"p-3 bg-gray-800 border border-gray-600 rounded-lg space-y-3\">\r\n          <input\r\n            type=\"text\"\r\n            value={newPriority}\r\n            onChange={(e) => setNewPriority(e.target.value)}\r\n            onKeyDown={handleKeyPress}\r\n            placeholder=\"What's your priority for today?\"\r\n            className=\"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400\"\r\n            autoFocus\r\n          />\r\n          <div className=\"flex gap-2\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleAddPriority}\r\n              disabled={!newPriority.trim()}\r\n              className=\"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              Add Priority\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => {\r\n                setIsAdding(false)\r\n                setNewPriority('')\r\n              }}\r\n              className=\"px-4 py-2 bg-gray-600 text-white rounded-lg text-sm font-medium hover:bg-gray-700\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ) : canAddMore ? (\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => setIsAdding(true)}\r\n          className=\"w-full p-3 border-2 border-dashed border-gray-600 rounded-lg text-gray-400 hover:border-gray-500 hover:text-gray-300 transition-colors flex items-center justify-center gap-2\"\r\n        >\r\n          <Plus className=\"h-4 w-4\" />\r\n          Add Priority ({priorities.length}/{maxItems})\r\n        </button>\r\n      ) : (\r\n        <div className=\"text-center p-3 bg-gray-800/50 rounded-lg\">\r\n          <span className=\"text-xs text-gray-500\">\r\n            Maximum {maxItems} priorities reached\r\n          </span>\r\n        </div>\r\n      )}\r\n\r\n      {priorities.length === 0 && !isAdding && (\r\n        <p className=\"text-xs text-gray-500 text-center py-4\">\r\n          No priorities set yet. What are your top {maxItems} goals for today?\r\n        </p>\r\n      )}\r\n\r\n      {/* Priority tips */}\r\n      {priorities.length > 0 && (\r\n        <div className=\"text-xs text-gray-500 space-y-1\">\r\n          <p> <strong>Tip:</strong> Focus on completing these priorities first</p>\r\n          <p> Keep them specific and actionable for better results</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n} ","import { useState } from 'react'\r\nimport { Plus, Clock, Trash2 } from 'lucide-react'\r\nimport { TimeBlock } from '../types'\r\nimport { generateTimeOptions, formatTimeBlock } from '../utils/journalHelpers'\r\n\r\ninterface TimeBlockPlannerProps {\r\n  timeBlocks: TimeBlock[]\r\n  onChange: (timeBlocks: TimeBlock[]) => void\r\n}\r\n\r\nexport default function TimeBlockPlanner({ timeBlocks, onChange }: TimeBlockPlannerProps) {\r\n  const [isAdding, setIsAdding] = useState(false)\r\n  const [newBlock, setNewBlock] = useState<Partial<TimeBlock>>({\r\n    startTime: '09:00',\r\n    endTime: '10:00',\r\n    activity: '',\r\n    priority: 'medium',\r\n  })\r\n\r\n  const timeOptions = generateTimeOptions()\r\n\r\n  const handleAddBlock = () => {\r\n    if (newBlock.activity && newBlock.startTime && newBlock.endTime) {\r\n      const block: TimeBlock = {\r\n        startTime: newBlock.startTime!,\r\n        endTime: newBlock.endTime!,\r\n        activity: newBlock.activity,\r\n        priority: newBlock.priority as 'high' | 'medium' | 'low',\r\n      }\r\n      \r\n      onChange([...timeBlocks, block])\r\n      setNewBlock({\r\n        startTime: '09:00',\r\n        endTime: '10:00',\r\n        activity: '',\r\n        priority: 'medium',\r\n      })\r\n      setIsAdding(false)\r\n    }\r\n  }\r\n\r\n  const handleRemoveBlock = (index: number) => {\r\n    const updatedBlocks = timeBlocks.filter((_, i) => i !== index)\r\n    onChange(updatedBlocks)\r\n  }\r\n\r\n  const getPriorityColor = (priority: string) => {\r\n    switch (priority) {\r\n      case 'high': return 'border-red-500 bg-red-500/20 text-red-400'\r\n      case 'medium': return 'border-yellow-500 bg-yellow-500/20 text-yellow-400'\r\n      case 'low': return 'border-green-500 bg-green-500/20 text-green-400'\r\n      default: return 'border-gray-500 bg-gray-500/20 text-gray-400'\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex items-center gap-2\">\r\n        <Clock className=\"h-4 w-4 text-green-500\" />\r\n        <label className=\"text-sm font-medium text-white\">Time Blocks</label>\r\n      </div>\r\n\r\n      {/* Existing time blocks */}\r\n      <div className=\"space-y-2\">\r\n        {timeBlocks.map((block, index) => (\r\n          <div\r\n            key={index}\r\n            className={`p-3 rounded-lg border ${getPriorityColor(block.priority)}`}\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex-1\">\r\n                <div className=\"flex items-center gap-2 mb-1\">\r\n                  <span className=\"text-sm font-medium text-white\">\r\n                    {formatTimeBlock(block.startTime, block.endTime)}\r\n                  </span>\r\n                  <span className={`text-xs px-2 py-1 rounded-full ${getPriorityColor(block.priority)}`}>\r\n                    {block.priority}\r\n                  </span>\r\n                </div>\r\n                <p className=\"text-sm text-gray-300\">{block.activity}</p>\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => handleRemoveBlock(index)}\r\n                className=\"text-red-400 hover:text-red-300 p-1\"\r\n              >\r\n                <Trash2 className=\"h-4 w-4\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Add new time block */}\r\n      {isAdding ? (\r\n        <div className=\"p-4 bg-gray-800 rounded-lg border border-gray-600 space-y-3\">\r\n          <div className=\"grid grid-cols-2 gap-3\">\r\n            <div>\r\n              <label className=\"block text-xs text-gray-400 mb-1\">Start Time</label>\r\n              <select\r\n                value={newBlock.startTime}\r\n                onChange={(e) => setNewBlock({ ...newBlock, startTime: e.target.value })}\r\n                className=\"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white text-sm\"\r\n              >\r\n                {timeOptions.map(time => (\r\n                  <option key={time} value={time}>{time}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-xs text-gray-400 mb-1\">End Time</label>\r\n              <select\r\n                value={newBlock.endTime}\r\n                onChange={(e) => setNewBlock({ ...newBlock, endTime: e.target.value })}\r\n                className=\"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white text-sm\"\r\n              >\r\n                {timeOptions.map(time => (\r\n                  <option key={time} value={time}>{time}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-xs text-gray-400 mb-1\">Activity</label>\r\n            <input\r\n              type=\"text\"\r\n              value={newBlock.activity}\r\n              onChange={(e) => setNewBlock({ ...newBlock, activity: e.target.value })}\r\n              placeholder=\"What will you be doing?\"\r\n              className=\"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-xs text-gray-400 mb-1\">Priority</label>\r\n            <select\r\n              value={newBlock.priority}\r\n              onChange={(e) => setNewBlock({ ...newBlock, priority: e.target.value as 'high' | 'medium' | 'low' })}\r\n              className=\"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white text-sm\"\r\n            >\r\n              <option value=\"low\">Low Priority</option>\r\n              <option value=\"medium\">Medium Priority</option>\r\n              <option value=\"high\">High Priority</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"flex gap-2\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleAddBlock}\r\n              disabled={!newBlock.activity}\r\n              className=\"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              Add Block\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setIsAdding(false)}\r\n              className=\"px-4 py-2 bg-gray-600 text-white rounded-lg text-sm font-medium hover:bg-gray-700\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => setIsAdding(true)}\r\n          className=\"w-full p-3 border-2 border-dashed border-gray-600 rounded-lg text-gray-400 hover:border-gray-500 hover:text-gray-300 transition-colors flex items-center justify-center gap-2\"\r\n        >\r\n          <Plus className=\"h-4 w-4\" />\r\n          Add Time Block\r\n        </button>\r\n      )}\r\n\r\n      {timeBlocks.length === 0 && !isAdding && (\r\n        <p className=\"text-xs text-gray-500 text-center py-4\">\r\n          No time blocks planned yet. Add some to organize your day!\r\n        </p>\r\n      )}\r\n    </div>\r\n  )\r\n} ","import { useState, useEffect } from 'react'\r\nimport { Sun, Coffee, Brain, Zap, Moon, Save, AlertCircle } from 'lucide-react'\r\nimport { MorningEntry } from '../types'\r\nimport { createDefaultMorningEntry, validateMorningEntry } from '../utils/journalHelpers'\r\nimport MoodEnergySelector from './MoodEnergySelector'\r\nimport PriorityList from './PriorityList'\r\nimport TimeBlockPlanner from './TimeBlockPlanner'\r\n\r\ninterface MorningStandupProps {\r\n  entry?: MorningEntry\r\n  onSave: (entry: MorningEntry) => Promise<void>\r\n  isLoading?: boolean\r\n}\r\n\r\nexport default function MorningStandup({ entry, onSave, isLoading = false }: MorningStandupProps) {\r\n  const [formData, setFormData] = useState<MorningEntry>(entry || createDefaultMorningEntry())\r\n  const [errors, setErrors] = useState<string[]>([])\r\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (entry) {\r\n      setFormData(entry)\r\n      setHasUnsavedChanges(false)\r\n    }\r\n  }, [entry])\r\n\r\n  const handleFieldChange = (field: keyof MorningEntry, value: MorningEntry[keyof MorningEntry]) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }))\r\n    setHasUnsavedChanges(true)\r\n    \r\n    // Clear errors when user starts typing\r\n    if (errors.length > 0) {\r\n      setErrors([])\r\n    }\r\n  }\r\n\r\n  const handleArrayFieldChange = (field: keyof MorningEntry, value: string[]) => {\r\n    handleFieldChange(field, value)\r\n  }\r\n\r\n  const handleSave = async () => {\r\n    const validationErrors = validateMorningEntry(formData)\r\n    if (validationErrors.length > 0) {\r\n      setErrors(validationErrors)\r\n      return\r\n    }\r\n\r\n    try {\r\n      await onSave(formData)\r\n      setHasUnsavedChanges(false)\r\n      setErrors([])\r\n    } catch (error) {\r\n      setErrors(['Failed to save morning entry. Please try again.'])\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center gap-3\">\r\n        <div className=\"p-2 bg-yellow-500/20 rounded-lg\">\r\n          <Sun className=\"h-6 w-6 text-yellow-500\" />\r\n        </div>\r\n        <div>\r\n          <h2 className=\"text-xl font-bold text-white\">Morning Standup</h2>\r\n          <p className=\"text-sm text-gray-400\">Plan your day and check in with yourself</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Error messages */}\r\n      {errors.length > 0 && (\r\n        <div className=\"p-4 bg-red-500/20 border border-red-500/50 rounded-lg space-y-2\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <AlertCircle className=\"h-4 w-4 text-red-400\" />\r\n            <span className=\"text-sm font-medium text-red-400\">Please fix the following issues:</span>\r\n          </div>\r\n          <ul className=\"text-sm text-red-300 space-y-1\">\r\n            {errors.map((error, index) => (\r\n              <li key={index}> {error}</li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n\r\n      {/* Yesterday's Accomplishments */}\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <Coffee className=\"h-4 w-4 text-green-500\" />\r\n          <label className=\"text-sm font-medium text-white\">What did I accomplish yesterday?</label>\r\n        </div>\r\n        <textarea\r\n          value={formData.yesterdayAccomplishments.join('\\n')}\r\n          onChange={(e) => handleArrayFieldChange('yesterdayAccomplishments', e.target.value.split('\\n').filter(Boolean))}\r\n          placeholder=\"List your accomplishments from yesterday (one per line)\"\r\n          rows={3}\r\n          className=\"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400 resize-none\"\r\n        />\r\n      </div>\r\n\r\n      {/* Today's Plans */}\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <Brain className=\"h-4 w-4 text-blue-500\" />\r\n          <label className=\"text-sm font-medium text-white\">What do I plan to do today?</label>\r\n        </div>\r\n        <textarea\r\n          value={formData.todayPlans.join('\\n')}\r\n          onChange={(e) => handleArrayFieldChange('todayPlans', e.target.value.split('\\n').filter(Boolean))}\r\n          placeholder=\"List your plans for today (one per line)\"\r\n          rows={3}\r\n          className=\"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400 resize-none\"\r\n        />\r\n      </div>\r\n\r\n      {/* Blockers */}\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <AlertCircle className=\"h-4 w-4 text-red-500\" />\r\n          <label className=\"text-sm font-medium text-white\">Any blockers or challenges?</label>\r\n        </div>\r\n        <textarea\r\n          value={formData.blockers.join('\\n')}\r\n          onChange={(e) => handleArrayFieldChange('blockers', e.target.value.split('\\n').filter(Boolean))}\r\n          placeholder=\"List any obstacles or challenges you're facing (one per line)\"\r\n          rows={2}\r\n          className=\"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400 resize-none\"\r\n        />\r\n      </div>\r\n\r\n      {/* Wellness Check */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n        <MoodEnergySelector\r\n          label=\"Mood\"\r\n          value={formData.mood}\r\n          onChange={(value) => handleFieldChange('mood', value)}\r\n          icon={<Sun className=\"h-4 w-4\" />}\r\n          description=\"How are you feeling right now?\"\r\n          required\r\n        />\r\n        \r\n        <MoodEnergySelector\r\n          label=\"Energy Level\"\r\n          value={formData.energy}\r\n          onChange={(value) => handleFieldChange('energy', value)}\r\n          icon={<Zap className=\"h-4 w-4\" />}\r\n          description=\"How energetic do you feel?\"\r\n          required\r\n        />\r\n        \r\n        <MoodEnergySelector\r\n          label=\"Sleep Quality\"\r\n          value={formData.sleepQuality}\r\n          onChange={(value) => handleFieldChange('sleepQuality', value)}\r\n          icon={<Moon className=\"h-4 w-4\" />}\r\n          description=\"How well did you sleep?\"\r\n          required\r\n        />\r\n      </div>\r\n\r\n      {/* Top Priorities */}\r\n      <PriorityList\r\n        priorities={formData.topPriorities}\r\n        onChange={(priorities) => handleFieldChange('topPriorities', priorities)}\r\n        maxItems={3}\r\n        required\r\n      />\r\n\r\n      {/* Time Blocks */}\r\n      <TimeBlockPlanner\r\n        timeBlocks={formData.timeBlocks}\r\n        onChange={(timeBlocks) => handleFieldChange('timeBlocks', timeBlocks)}\r\n      />\r\n\r\n      {/* Notes */}\r\n      <div className=\"space-y-3\">\r\n        <label className=\"text-sm font-medium text-white\">Additional Notes</label>\r\n        <textarea\r\n          value={formData.notes}\r\n          onChange={(e) => handleFieldChange('notes', e.target.value)}\r\n          placeholder=\"Any additional thoughts, ideas, or notes for the day...\"\r\n          rows={3}\r\n          className=\"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400 resize-none\"\r\n        />\r\n      </div>\r\n\r\n      {/* Save Button */}\r\n      <div className=\"flex items-center justify-between pt-4 border-t border-gray-700\">\r\n        <div className=\"text-xs text-gray-500\">\r\n          {hasUnsavedChanges && ' Unsaved changes'}\r\n        </div>\r\n        <button\r\n          onClick={handleSave}\r\n          disabled={isLoading}\r\n          className=\"flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n        >\r\n          <Save className=\"h-4 w-4\" />\r\n          {isLoading ? 'Saving...' : 'Save Morning Entry'}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Morning Tips */}\r\n      <div className=\"text-xs text-gray-500 bg-gray-800/50 p-4 rounded-lg space-y-2\">\r\n        <p><strong> Morning Success Tips:</strong></p>\r\n        <p> Review yesterday's wins to build momentum</p>\r\n        <p> Set 1-3 clear priorities to stay focused</p>\r\n        <p> Plan time blocks to structure your day</p>\r\n        <p> Identify blockers early to find solutions</p>\r\n      </div>\r\n    </div>\r\n  )\r\n} ","import React, { useState } from 'react'\r\nimport { Plus, Heart, Trash2, AlertCircle } from 'lucide-react'\r\n\r\ninterface GratitudeListProps {\r\n  gratitude: string[]\r\n  onChange: (gratitude: string[]) => void\r\n  maxItems?: number\r\n  required?: boolean\r\n}\r\n\r\nexport default function GratitudeList({ \r\n  gratitude, \r\n  onChange, \r\n  maxItems = 3,\r\n  required = false \r\n}: GratitudeListProps) {\r\n  const [newGratitude, setNewGratitude] = useState('')\r\n  const [isAdding, setIsAdding] = useState(false)\r\n\r\n  const handleAddGratitude = () => {\r\n    if (newGratitude.trim() && gratitude.length < maxItems) {\r\n      onChange([...gratitude, newGratitude.trim()])\r\n      setNewGratitude('')\r\n      setIsAdding(false)\r\n    }\r\n  }\r\n\r\n  const handleRemoveGratitude = (index: number) => {\r\n    const updatedGratitude = gratitude.filter((_, i) => i !== index)\r\n    onChange(updatedGratitude)\r\n  }\r\n\r\n  const handleKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter') {\r\n      e.preventDefault()\r\n      handleAddGratitude()\r\n    }\r\n    if (e.key === 'Escape') {\r\n      setIsAdding(false)\r\n      setNewGratitude('')\r\n    }\r\n  }\r\n\r\n  const canAddMore = gratitude.length < maxItems\r\n\r\n  const gratitudePrompts = [\r\n    \"Something that made me smile today\",\r\n    \"A person who helped or supported me\",\r\n    \"A small moment of joy or peace\",\r\n    \"Something I learned or discovered\",\r\n    \"A challenge that helped me grow\",\r\n    \"Something beautiful I noticed\",\r\n    \"A comfort or convenience I enjoyed\",\r\n    \"Progress I made on a goal\"\r\n  ]\r\n\r\n  const getRandomPrompt = () => {\r\n    return gratitudePrompts[Math.floor(Math.random() * gratitudePrompts.length)]\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <Heart className=\"h-4 w-4 text-pink-500\" />\r\n          <label className=\"text-sm font-medium text-white\">\r\n            Gratitude ({maxItems} items)\r\n            {required && <span className=\"text-red-400 ml-1\">*</span>}\r\n          </label>\r\n        </div>\r\n        <span className=\"text-xs text-gray-400\">\r\n          {gratitude.length}/{maxItems}\r\n        </span>\r\n      </div>\r\n\r\n      {/* Gratitude validation message */}\r\n      {required && gratitude.length === 0 && (\r\n        <div className=\"flex items-center gap-2 p-2 bg-red-500/20 border border-red-500/50 rounded-lg\">\r\n          <AlertCircle className=\"h-4 w-4 text-red-400\" />\r\n          <span className=\"text-xs text-red-400\">At least one gratitude item is required</span>\r\n        </div>\r\n      )}\r\n\r\n      {/* Existing gratitude items */}\r\n      <div className=\"space-y-2\">\r\n        {gratitude.map((item, index) => (\r\n          <div\r\n            key={index}\r\n            className=\"flex items-start gap-3 p-3 bg-pink-500/10 border border-pink-500/30 rounded-lg\"\r\n          >\r\n            <div className=\"flex items-center justify-center w-6 h-6 bg-pink-500 text-white text-xs font-bold rounded-full mt-0.5\">\r\n              {index + 1}\r\n            </div>\r\n            <span className=\"flex-1 text-sm text-white leading-relaxed\">{item}</span>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => handleRemoveGratitude(index)}\r\n              className=\"text-red-400 hover:text-red-300 p-1\"\r\n            >\r\n              <Trash2 className=\"h-4 w-4\" />\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Add new gratitude item */}\r\n      {isAdding ? (\r\n        <div className=\"p-4 bg-gray-800 border border-gray-600 rounded-lg space-y-3\">\r\n          <div className=\"text-xs text-gray-400 mb-2\">\r\n             <strong>Prompt:</strong> {getRandomPrompt()}\r\n          </div>\r\n          <textarea\r\n            value={newGratitude}\r\n            onChange={(e) => setNewGratitude(e.target.value)}\r\n            onKeyDown={handleKeyPress}\r\n            placeholder=\"What are you grateful for today?\"\r\n            rows={2}\r\n            className=\"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400 resize-none\"\r\n            autoFocus\r\n          />\r\n          <div className=\"flex gap-2\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleAddGratitude}\r\n              disabled={!newGratitude.trim()}\r\n              className=\"flex-1 px-4 py-2 bg-pink-600 text-white rounded-lg text-sm font-medium hover:bg-pink-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              Add Gratitude\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => {\r\n                setIsAdding(false)\r\n                setNewGratitude('')\r\n              }}\r\n              className=\"px-4 py-2 bg-gray-600 text-white rounded-lg text-sm font-medium hover:bg-gray-700\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ) : canAddMore ? (\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => setIsAdding(true)}\r\n          className=\"w-full p-3 border-2 border-dashed border-pink-500/50 rounded-lg text-pink-400 hover:border-pink-500 hover:text-pink-300 transition-colors flex items-center justify-center gap-2\"\r\n        >\r\n          <Plus className=\"h-4 w-4\" />\r\n          Add Gratitude ({gratitude.length}/{maxItems})\r\n        </button>\r\n      ) : (\r\n        <div className=\"text-center p-3 bg-pink-500/10 rounded-lg\">\r\n          <span className=\"text-xs text-pink-400\">\r\n            All {maxItems} gratitude items completed! \r\n          </span>\r\n        </div>\r\n      )}\r\n\r\n      {gratitude.length === 0 && !isAdding && (\r\n        <div className=\"text-center py-6 space-y-2\">\r\n          <p className=\"text-xs text-gray-500\">\r\n            Take a moment to reflect on what you're grateful for today\r\n          </p>\r\n          <div className=\"text-xs text-gray-600 space-y-1\">\r\n            <p> Big wins or small moments</p>\r\n            <p> People who made a difference</p>\r\n            <p> Lessons learned or growth experienced</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Gratitude benefits */}\r\n      {gratitude.length > 0 && (\r\n        <div className=\"text-xs text-gray-500 bg-pink-500/5 p-3 rounded-lg space-y-1\">\r\n          <p> <strong>Benefits of gratitude:</strong></p>\r\n          <p> Improves mood and mental well-being</p>\r\n          <p> Enhances sleep quality and reduces stress</p>\r\n          <p> Strengthens relationships and social connections</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n} ","import { useState, useEffect } from 'react'\r\nimport { Moon, CheckCircle, AlertTriangle, Lightbulb, ArrowRight, Save, AlertCircle } from 'lucide-react'\r\nimport { EveningEntry } from '../types'\r\nimport { createDefaultEveningEntry, validateEveningEntry } from '../utils/journalHelpers'\r\nimport MoodEnergySelector from './MoodEnergySelector'\r\nimport GratitudeList from './GratitudeList'\r\n\r\ninterface EveningReflectionProps {\r\n  entry?: EveningEntry\r\n  onSave: (entry: EveningEntry) => Promise<void>\r\n  isLoading?: boolean\r\n}\r\n\r\nexport default function EveningReflection({ entry, onSave, isLoading = false }: EveningReflectionProps) {\r\n  const [formData, setFormData] = useState<EveningEntry>(entry || createDefaultEveningEntry())\r\n  const [errors, setErrors] = useState<string[]>([])\r\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (entry) {\r\n      setFormData(entry)\r\n      setHasUnsavedChanges(false)\r\n    }\r\n  }, [entry])\r\n\r\n  const handleFieldChange = (field: keyof EveningEntry, value: EveningEntry[keyof EveningEntry]) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }))\r\n    setHasUnsavedChanges(true)\r\n    \r\n    // Clear errors when user starts typing\r\n    if (errors.length > 0) {\r\n      setErrors([])\r\n    }\r\n  }\r\n\r\n  const handleArrayFieldChange = (field: keyof EveningEntry, value: string[]) => {\r\n    handleFieldChange(field, value)\r\n  }\r\n\r\n  const handleSave = async () => {\r\n    const validationErrors = validateEveningEntry(formData)\r\n    if (validationErrors.length > 0) {\r\n      setErrors(validationErrors)\r\n      return\r\n    }\r\n\r\n    try {\r\n      await onSave(formData)\r\n      setHasUnsavedChanges(false)\r\n      setErrors([])\r\n    } catch (error) {\r\n      setErrors(['Failed to save evening entry. Please try again.'])\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center gap-3\">\r\n        <div className=\"p-2 bg-purple-500/20 rounded-lg\">\r\n          <Moon className=\"h-6 w-6 text-purple-500\" />\r\n        </div>\r\n        <div>\r\n          <h2 className=\"text-xl font-bold text-white\">Evening Reflection</h2>\r\n          <p className=\"text-sm text-gray-400\">Review your day and prepare for tomorrow</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Error messages */}\r\n      {errors.length > 0 && (\r\n        <div className=\"p-4 bg-red-500/20 border border-red-500/50 rounded-lg space-y-2\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <AlertCircle className=\"h-4 w-4 text-red-400\" />\r\n            <span className=\"text-sm font-medium text-red-400\">Please fix the following issues:</span>\r\n          </div>\r\n          <ul className=\"text-sm text-red-300 space-y-1\">\r\n            {errors.map((error, index) => (\r\n              <li key={index}> {error}</li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n\r\n      {/* Today's Accomplishments */}\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <CheckCircle className=\"h-4 w-4 text-green-500\" />\r\n          <label className=\"text-sm font-medium text-white\">What did I accomplish today?</label>\r\n        </div>\r\n        <textarea\r\n          value={formData.accomplishments.join('\\n')}\r\n          onChange={(e) => handleArrayFieldChange('accomplishments', e.target.value.split('\\n').filter(Boolean))}\r\n          placeholder=\"List your accomplishments from today (one per line)\"\r\n          rows={3}\r\n          className=\"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400 resize-none\"\r\n        />\r\n      </div>\r\n\r\n      {/* Challenges */}\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <AlertTriangle className=\"h-4 w-4 text-orange-500\" />\r\n          <label className=\"text-sm font-medium text-white\">What challenges did I face and how did I handle them?</label>\r\n        </div>\r\n        <textarea\r\n          value={formData.challenges.join('\\n')}\r\n          onChange={(e) => handleArrayFieldChange('challenges', e.target.value.split('\\n').filter(Boolean))}\r\n          placeholder=\"Describe challenges you faced and how you dealt with them (one per line)\"\r\n          rows={3}\r\n          className=\"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400 resize-none\"\r\n        />\r\n      </div>\r\n\r\n      {/* Learnings */}\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <Lightbulb className=\"h-4 w-4 text-yellow-500\" />\r\n          <label className=\"text-sm font-medium text-white\">What did I learn today?</label>\r\n        </div>\r\n        <textarea\r\n          value={formData.learnings.join('\\n')}\r\n          onChange={(e) => handleArrayFieldChange('learnings', e.target.value.split('\\n').filter(Boolean))}\r\n          placeholder=\"What insights, skills, or knowledge did you gain? (one per line)\"\r\n          rows={3}\r\n          className=\"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400 resize-none\"\r\n        />\r\n      </div>\r\n\r\n      {/* Tomorrow's Focus */}\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <ArrowRight className=\"h-4 w-4 text-blue-500\" />\r\n          <label className=\"text-sm font-medium text-white\">What should I focus on tomorrow?</label>\r\n        </div>\r\n        <textarea\r\n          value={formData.tomorrowFocus.join('\\n')}\r\n          onChange={(e) => handleArrayFieldChange('tomorrowFocus', e.target.value.split('\\n').filter(Boolean))}\r\n          placeholder=\"What are your key focus areas for tomorrow? (one per line)\"\r\n          rows={3}\r\n          className=\"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400 resize-none\"\r\n        />\r\n      </div>\r\n\r\n      {/* Unfinished Tasks */}\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <AlertCircle className=\"h-4 w-4 text-red-500\" />\r\n          <label className=\"text-sm font-medium text-white\">Unfinished tasks to carry over</label>\r\n        </div>\r\n        <textarea\r\n          value={formData.unfinishedTasks.join('\\n')}\r\n          onChange={(e) => handleArrayFieldChange('unfinishedTasks', e.target.value.split('\\n').filter(Boolean))}\r\n          placeholder=\"Tasks that didn't get completed today (one per line)\"\r\n          rows={2}\r\n          className=\"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400 resize-none\"\r\n        />\r\n      </div>\r\n\r\n      {/* Gratitude */}\r\n      <GratitudeList\r\n        gratitude={formData.gratitude}\r\n        onChange={(gratitude) => handleFieldChange('gratitude', gratitude)}\r\n        maxItems={3}\r\n        required\r\n      />\r\n\r\n      {/* Improvements */}\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <ArrowRight className=\"h-4 w-4 text-purple-500\" />\r\n          <label className=\"text-sm font-medium text-white\">Areas for improvement</label>\r\n        </div>\r\n        <textarea\r\n          value={formData.improvements.join('\\n')}\r\n          onChange={(e) => handleArrayFieldChange('improvements', e.target.value.split('\\n').filter(Boolean))}\r\n          placeholder=\"What could you do better or differently? (one per line)\"\r\n          rows={2}\r\n          className=\"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400 resize-none\"\r\n        />\r\n      </div>\r\n\r\n      {/* Wellness Metrics */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n        <MoodEnergySelector\r\n          label=\"Productivity\"\r\n          value={formData.productivity}\r\n          onChange={(value) => handleFieldChange('productivity', value)}\r\n          icon={<CheckCircle className=\"h-4 w-4\" />}\r\n          description=\"How productive were you today?\"\r\n          required\r\n        />\r\n        \r\n        <MoodEnergySelector\r\n          label=\"Stress Level\"\r\n          value={formData.stressLevel}\r\n          onChange={(value) => handleFieldChange('stressLevel', value)}\r\n          icon={<AlertTriangle className=\"h-4 w-4\" />}\r\n          description=\"How stressed did you feel?\"\r\n          required\r\n        />\r\n        \r\n        <MoodEnergySelector\r\n          label=\"Satisfaction\"\r\n          value={formData.satisfaction}\r\n          onChange={(value) => handleFieldChange('satisfaction', value)}\r\n          icon={<Moon className=\"h-4 w-4\" />}\r\n          description=\"How satisfied are you with today?\"\r\n          required\r\n        />\r\n      </div>\r\n\r\n      {/* Notes */}\r\n      <div className=\"space-y-3\">\r\n        <label className=\"text-sm font-medium text-white\">Additional Notes</label>\r\n        <textarea\r\n          value={formData.notes}\r\n          onChange={(e) => handleFieldChange('notes', e.target.value)}\r\n          placeholder=\"Any additional thoughts, reflections, or notes about your day...\"\r\n          rows={3}\r\n          className=\"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-400 resize-none\"\r\n        />\r\n      </div>\r\n\r\n      {/* Save Button */}\r\n      <div className=\"flex items-center justify-between pt-4 border-t border-gray-700\">\r\n        <div className=\"text-xs text-gray-500\">\r\n          {hasUnsavedChanges && ' Unsaved changes'}\r\n        </div>\r\n        <button\r\n          onClick={handleSave}\r\n          disabled={isLoading}\r\n          className=\"flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n        >\r\n          <Save className=\"h-4 w-4\" />\r\n          {isLoading ? 'Saving...' : 'Save Evening Entry'}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Evening Tips */}\r\n      <div className=\"text-xs text-gray-500 bg-gray-800/50 p-4 rounded-lg space-y-2\">\r\n        <p><strong> Evening Reflection Tips:</strong></p>\r\n        <p> Celebrate your wins, no matter how small</p>\r\n        <p> Learn from challenges without self-judgment</p>\r\n        <p> Practice gratitude to end the day positively</p>\r\n        <p> Set clear intentions for tomorrow</p>\r\n      </div>\r\n    </div>\r\n  )\r\n} ","import { useEffect, useState } from 'react'\r\nimport { Calendar, ChevronLeft, ChevronRight, BookOpen } from 'lucide-react'\r\nimport { format, addDays, subDays } from 'date-fns'\r\nimport { useJournalStore, useJournalFormState, useJournalLoading, useJournalError } from '../store'\r\nimport { getCurrentDateString, formatJournalDate } from '../utils/journalHelpers'\r\nimport { MorningEntry, EveningEntry } from '../types'\r\nimport MorningStandup from '../components/MorningStandup'\r\nimport EveningReflection from '../components/EveningReflection'\r\n\r\nexport default function JournalPage() {\r\n  const {\r\n    loadEntries,\r\n    getEntryByDate,\r\n    createOrUpdateMorningEntry,\r\n    createOrUpdateEveningEntry,\r\n    setSelectedDate,\r\n    setActiveTab,\r\n    clearError,\r\n  } = useJournalStore()\r\n\r\n  const formState = useJournalFormState()\r\n  const isLoading = useJournalLoading()\r\n  const error = useJournalError()\r\n\r\n  const [isInitialized, setIsInitialized] = useState(false)\r\n\r\n  // Load entries on mount\r\n  useEffect(() => {\r\n    const initializeJournal = async () => {\r\n      await loadEntries()\r\n      setIsInitialized(true)\r\n    }\r\n    initializeJournal()\r\n  }, [loadEntries])\r\n\r\n  // Get current entry for selected date\r\n  const currentEntry = getEntryByDate(formState.selectedDate)\r\n\r\n  // Date navigation\r\n  const handlePreviousDay = () => {\r\n    const prevDate = format(subDays(new Date(formState.selectedDate), 1), 'yyyy-MM-dd')\r\n    setSelectedDate(prevDate)\r\n  }\r\n\r\n  const handleNextDay = () => {\r\n    const nextDate = format(addDays(new Date(formState.selectedDate), 1), 'yyyy-MM-dd')\r\n    setSelectedDate(nextDate)\r\n  }\r\n\r\n  const handleToday = () => {\r\n    setSelectedDate(getCurrentDateString())\r\n  }\r\n\r\n  // Check if selected date is today\r\n  const isToday = formState.selectedDate === getCurrentDateString()\r\n  const isFuture = new Date(formState.selectedDate) > new Date()\r\n\r\n  // Handle saving entries\r\n  const handleSaveMorning = async (morningEntry: MorningEntry) => {\r\n    await createOrUpdateMorningEntry(formState.selectedDate, morningEntry)\r\n  }\r\n\r\n  const handleSaveEvening = async (eveningEntry: EveningEntry) => {\r\n    await createOrUpdateEveningEntry(formState.selectedDate, eveningEntry)\r\n  }\r\n\r\n  if (!isInitialized) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-900 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500 mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-400\">Loading journal...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-900 pb-20 pt-16\">\r\n      <div className=\"max-w-4xl mx-auto px-4 py-6\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center gap-3 mb-6\">\r\n          <div className=\"p-2 bg-blue-500/20 rounded-lg\">\r\n            <BookOpen className=\"h-6 w-6 text-blue-500\" />\r\n          </div>\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold text-white\">Daily Journal</h1>\r\n            <p className=\"text-sm text-gray-400\">Reflect, plan, and grow every day</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Error Display */}\r\n        {error && (\r\n          <div className=\"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-lg\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <span className=\"text-red-400\">{error}</span>\r\n              <button\r\n                onClick={clearError}\r\n                className=\"text-red-400 hover:text-red-300 text-sm\"\r\n              >\r\n                Dismiss\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Date Navigation */}\r\n        <div className=\"bg-gray-800 rounded-lg p-4 mb-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <button\r\n              onClick={handlePreviousDay}\r\n              className=\"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition-colors\"\r\n            >\r\n              <ChevronLeft className=\"h-5 w-5\" />\r\n            </button>\r\n\r\n            <div className=\"flex items-center gap-4\">\r\n              <div className=\"text-center\">\r\n                <div className=\"flex items-center gap-2 text-white font-medium\">\r\n                  <Calendar className=\"h-4 w-4 text-green-500\" />\r\n                  {formatJournalDate(formState.selectedDate)}\r\n                </div>\r\n                <div className=\"text-xs text-gray-400 mt-1\">\r\n                  {format(new Date(formState.selectedDate), 'EEEE')}\r\n                </div>\r\n              </div>\r\n\r\n              {!isToday && (\r\n                <button\r\n                  onClick={handleToday}\r\n                  className=\"px-3 py-1 bg-green-600 text-white text-xs rounded-lg hover:bg-green-700 transition-colors\"\r\n                >\r\n                  Today\r\n                </button>\r\n              )}\r\n            </div>\r\n\r\n            <button\r\n              onClick={handleNextDay}\r\n              disabled={isFuture}\r\n              className=\"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              <ChevronRight className=\"h-5 w-5\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Entry Status */}\r\n        <div className=\"bg-gray-800 rounded-lg p-4 mb-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"text-sm text-gray-400\">\r\n              Entry Status for {formatJournalDate(formState.selectedDate)}\r\n            </div>\r\n            <div className=\"flex gap-2\">\r\n              <div className={`px-2 py-1 rounded-full text-xs ${\r\n                currentEntry?.morningEntry \r\n                  ? 'bg-green-500/20 text-green-400' \r\n                  : 'bg-gray-600/20 text-gray-500'\r\n              }`}>\r\n                Morning {currentEntry?.morningEntry ? '' : ''}\r\n              </div>\r\n              <div className={`px-2 py-1 rounded-full text-xs ${\r\n                currentEntry?.eveningEntry \r\n                  ? 'bg-purple-500/20 text-purple-400' \r\n                  : 'bg-gray-600/20 text-gray-500'\r\n              }`}>\r\n                Evening {currentEntry?.eveningEntry ? '' : ''}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tab Navigation */}\r\n        <div className=\"flex bg-gray-800 rounded-lg p-1 mb-6\">\r\n          <button\r\n            onClick={() => setActiveTab('morning')}\r\n            className={`flex-1 py-3 px-4 rounded-lg text-sm font-medium transition-colors ${\r\n              formState.activeTab === 'morning'\r\n                ? 'bg-yellow-500/20 text-yellow-400'\r\n                : 'text-gray-400 hover:text-white'\r\n            }`}\r\n          >\r\n             Morning Standup\r\n          </button>\r\n          <button\r\n            onClick={() => setActiveTab('evening')}\r\n            className={`flex-1 py-3 px-4 rounded-lg text-sm font-medium transition-colors ${\r\n              formState.activeTab === 'evening'\r\n                ? 'bg-purple-500/20 text-purple-400'\r\n                : 'text-gray-400 hover:text-white'\r\n            }`}\r\n          >\r\n             Evening Reflection\r\n          </button>\r\n        </div>\r\n\r\n        {/* Future Date Warning */}\r\n        {isFuture && (\r\n          <div className=\"bg-yellow-500/20 border border-yellow-500/50 rounded-lg p-4 mb-6\">\r\n            <p className=\"text-yellow-400 text-sm\">\r\n               You're viewing a future date. Journal entries are typically made for today or past dates.\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Journal Content */}\r\n        <div className=\"bg-gray-800 rounded-lg p-6\">\r\n          {formState.activeTab === 'morning' ? (\r\n            <MorningStandup\r\n              entry={currentEntry?.morningEntry}\r\n              onSave={handleSaveMorning}\r\n              isLoading={isLoading}\r\n            />\r\n          ) : (\r\n            <EveningReflection\r\n              entry={currentEntry?.eveningEntry}\r\n              onSave={handleSaveEvening}\r\n              isLoading={isLoading}\r\n            />\r\n          )}\r\n        </div>\r\n\r\n        {/* Quick Stats */}\r\n        {currentEntry && (\r\n          <div className=\"mt-6 bg-gray-800 rounded-lg p-4\">\r\n            <h3 className=\"text-sm font-medium text-white mb-3\">Entry Summary</h3>\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-center\">\r\n              {currentEntry.morningEntry && (\r\n                <>\r\n                  <div>\r\n                    <div className=\"text-lg font-bold text-yellow-400\">\r\n                      {currentEntry.morningEntry.mood}/5\r\n                    </div>\r\n                    <div className=\"text-xs text-gray-400\">Morning Mood</div>\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"text-lg font-bold text-blue-400\">\r\n                      {currentEntry.morningEntry.energy}/5\r\n                    </div>\r\n                    <div className=\"text-xs text-gray-400\">Energy Level</div>\r\n                  </div>\r\n                </>\r\n              )}\r\n              {currentEntry.eveningEntry && (\r\n                <>\r\n                  <div>\r\n                    <div className=\"text-lg font-bold text-green-400\">\r\n                      {currentEntry.eveningEntry.productivity}/5\r\n                    </div>\r\n                    <div className=\"text-xs text-gray-400\">Productivity</div>\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"text-lg font-bold text-purple-400\">\r\n                      {currentEntry.eveningEntry.satisfaction}/5\r\n                    </div>\r\n                    <div className=\"text-xs text-gray-400\">Satisfaction</div>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n} ","import React, { useState, useEffect } from 'react'\r\nimport { ChevronLeft, ChevronRight, Calendar, Mic, Zap, Brain, Target } from 'lucide-react'\r\nimport { useResponsiveBreakpoint } from '@/shared/hooks/useMobileInteractions'\r\n\r\ninterface StandupData {\r\n  date: string\r\n  yesterdayAccomplishments: string[]\r\n  yesterdayBlockers: string[]\r\n  yesterdayLessons: string\r\n  todayPriorities: Array<{ text: string; category: string; estimatedTime?: number }>\r\n  energyLevel: number\r\n  mood: string\r\n  availableHours: number\r\n  motivationLevel: number\r\n}\r\n\r\nexport const DailyJournalPage: React.FC = () => {\r\n  const [currentView, setCurrentView] = useState<'standup' | 'reflection' | 'insights'>('standup')\r\n  const [selectedDate, setSelectedDate] = useState<Date>(new Date())\r\n  const [isRecording, setIsRecording] = useState(false)\r\n  const { isMobile } = useResponsiveBreakpoint()\r\n\r\n  // Mock data for demonstration\r\n  const [standupData, setStandupData] = useState<StandupData>({\r\n    date: selectedDate.toISOString().split('T')[0],\r\n    yesterdayAccomplishments: [''],\r\n    yesterdayBlockers: [''],\r\n    yesterdayLessons: '',\r\n    todayPriorities: [{ text: '', category: 'work' }],\r\n    energyLevel: 7,\r\n    mood: '',\r\n    availableHours: 8,\r\n    motivationLevel: 7\r\n  })\r\n\r\n  // Load data on mount and date change\r\n  useEffect(() => {\r\n    loadStandupData(selectedDate.toISOString().split('T')[0])\r\n  }, [selectedDate])\r\n\r\n  // Listen for AI Chat updates\r\n  useEffect(() => {\r\n    const handleStandupUpdate = (event: CustomEvent) => {\r\n      const { date, data } = event.detail\r\n      if (date === selectedDate.toISOString().split('T')[0]) {\r\n        setStandupData(data)\r\n      }\r\n    }\r\n\r\n    window.addEventListener('standupDataUpdated', handleStandupUpdate as EventListener)\r\n    return () => {\r\n      window.removeEventListener('standupDataUpdated', handleStandupUpdate as EventListener)\r\n    }\r\n  }, [selectedDate])\r\n\r\n  const formatDate = (date: Date) => {\r\n    return date.toLocaleDateString('en-US', { \r\n      weekday: 'long', \r\n      year: 'numeric', \r\n      month: 'long', \r\n      day: 'numeric' \r\n    })\r\n  }\r\n\r\n  const navigateDate = (direction: 'prev' | 'next') => {\r\n    const newDate = new Date(selectedDate)\r\n    newDate.setDate(newDate.getDate() + (direction === 'next' ? 1 : -1))\r\n    setSelectedDate(newDate)\r\n    loadStandupData(newDate.toISOString().split('T')[0])\r\n  }\r\n\r\n  const loadStandupData = (date: string) => {\r\n    const key = `standup_${date}`\r\n    const saved = localStorage.getItem(key)\r\n    if (saved) {\r\n      const data = JSON.parse(saved)\r\n      setStandupData(data)\r\n    } else {\r\n      // Reset to defaults for new date\r\n      setStandupData({\r\n        date,\r\n        yesterdayAccomplishments: [''],\r\n        yesterdayBlockers: [''],\r\n        yesterdayLessons: '',\r\n        todayPriorities: [{ text: '', category: 'work' }],\r\n        energyLevel: 7,\r\n        mood: '',\r\n        availableHours: 8,\r\n        motivationLevel: 7\r\n      })\r\n    }\r\n  }\r\n\r\n  const saveStandupData = () => {\r\n    const key = `standup_${standupData.date}`\r\n    localStorage.setItem(key, JSON.stringify({\r\n      ...standupData,\r\n      updatedAt: new Date().toISOString()\r\n    }))\r\n  }\r\n\r\n  const handleVoiceInput = async () => {\r\n    setIsRecording(true)\r\n    try {\r\n      // Check if browser supports speech recognition\r\n      const SpeechRecognition = (window as any).SpeechRecognition || (window as any).webkitSpeechRecognition\r\n      if (!SpeechRecognition) {\r\n        alert('Speech recognition not supported in this browser. Please use the AI Chat to fill your standup via voice.')\r\n        setIsRecording(false)\r\n        return\r\n      }\r\n\r\n      const recognition = new SpeechRecognition()\r\n      recognition.continuous = true\r\n      recognition.interimResults = false\r\n      recognition.lang = 'en-US'\r\n\r\n      recognition.onresult = (event: any) => {\r\n        const transcript = event.results[event.results.length - 1][0].transcript\r\n        \r\n        // Show guidance to user about using AI Chat\r\n        alert(`Voice captured: \"${transcript}\"\\n\\nFor better results, go to AI Chat and say:\\n\"Fill my standup form with: ${transcript}\"`)\r\n        \r\n        setIsRecording(false)\r\n      }\r\n\r\n      recognition.onerror = () => {\r\n        alert('Speech recognition error. Please try the AI Chat for voice input.')\r\n        setIsRecording(false)\r\n      }\r\n\r\n      recognition.start()\r\n      \r\n      // Auto-stop after 10 seconds\r\n      setTimeout(() => {\r\n        recognition.stop()\r\n        setIsRecording(false)\r\n      }, 10000)\r\n      \r\n    } catch (error) {\r\n      alert('Voice input error. Please use the AI Chat to fill your standup via voice.')\r\n      setIsRecording(false)\r\n    }\r\n  }\r\n\r\n  const addPriority = () => {\r\n    setStandupData(prev => ({\r\n      ...prev,\r\n      todayPriorities: [...prev.todayPriorities, { text: '', category: 'work' }]\r\n    }))\r\n  }\r\n\r\n  const updatePriority = (index: number, field: 'text' | 'category', value: string) => {\r\n    setStandupData(prev => ({\r\n      ...prev,\r\n      todayPriorities: prev.todayPriorities.map((priority, i) => \r\n        i === index ? { ...priority, [field]: value } : priority\r\n      )\r\n    }))\r\n  }\r\n\r\n  const NavTab = ({ view, icon: Icon, label, isActive }: { \r\n    view: typeof currentView, \r\n    icon: React.ElementType, \r\n    label: string, \r\n    isActive: boolean \r\n  }) => (\r\n    <button\r\n      onClick={() => setCurrentView(view)}\r\n      className={`flex items-center gap-2 px-4 py-2 rounded-lg font-mono text-sm transition-all duration-200 ${\r\n        isActive\r\n          ? 'bg-ki-green text-black border border-ki-green shadow-lg shadow-ki-green/20'\r\n          : 'bg-gray-800 text-gray-300 border border-gray-700 hover:border-ki-green/50 hover:text-ki-green'\r\n      }`}\r\n    >\r\n      <Icon className=\"h-4 w-4\" />\r\n      <span className={isMobile ? 'hidden' : 'block'}>{label}</span>\r\n    </button>\r\n  )\r\n\r\n  return (\r\n    <div className={`container mx-auto px-4 pb-24 pt-4 mobile-safe-area ${isMobile ? 'mobile-layout' : ''}`}>\r\n      {/* Cyber-styled header */}\r\n      <div className=\"mb-6 sm:mb-8\">\r\n        <h1 className=\"cyber-title gradient-text-ki mb-2 text-xl sm:text-2xl\">DAILY STANDUP PROTOCOL</h1>\r\n        <p className=\"font-mono text-sm text-gray-400\">\r\n          Mission Planning & Reflection Interface\r\n        </p>\r\n      </div>\r\n\r\n      {/* Date Navigation */}\r\n      <div className=\"mb-6 bg-gray-900 rounded-xl border border-gray-700 p-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <button\r\n            onClick={() => navigateDate('prev')}\r\n            className=\"p-2 rounded-lg bg-gray-800 border border-gray-700 text-gray-300 hover:border-ki-green/50 hover:text-ki-green transition-colors\"\r\n          >\r\n            <ChevronLeft className=\"h-5 w-5\" />\r\n          </button>\r\n          \r\n          <div className=\"flex items-center gap-3\">\r\n            <Calendar className=\"h-5 w-5 text-ki-green\" />\r\n            <div className=\"text-center\">\r\n              <div className=\"font-mono text-ki-green text-lg\">\r\n                {formatDate(selectedDate)}\r\n              </div>\r\n              <div className=\"text-xs text-gray-400 font-mono\">\r\n                {selectedDate.toISOString().split('T')[0]}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <button\r\n            onClick={() => navigateDate('next')}\r\n            className=\"p-2 rounded-lg bg-gray-800 border border-gray-700 text-gray-300 hover:border-ki-green/50 hover:text-ki-green transition-colors\"\r\n          >\r\n            <ChevronRight className=\"h-5 w-5\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Navigation Tabs */}\r\n      <div className=\"mb-6 flex gap-2 overflow-x-auto\">\r\n        <NavTab view=\"standup\" icon={Target} label=\"STANDUP\" isActive={currentView === 'standup'} />\r\n        <NavTab view=\"reflection\" icon={Brain} label=\"REFLECTION\" isActive={currentView === 'reflection'} />\r\n        <NavTab view=\"insights\" icon={Zap} label=\"INSIGHTS\" isActive={currentView === 'insights'} />\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"space-y-6\">\r\n        {currentView === 'standup' && (\r\n          <div className=\"bg-gray-900 rounded-xl border border-gray-700 overflow-hidden\">\r\n            {/* Header with voice input */}\r\n            <div className=\"border-b border-gray-700 p-4 bg-gray-800/50\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h2 className=\"font-mono text-ki-green text-lg\">MORNING STANDUP</h2>\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className=\"text-xs text-gray-400 font-mono text-right hidden sm:block\">\r\n                     Use AI Chat: \"Fill my standup form\"\r\n                  </div>\r\n                  <button\r\n                    onClick={handleVoiceInput}\r\n                    disabled={isRecording}\r\n                    className={`flex items-center gap-2 px-4 py-2 rounded-lg font-mono text-sm transition-all ${\r\n                      isRecording\r\n                        ? 'bg-red-600 text-white animate-pulse'\r\n                        : 'bg-ki-green text-black hover:bg-ki-green/90'\r\n                    }`}\r\n                  >\r\n                    <Mic className=\"h-4 w-4\" />\r\n                    {isRecording ? 'RECORDING...' : 'VOICE INPUT'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"p-6 space-y-8\">\r\n              {/* Yesterday's Review */}\r\n              <div className=\"space-y-4\">\r\n                <h3 className=\"font-mono text-gray-300 text-sm border-l-2 border-ki-green pl-3\">\r\n                  YESTERDAY'S MISSION REPORT\r\n                </h3>\r\n                \r\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-mono text-gray-400 mb-2\">\r\n                      ACCOMPLISHMENTS\r\n                    </label>\r\n                    <textarea \r\n                      className=\"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg text-gray-100 font-mono text-sm focus:outline-none focus:border-ki-green focus:ring-1 focus:ring-ki-green/50 resize-none\"\r\n                      rows={4}\r\n                      placeholder=\"What objectives were completed...\"\r\n                      value={standupData.yesterdayAccomplishments[0] || ''}\r\n                      onChange={(e) => setStandupData(prev => ({\r\n                        ...prev,\r\n                        yesterdayAccomplishments: [e.target.value]\r\n                      }))}\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div>\r\n                    <label className=\"block text-sm font-mono text-gray-400 mb-2\">\r\n                      BLOCKERS & OBSTACLES\r\n                    </label>\r\n                    <textarea \r\n                      className=\"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg text-gray-100 font-mono text-sm focus:outline-none focus:border-ki-green focus:ring-1 focus:ring-ki-green/50 resize-none\"\r\n                      rows={4}\r\n                      placeholder=\"What prevented progress...\"\r\n                      value={standupData.yesterdayBlockers[0] || ''}\r\n                      onChange={(e) => setStandupData(prev => ({\r\n                        ...prev,\r\n                        yesterdayBlockers: [e.target.value]\r\n                      }))}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-mono text-gray-400 mb-2\">\r\n                    KEY LEARNINGS\r\n                  </label>\r\n                  <textarea \r\n                    className=\"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg text-gray-100 font-mono text-sm focus:outline-none focus:border-ki-green focus:ring-1 focus:ring-ki-green/50 resize-none\"\r\n                    rows={2}\r\n                    placeholder=\"Insights gained from yesterday's operations...\"\r\n                    value={standupData.yesterdayLessons}\r\n                    onChange={(e) => setStandupData(prev => ({\r\n                      ...prev,\r\n                      yesterdayLessons: e.target.value\r\n                    }))}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Today's Status */}\r\n              <div className=\"space-y-4\">\r\n                <h3 className=\"font-mono text-gray-300 text-sm border-l-2 border-ki-green pl-3\">\r\n                  TODAY'S MISSION STATUS\r\n                </h3>\r\n                \r\n                <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-mono text-gray-400 mb-2\">\r\n                      ENERGY LEVEL: {standupData.energyLevel}/10\r\n                    </label>\r\n                    <input \r\n                      type=\"range\" \r\n                      min=\"1\" \r\n                      max=\"10\" \r\n                      value={standupData.energyLevel}\r\n                      onChange={(e) => setStandupData(prev => ({\r\n                        ...prev,\r\n                        energyLevel: parseInt(e.target.value)\r\n                      }))}\r\n                      className=\"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider\"\r\n                    />\r\n                    <div className=\"flex justify-between text-xs text-gray-500 font-mono mt-1\">\r\n                      <span>LOW</span>\r\n                      <span>OPTIMAL</span>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div>\r\n                    <label className=\"block text-sm font-mono text-gray-400 mb-2\">\r\n                      CURRENT MOOD\r\n                    </label>\r\n                    <select \r\n                      className=\"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg text-gray-100 font-mono text-sm focus:outline-none focus:border-ki-green focus:ring-1 focus:ring-ki-green/50\"\r\n                      value={standupData.mood}\r\n                      onChange={(e) => setStandupData(prev => ({\r\n                        ...prev,\r\n                        mood: e.target.value\r\n                      }))}\r\n                    >\r\n                      <option value=\"\">SELECT MOOD</option>\r\n                      <option value=\"optimistic\"> OPTIMISTIC</option>\r\n                      <option value=\"focused\"> FOCUSED</option>\r\n                      <option value=\"energetic\"> ENERGETIC</option>\r\n                      <option value=\"calm\"> CALM</option>\r\n                      <option value=\"neutral\"> NEUTRAL</option>\r\n                      <option value=\"tired\"> TIRED</option>\r\n                      <option value=\"stressed\"> STRESSED</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-mono text-gray-400 mb-2\">\r\n                      AVAILABLE HOURS: {standupData.availableHours}h\r\n                    </label>\r\n                    <input \r\n                      type=\"range\" \r\n                      min=\"1\" \r\n                      max=\"16\" \r\n                      value={standupData.availableHours}\r\n                      onChange={(e) => setStandupData(prev => ({\r\n                        ...prev,\r\n                        availableHours: parseInt(e.target.value)\r\n                      }))}\r\n                      className=\"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider\"\r\n                    />\r\n                    <div className=\"flex justify-between text-xs text-gray-500 font-mono mt-1\">\r\n                      <span>1h</span>\r\n                      <span>16h</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Today's Priorities */}\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <h3 className=\"font-mono text-gray-300 text-sm border-l-2 border-ki-green pl-3\">\r\n                    TODAY'S PRIORITY OBJECTIVES\r\n                  </h3>\r\n                  <button\r\n                    onClick={addPriority}\r\n                    className=\"px-3 py-1 bg-ki-green text-black rounded font-mono text-xs hover:bg-ki-green/90 transition-colors\"\r\n                  >\r\n                    + ADD\r\n                  </button>\r\n                </div>\r\n                \r\n                <div className=\"space-y-3\">\r\n                  {standupData.todayPriorities.map((priority, index) => (\r\n                    <div key={index} className=\"flex gap-3\">\r\n                      <div className=\"flex-1\">\r\n                        <input \r\n                          type=\"text\" \r\n                          className=\"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg text-gray-100 font-mono text-sm focus:outline-none focus:border-ki-green focus:ring-1 focus:ring-ki-green/50\"\r\n                          placeholder={`Priority ${index + 1}: Define objective...`}\r\n                          value={priority.text}\r\n                          onChange={(e) => updatePriority(index, 'text', e.target.value)}\r\n                        />\r\n                      </div>\r\n                      <select \r\n                        className=\"px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg text-gray-100 font-mono text-sm focus:outline-none focus:border-ki-green focus:ring-1 focus:ring-ki-green/50\"\r\n                        value={priority.category}\r\n                        onChange={(e) => updatePriority(index, 'category', e.target.value)}\r\n                      >\r\n                        <option value=\"work\">WORK</option>\r\n                        <option value=\"personal\">PERSONAL</option>\r\n                        <option value=\"health\">HEALTH</option>\r\n                        <option value=\"learning\">LEARNING</option>\r\n                        <option value=\"other\">OTHER</option>\r\n                      </select>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Action Footer */}\r\n            <div className=\"border-t border-gray-700 p-4 bg-gray-800/50\">\r\n              <div className=\"flex justify-end gap-3\">\r\n                <button \r\n                  onClick={saveStandupData}\r\n                  className=\"px-6 py-3 bg-gray-700 text-gray-300 rounded-lg font-mono text-sm hover:bg-gray-600 transition-colors\"\r\n                >\r\n                  SAVE DRAFT\r\n                </button>\r\n                <button \r\n                  onClick={() => {\r\n                    saveStandupData()\r\n                    alert(' Mission initiated! Your standup has been saved and you\\'re ready to tackle the day!')\r\n                  }}\r\n                  className=\"px-6 py-3 bg-ki-green text-black rounded-lg font-mono text-sm hover:bg-ki-green/90 transition-colors\"\r\n                >\r\n                  INITIATE MISSION \r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {currentView === 'reflection' && (\r\n          <div className=\"bg-gray-900 rounded-xl border border-gray-700 p-6\">\r\n            <h2 className=\"font-mono text-ki-green text-lg mb-6\">EVENING REFLECTION</h2>\r\n            <div className=\"text-center text-gray-400 font-mono\">\r\n              Evening reflection interface will be implemented next...\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {currentView === 'insights' && (\r\n          <div className=\"bg-gray-900 rounded-xl border border-gray-700 p-6\">\r\n            <h2 className=\"font-mono text-ki-green text-lg mb-6\">AI INSIGHTS</h2>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div className=\"bg-gray-800 p-4 rounded-lg border border-gray-600\">\r\n                <h3 className=\"font-mono text-ki-green text-sm mb-2\">\r\n                   PRODUCTIVITY ANALYSIS\r\n                </h3>\r\n                <p className=\"text-gray-300 text-sm\">Score: 7.8/10 (+0.5 vs avg)</p>\r\n                <p className=\"text-gray-400 text-xs\">Goal Progress: 3 objectives advanced</p>\r\n              </div>\r\n              \r\n              <div className=\"bg-gray-800 p-4 rounded-lg border border-gray-600\">\r\n                <h3 className=\"font-mono text-ki-green text-sm mb-2\">\r\n                   AI RECOMMENDATIONS\r\n                </h3>\r\n                <ul className=\"text-gray-300 text-xs space-y-1\">\r\n                  <li> Schedule deep work during 10-12 AM</li>\r\n                  <li> Break large tasks into 25-min chunks</li>\r\n                  <li> Your focus peaks after morning exercise</li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n} ","\r\nimport { ChatInterface } from '../components/ChatInterface'\r\nimport { MessageCircle, ArrowLeft, Shield, AlertTriangle } from 'lucide-react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useState } from 'react'\r\n\r\nexport function ChatPage() {\r\n  const navigate = useNavigate()\r\n  const [showSecurityNotice] = useState(true)\r\n  \r\n  // Use the showSecurityNotice variable to avoid unused variable error\r\n  console.debug('Security notice state:', showSecurityNotice)\r\n\r\n  // Check if AI chat is available (API key configured securely)\r\n  const isAiChatAvailable = import.meta.env.VITE_AI_CHAT_ENABLED === 'true' && \r\n                           import.meta.env.VITE_OPENAI_API_KEY && \r\n                           import.meta.env.VITE_APP_ENV !== 'production'\r\n\r\n  if (!isAiChatAvailable) {\r\n    return (\r\n      <div className=\"h-screen flex flex-col bg-gray-50 dark:bg-gray-900\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <button\r\n              onClick={() => navigate(-1)}\r\n              className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\r\n              aria-label=\"Go back\"\r\n            >\r\n              <ArrowLeft className=\"w-5 h-5 text-gray-600 dark:text-gray-400\" />\r\n            </button>\r\n            <div className=\"flex items-center gap-2\">\r\n              <Shield className=\"w-6 h-6 text-amber-500\" />\r\n              <h1 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\r\n                AI Chat - Security Notice\r\n              </h1>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Security Notice */}\r\n        <div className=\"flex-1 flex items-center justify-center p-6\">\r\n          <div className=\"max-w-md w-full bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700\">\r\n            <div className=\"text-center\">\r\n              <div className=\"w-16 h-16 bg-amber-100 dark:bg-amber-900/20 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                <AlertTriangle className=\"w-8 h-8 text-amber-600 dark:text-amber-400\" />\r\n              </div>\r\n              \r\n              <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-3\">\r\n                AI Chat Temporarily Disabled\r\n              </h2>\r\n              \r\n              <p className=\"text-gray-600 dark:text-gray-400 mb-6\">\r\n                For security reasons, AI chat functionality has been disabled in this public deployment. \r\n                API keys cannot be safely exposed in client-side applications.\r\n              </p>\r\n              \r\n              <div className=\"space-y-3 text-sm text-gray-500 dark:text-gray-500\">\r\n                <p> All other app features are fully functional</p>\r\n                <p> Your data remains private and secure</p>\r\n                <p> Todo lists, weight tracking, and notes work offline</p>\r\n              </div>\r\n              \r\n              <button\r\n                onClick={() => navigate('/dashboard')}\r\n                className=\"mt-6 w-full bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-lg transition-colors\"\r\n              >\r\n                Continue to Dashboard\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"h-screen flex flex-col bg-gray-50 dark:bg-gray-900\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <button\r\n            onClick={() => navigate(-1)}\r\n            className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\r\n            aria-label=\"Go back\"\r\n          >\r\n            <ArrowLeft className=\"w-5 h-5 text-gray-600 dark:text-gray-400\" />\r\n          </button>\r\n          <div className=\"flex items-center gap-2\">\r\n            <MessageCircle className=\"w-6 h-6 text-blue-500\" />\r\n            <h1 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\r\n              AI Fitness Coach\r\n            </h1>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"flex items-center gap-2\">\r\n          <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\r\n          <span className=\"text-sm text-gray-600 dark:text-gray-400\">Online</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Chat Interface */}\r\n      <div className=\"flex-1 overflow-hidden\">\r\n        <ChatInterface />\r\n      </div>\r\n    </div>\r\n  )\r\n} ","// src/modules/ai-chat/services/TextToSpeechService.ts\r\n\r\ninterface TTSConfig {\r\n  apiKey: string\r\n  model?: 'tts-1' | 'tts-1-hd'\r\n  voice?: 'alloy' | 'echo' | 'fable' | 'onyx' | 'nova' | 'shimmer'\r\n  speed?: number\r\n}\r\n\r\ninterface TTSResult {\r\n  success: boolean\r\n  audioUrl?: string\r\n  error?: string\r\n  audioBuffer?: ArrayBuffer\r\n}\r\n\r\nexport class TextToSpeechService {\r\n  private apiKey: string\r\n  private model: string\r\n  private voice: string\r\n  private speed: number\r\n  private audioCache = new Map<string, string>()\r\n  private currentAudio: HTMLAudioElement | null = null\r\n\r\n  constructor(config: TTSConfig) {\r\n    this.apiKey = config.apiKey\r\n    this.model = config.model || 'tts-1'\r\n    this.voice = config.voice || 'alloy'\r\n    this.speed = config.speed || 1.0\r\n  }\r\n\r\n  /**\r\n   * Convert text to speech using OpenAI's TTS API\r\n   */\r\n  async textToSpeech(text: string): Promise<TTSResult> {\r\n    try {\r\n      // Check cache first\r\n      const cacheKey = this.getCacheKey(text)\r\n      if (this.audioCache.has(cacheKey)) {\r\n        return {\r\n          success: true,\r\n          audioUrl: this.audioCache.get(cacheKey)!\r\n        }\r\n      }\r\n\r\n      // Validate inputs\r\n      if (!text.trim()) {\r\n        return { success: false, error: 'No text provided' }\r\n      }\r\n\r\n      if (!this.apiKey) {\r\n        return { success: false, error: 'OpenAI API key not configured' }\r\n      }\r\n\r\n      // Clean text for TTS (remove markdown, excessive whitespace)\r\n      const cleanText = this.cleanTextForTTS(text)\r\n      \r\n      if (cleanText.length > 4096) {\r\n        return { success: false, error: 'Text too long (max 4096 characters)' }\r\n      }\r\n\r\n      // Make API request\r\n      const response = await fetch('https://api.openai.com/v1/audio/speech', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${this.apiKey}`,\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          model: this.model,\r\n          input: cleanText,\r\n          voice: this.voice,\r\n          speed: this.speed,\r\n          response_format: 'mp3'\r\n        }),\r\n      })\r\n\r\n      if (!response.ok) {\r\n        const errorText = await response.text()\r\n        throw new Error(`TTS API error: ${response.status} - ${errorText}`)\r\n      }\r\n\r\n      // Convert response to audio blob\r\n      const audioBuffer = await response.arrayBuffer()\r\n      const audioBlob = new Blob([audioBuffer], { type: 'audio/mpeg' })\r\n      const audioUrl = URL.createObjectURL(audioBlob)\r\n\r\n      // Cache the result\r\n      this.audioCache.set(cacheKey, audioUrl)\r\n\r\n      return {\r\n        success: true,\r\n        audioUrl,\r\n        audioBuffer\r\n      }\r\n    } catch (error) {\r\n      console.error('TTS error:', error)\r\n      return {\r\n        success: false,\r\n        error: error instanceof Error ? error.message : 'TTS generation failed'\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Play audio from text\r\n   */\r\n  async speak(text: string): Promise<TTSResult> {\r\n    try {\r\n      // Stop any currently playing audio\r\n      this.stop()\r\n\r\n      const result = await this.textToSpeech(text)\r\n      \r\n      if (!result.success || !result.audioUrl) {\r\n        return result\r\n      }\r\n\r\n      // Play the audio\r\n      const audio = new Audio(result.audioUrl)\r\n      this.currentAudio = audio\r\n\r\n      // Return promise that resolves when audio finishes\r\n      return new Promise((resolve) => {\r\n        audio.onended = () => {\r\n          this.currentAudio = null\r\n          resolve(result)\r\n        }\r\n\r\n        audio.onerror = () => {\r\n          this.currentAudio = null\r\n          resolve({\r\n            success: false,\r\n            error: 'Audio playback failed'\r\n          })\r\n        }\r\n\r\n        audio.play().catch((error) => {\r\n          this.currentAudio = null\r\n          resolve({\r\n            success: false,\r\n            error: `Playback error: ${error.message}`\r\n          })\r\n        })\r\n      })\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        error: error instanceof Error ? error.message : 'Speech playback failed'\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Stop current audio playback\r\n   */\r\n  stop(): void {\r\n    if (this.currentAudio) {\r\n      this.currentAudio.pause()\r\n      this.currentAudio.currentTime = 0\r\n      this.currentAudio = null\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if audio is currently playing\r\n   */\r\n  isPlaying(): boolean {\r\n    return this.currentAudio !== null && !this.currentAudio.paused\r\n  }\r\n\r\n  /**\r\n   * Clean text for optimal TTS output\r\n   */\r\n  private cleanTextForTTS(text: string): string {\r\n    return text\r\n      // Remove markdown formatting\r\n      .replace(/\\*\\*(.*?)\\*\\*/g, '$1')\r\n      .replace(/\\*(.*?)\\*/g, '$1')\r\n      .replace(/`(.*?)`/g, '$1')\r\n      .replace(/\\[(.*?)\\]\\(.*?\\)/g, '$1')\r\n      // Remove excessive whitespace\r\n      .replace(/\\s+/g, ' ')\r\n      .trim()\r\n      // Remove special characters that might cause issues\r\n      .replace(/[^\\w\\s\\.,!?;:()\\-'\"]/g, '')\r\n  }\r\n\r\n  /**\r\n   * Generate cache key for text\r\n   */\r\n  private getCacheKey(text: string): string {\r\n    const cleanText = this.cleanTextForTTS(text)\r\n    return `${this.model}-${this.voice}-${this.speed}-${btoa(cleanText).substring(0, 32)}`\r\n  }\r\n\r\n  /**\r\n   * Clear audio cache to free memory\r\n   */\r\n  clearCache(): void {\r\n    // Revoke object URLs to prevent memory leaks\r\n    this.audioCache.forEach(url => {\r\n      URL.revokeObjectURL(url)\r\n    })\r\n    this.audioCache.clear()\r\n  }\r\n\r\n  /**\r\n   * Update TTS configuration\r\n   */\r\n  updateConfig(config: Partial<TTSConfig>): void {\r\n    if (config.model) this.model = config.model\r\n    if (config.voice) this.voice = config.voice\r\n    if (config.speed !== undefined) this.speed = config.speed\r\n    if (config.apiKey) this.apiKey = config.apiKey\r\n  }\r\n\r\n  /**\r\n   * Get available voices\r\n   */\r\n  getAvailableVoices(): string[] {\r\n    return ['alloy', 'echo', 'fable', 'onyx', 'nova', 'shimmer']\r\n  }\r\n\r\n  /**\r\n   * Get current configuration\r\n   */\r\n  getConfig(): TTSConfig {\r\n    return {\r\n      apiKey: this.apiKey,\r\n      model: this.model as 'tts-1' | 'tts-1-hd',\r\n      voice: this.voice as any,\r\n      speed: this.speed\r\n    }\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const ttsService = new TextToSpeechService({\r\n  apiKey: import.meta.env.VITE_OPENAI_API_KEY || '',\r\n  model: 'tts-1',\r\n  voice: 'alloy',\r\n  speed: 1.0\r\n}) ","// src/app/routes.tsx\r\n\r\nimport { RouteObject } from 'react-router-dom'\r\nimport AppLayout from './AppLayout'\r\nimport HealthHubPage from '@/modules/health/pages/HealthHubPage'\r\nimport TodoPage from '@/modules/tasks/pages/TodoPage'\r\nimport NotesPage from '@/modules/notes/pages/NotesPage'\r\nimport DashboardPage from '@/modules/dashboard/pages/DashboardPage'\r\nimport JournalPage from '@/modules/journal/pages/JournalPage'\r\nimport { DailyJournalPage } from '@/modules/daily-journal'\r\nimport { GoalsPage } from '@/modules/goals'\r\nimport { ChatPage } from '@/modules/ai-chat'\r\nimport { authRoutes, ProtectedRoute } from '@/modules/auth'\r\n\r\nexport const appRoutes: RouteObject[] = [\r\n  // Authentication routes (public)\r\n  ...authRoutes,\r\n\r\n  // Protected app routes\r\n  {\r\n    path: '/',\r\n    element: (\r\n      <ProtectedRoute>\r\n        <AppLayout />\r\n      </ProtectedRoute>\r\n    ),\r\n    children: [\r\n      { index: true, element: <DashboardPage /> },\r\n      { path: 'dashboard', element: <DashboardPage /> },\r\n      { path: 'health', element: <HealthHubPage /> },\r\n      { path: 'todo', element: <TodoPage /> },\r\n      { path: 'goals', element: <GoalsPage /> },\r\n      { path: 'journal', element: <JournalPage /> },\r\n      { path: 'daily-standup', element: <DailyJournalPage /> },\r\n      { path: 'notes', element: <NotesPage /> },\r\n      { path: 'chat', element: <ChatPage /> },\r\n    ],\r\n  },\r\n]\r\n","import { useRoutes } from 'react-router-dom'\r\nimport { appRoutes } from './app/routes'\r\n\r\nfunction App() {\r\n  const element = useRoutes(appRoutes)\r\n  return element\r\n}\r\n\r\nexport default App\r\n","/// <reference types=\"vite-plugin-pwa/client\" />\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom/client'\r\nimport App from './App.tsx'\r\nimport './index.css'\r\nimport { initializeWeightStore } from './modules/weight'\r\nimport { initializeNotesStore } from './modules/notes'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport { killRootServiceWorker } from './shared/utils/killRootServiceWorker'\r\nimport { getSupabaseClient } from './lib/supabase-client'\r\n\r\n// Initialize Supabase client early\r\ngetSupabaseClient().catch(error => {\r\n  console.warn('Supabase initialization failed, running in offline mode:', error)\r\n})\r\n\r\n// Initialize stores after auth is ready\r\n// Note: Tasks store will initialize itself after auth check completes\r\ninitializeWeightStore()\r\ninitializeNotesStore()\r\n// initializeTasksStore() - Removed to prevent loading before auth is ready\r\n\r\n// Register service worker in both development and production for PWA testing\r\n/* Legacy manual service worker registration removed  vite-plugin-pwa now handles this automatically */\r\n\r\n// Remove any legacy root-scoped service worker that could hijack the PWA scope\r\nif (import.meta.env.PROD) {\r\n  // Fire and forget  we don't block the render.\r\n  killRootServiceWorker()\r\n}\r\n\r\nconst basename = import.meta.env.BASE_URL\r\n\r\nReactDOM.createRoot(document.getElementById('root')!).render(\r\n  <React.StrictMode>\r\n    <BrowserRouter basename={basename}>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>\r\n)\r\n"],"file":"assets/index-BToIhzLB.js"}